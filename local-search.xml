<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>å°è¯•å¼€å‘ä¸€ä¸ªç®€å•çš„MCPé¡¹ç›®</title>
    <link href="/2025/05/04/%E5%B0%9D%E8%AF%95%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84MCP%E9%A1%B9%E7%9B%AE/"/>
    <url>/2025/05/04/%E5%B0%9D%E8%AF%95%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84MCP%E9%A1%B9%E7%9B%AE/</url>
    
    <content type="html"><![CDATA[<p>æœ¬é¡¹ç›®æ—¨åœ¨æ„å»ºä¸€ä¸ªæœ¬åœ°æ™ºèƒ½èˆ†æƒ…åˆ†æç³»ç»Ÿï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€å¤„ç†ä¸å¤šå·¥å…·å†™ä½œï¼Œå®ç°ç”¨æˆ·æŸ¥è¯¢æ„å›¾çš„è‡ªåŠ¨ç†è§£ã€æ–°é—»æ£€ç´¢ã€æƒ…ç»ªåˆ†æã€ç»“æ„åŒ–è¾“å‡ºä¸é‚®ä»¶æ¨é€ã€‚</p><p>å…·ä½“æ‰§è¡Œæµç¨‹ä¾æ¬¡ä¸ºï¼šç”¨æˆ·æŸ¥è¯¢ï¼Œæå–å…³é”®è¯ï¼Œè°ƒç”¨apiæœç´¢ï¼Œè·å–æ–°é—»å‰5ç¯‡æ–‡ç« ï¼Œåˆ†ææƒ…æ„Ÿå€¾å‘ï¼Œä¿å­˜ä¸ºmdæ–‡ä»¶ï¼Œå‘é€é‚®ä»¶ã€‚</p><p>åªè€ƒè™‘MCPæœåŠ¡å™¨éƒ¨ç½²åœ¨æœ¬åœ°ï¼Œé¡¹ç›®ä½¿ç”¨pythonè¯­è¨€ç¼–å†™ï¼Œç‰ˆæœ¬ä¸º3.12ã€‚</p><p>é¡¹ç›®é“¾æ¥ï¼š<a href="https://github.com/JLQusername/make-a-simple-mcp-server">JLQusername&#x2F;make-a-simple-mcp-server: æœ¬é¡¹ç›®æ—¨åœ¨æ„å»ºä¸€ä¸ªæœ¬åœ°æ™ºèƒ½èˆ†æƒ…åˆ†æç³»ç»Ÿï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€å¤„ç†ä¸å¤šå·¥å…·å†™ä½œï¼Œå®ç°ç”¨æˆ·æŸ¥è¯¢æ„å›¾çš„è‡ªåŠ¨ç†è§£ã€æ–°é—»æ£€ç´¢ã€æƒ…ç»ªåˆ†æã€ç»“æ„åŒ–è¾“å‡ºä¸é‚®ä»¶æ¨é€ã€‚ (github.com)</a></p><h2 id="é¡¹ç›®åˆå§‹åŒ–"><a href="#é¡¹ç›®åˆå§‹åŒ–" class="headerlink" title="é¡¹ç›®åˆå§‹åŒ–"></a>é¡¹ç›®åˆå§‹åŒ–</h2><p>é¦–å…ˆå®‰è£…<code>uv</code>ï¼Œæ‰§è¡Œ<code>pip install uv</code>ï¼Œå¯ä»¥é€šè¿‡<code>uv --version</code>å’Œ<code>uvx --version</code>æ¥æ£€æµ‹ç¯å¢ƒæ˜¯å¦å®‰è£…æˆåŠŸã€‚</p><p>æ‰§è¡Œ<code>uv init é¡¹ç›®åç§°</code>ï¼Œåˆ™ä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹åç§°ä¸ºè¾“å…¥çš„é¡¹ç›®åç§°ã€‚</p><p>è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¦‚ä¸‹ï¼š</p><p><img src="https://flowertea.site/img/mcp%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%87%E4%BB%B6%E5%A4%B9.png" alt="image-20250503152946252"></p><p>ç„¶åæˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºä¸‰ä¸ªæ–‡ä»¶ï¼š<code>client.py</code>ã€<code>server.py</code>ã€<code>.env</code>ï¼Œæ¥ä¸‹æ¥ä¼šä¸»è¦å¯¹<code>client.py</code>å’Œ<code>server.py</code>è¿›è¡Œç¼–å†™ã€‚</p><h2 id="ç¯å¢ƒå‚æ•°"><a href="#ç¯å¢ƒå‚æ•°" class="headerlink" title="ç¯å¢ƒå‚æ•°"></a>ç¯å¢ƒå‚æ•°</h2><p>éœ€è¦å»é˜¿é‡Œç™¾ç‚¼å¹³å°ç”³è¯·ä¸€ä¸ªkeyï¼Œç„¶ååœ¨<code>.env</code>æ–‡ä»¶ä¸­åŠ å…¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs .env">BASE_URL=&quot;https://dashscope.aliyuncs.com/compatible-mode/v1&quot;<br>MODEL=qwq-plus<br>DASHSCOPE_API_KEY=&quot;ä½ çš„key&quot;<br><br>SERPER_API_KEY=&quot;618b99091160938bb51b5968aad7312428bbba76&quot;<br>SMTP_SERVER=å‘é€é‚®ä»¶æœåŠ¡å™¨<br>SMTP_PORT=465<br>EMAIL_USER=ä½ çš„é‚®ç®±<br>EMAIL_PASS=ä½ çš„æˆæƒç <br></code></pre></td></tr></table></figure><h2 id="client-py"><a href="#client-py" class="headerlink" title="client.py"></a>client.py</h2><p>é¦–å…ˆå¼•å…¥å¿…è¦çš„åº“ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">import</span> asyncio<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>, <span class="hljs-type">List</span><br><span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> AsyncExitStack<br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI<br><span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv<br><span class="hljs-keyword">from</span> mcp <span class="hljs-keyword">import</span> ClientSession, StdioServerParameters<br><span class="hljs-keyword">from</span> mcp.client.stdio <span class="hljs-keyword">import</span> stdio_client<br></code></pre></td></tr></table></figure><p>åŠ è½½<code>.env</code>ç¯å¢ƒå˜é‡ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs py">load_dotenv()<br></code></pre></td></tr></table></figure><h3 id="å®¢æˆ·ç«¯åˆå§‹åŒ–"><a href="#å®¢æˆ·ç«¯åˆå§‹åŒ–" class="headerlink" title="å®¢æˆ·ç«¯åˆå§‹åŒ–"></a>å®¢æˆ·ç«¯åˆå§‹åŒ–</h3><p>å»ºç«‹ä¸€ä¸ª<code>MCPClient</code>ç±»ï¼Œè¿›è¡Œåˆå§‹åŒ–ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MCPClient</span>:<br><br>    <span class="hljs-comment"># åˆå§‹åŒ–å®¢æˆ·ç«¯é…ç½®</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>.exit_stack = AsyncExitStack()<br>        <span class="hljs-variable language_">self</span>.api_key = os.getenv(<span class="hljs-string">&quot;DASHSCOPE_API_KEY&quot;</span>)<br>        <span class="hljs-variable language_">self</span>.base_url = os.getenv(<span class="hljs-string">&quot;BASE_URL&quot;</span>)<br>        <span class="hljs-variable language_">self</span>.model = os.getenv(<span class="hljs-string">&quot;MODEL&quot;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.api_key:<br>            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;âŒ DASHSCOPE_API_KEY is not setï¼Œè¯·åœ¨.envæ–‡ä»¶ä¸­è®¾ç½®&quot;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.base_url:<br>            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;âŒ BASE_URL is not setï¼Œè¯·åœ¨.envæ–‡ä»¶ä¸­è®¾ç½®&quot;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.model:<br>            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;âŒ MODEL is not setï¼Œè¯·åœ¨.envæ–‡ä»¶ä¸­è®¾ç½®&quot;</span>)<br><br>        <span class="hljs-comment"># åˆå§‹åŒ–MCPå®¢æˆ·ç«¯</span><br>        <span class="hljs-variable language_">self</span>.client = OpenAI(api_key=<span class="hljs-variable language_">self</span>.api_key, base_url=<span class="hljs-variable language_">self</span>.base_url)<br>        <span class="hljs-variable language_">self</span>.session: <span class="hljs-type">Optional</span>[ClientSession] = <span class="hljs-literal">None</span><br></code></pre></td></tr></table></figure><h3 id="å»ºç«‹è¿æ¥"><a href="#å»ºç«‹è¿æ¥" class="headerlink" title="å»ºç«‹è¿æ¥"></a>å»ºç«‹è¿æ¥</h3><p>å®¢æˆ·ç«¯åˆå§‹åŒ–åï¼Œè¦ä¸æœåŠ¡ç«¯å»ºç«‹è¿æ¥ï¼Œåœ¨<code>MCPClient</code>ä¸­å†™ä¸€ä¸ªä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥çš„å‡½æ•°ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">connect_to_server</span>(<span class="hljs-params">self, server_script_path: <span class="hljs-built_in">str</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;è¿æ¥åˆ°æœåŠ¡å™¨ å®Œæˆåˆå§‹åŒ–é˜¶æ®µ&quot;&quot;&quot;</span><br>    <span class="hljs-comment"># åˆ¤æ–­æœåŠ¡å™¨è„šæœ¬ç±»å‹</span><br>    is_py = server_script_path.endswith(<span class="hljs-string">&quot;.py&quot;</span>)<br>    is_js = server_script_path.endswith(<span class="hljs-string">&quot;.js&quot;</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> (is_py <span class="hljs-keyword">or</span> is_js):<br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;âŒ æœåŠ¡å™¨è„šæœ¬ç±»å‹é”™è¯¯ï¼Œè¯·ä½¿ç”¨.pyæˆ–.jsæ–‡ä»¶&quot;</span>)<br><br>    <span class="hljs-comment"># ç¡®å®šå¯åŠ¨å‘½ä»¤</span><br>    command = <span class="hljs-string">&quot;python&quot;</span>, server_script_path <span class="hljs-keyword">if</span> is_py <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;node&quot;</span><br><br>    <span class="hljs-comment"># æ„é€  MCP æ‰€éœ€è¦çš„æœåŠ¡å™¨å‚æ•°</span><br>    server_parameters = StdioServerParameters(<br>        command=command, args=[server_script_path], env=<span class="hljs-literal">None</span><br>    )<br><br>    <span class="hljs-comment"># å¯åŠ¨ MCP å·¥å…·æœåŠ¡è¿›ç¨‹ï¼Œå¹¶å»ºç«‹ stdio é€šä¿¡</span><br>    stdio_transport = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">self</span>.exit_stack.enter_async_context(<br>        stdio_client(server_parameters)<br>    )<br><br>    <span class="hljs-comment"># æ‹†åŒ…é€šä¿¡é€šé“ï¼Œç”¨äºè¯»å–æœåŠ¡ç«¯è¿”å›çš„æ•°æ®ï¼Œå¹¶å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚</span><br>    <span class="hljs-variable language_">self</span>.stdio, <span class="hljs-variable language_">self</span>.writer = stdio_transport<br><br>    <span class="hljs-comment"># åˆ›å»º MCP å®¢æˆ·ç«¯ä¼šè¯å¯¹è±¡</span><br>    <span class="hljs-variable language_">self</span>.session = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">self</span>.exit_stack.enter_async_context(<br>        ClientSession(<span class="hljs-variable language_">self</span>.stdio, <span class="hljs-variable language_">self</span>.writer)<br>    )<br><br>    <span class="hljs-comment"># åˆå§‹åŒ–å®¢æˆ·ç«¯ä¼šè¯</span><br>    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">self</span>.session.initialize()<br><br>    <span class="hljs-comment"># è·å–å¹¶æ‰“å°å·¥å…·åˆ—è¡¨</span><br>    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">self</span>.list_tools()<br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">list_tools</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;è¯·æ±‚å¯ç”¨å·¥å…·åˆ—è¡¨&quot;&quot;&quot;</span><br>    response = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">self</span>.session.list_tools()<br>    <span class="hljs-variable language_">self</span>.tools = [<br>        &#123;<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;function&quot;</span>,<br>            <span class="hljs-string">&quot;function&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;name&quot;</span>: tool.name,<br>                <span class="hljs-string">&quot;description&quot;</span>: tool.description,<br>                <span class="hljs-string">&quot;input_schema&quot;</span>: tool.inputSchema,<br>            &#125;,<br>        &#125;<br>        <span class="hljs-keyword">for</span> tool <span class="hljs-keyword">in</span> response.tools<br>    ]<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å·²è¿æ¥åˆ°æœåŠ¡å™¨ï¼ŒğŸ”§ å·¥å…·åˆ—è¡¨: <span class="hljs-subst">&#123;self.tools&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="å¤„ç†ç”¨æˆ·æŸ¥è¯¢"><a href="#å¤„ç†ç”¨æˆ·æŸ¥è¯¢" class="headerlink" title="å¤„ç†ç”¨æˆ·æŸ¥è¯¢"></a>å¤„ç†ç”¨æˆ·æŸ¥è¯¢</h3><p>æƒ³è¦æŠŠç»“æœè¾“å‡ºåˆ°æ–‡ä»¶ä¸­ï¼Œå°±è¦å†™ç¡®å®šè¾“å‡ºè·¯å¾„çš„å‡½æ•°ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs py">  <span class="hljs-keyword">def</span> <span class="hljs-title function_">clean_filename</span>(<span class="hljs-params">self, text: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>      <span class="hljs-string">&quot;&quot;&quot;æ¸…ç†æ–‡æœ¬ï¼Œç”Ÿæˆåˆæ³•çš„æ–‡ä»¶å&quot;&quot;&quot;</span><br>      text = text.strip()<br>      text = re.sub(<span class="hljs-string">r&quot;[\\/:*?\&quot;&lt;&gt;|]&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, text)<br>      <span class="hljs-keyword">return</span> text[:<span class="hljs-number">50</span>]<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">prepare_file_paths</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">str</span>, <span class="hljs-built_in">str</span>, <span class="hljs-built_in">str</span>]:<br>      <span class="hljs-string">&quot;&quot;&quot;å‡†å¤‡æ–‡ä»¶è·¯å¾„ç›¸å…³ä¿¡æ¯&quot;&quot;&quot;</span><br>      safe_filename = <span class="hljs-variable language_">self</span>.clean_filename(query)<br>      timestamp = datetime.now().strftime(<span class="hljs-string">&quot;%Y%m%d_%H%M%S&quot;</span>)<br><br>      <span class="hljs-comment"># å‡†å¤‡ markdown æŠ¥å‘Šè·¯å¾„</span><br>      keyword_match = re.search(<br>          <span class="hljs-string">r&quot;(å…³äº|åˆ†æ|æŸ¥è¯¢|æœç´¢|æŸ¥çœ‹)([^çš„\sï¼Œã€‚ã€ï¼Ÿ\n]+)&quot;</span>, query<br>      )<br>      keyword = keyword_match.group(<span class="hljs-number">2</span>) <span class="hljs-keyword">if</span> keyword_match <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;åˆ†æå¯¹è±¡&quot;</span><br>      safe_keyword = re.sub(<span class="hljs-string">r&#x27;[\\/:*?&quot;&lt;&gt;|]&#x27;</span>, <span class="hljs-string">&quot;&quot;</span>, keyword)[:<span class="hljs-number">20</span>]<br><br>      md_filename = <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;safe_keyword&#125;</span>_<span class="hljs-subst">&#123;timestamp&#125;</span>.md&quot;</span><br>      os.makedirs(<span class="hljs-string">&quot;./sentiment_reports&quot;</span>, exist_ok=<span class="hljs-literal">True</span>)<br>      md_path = os.path.join(<span class="hljs-string">&quot;./sentiment_reports&quot;</span>, md_filename)<br><br>      <span class="hljs-comment"># å‡†å¤‡å¯¹è¯è®°å½•è·¯å¾„</span><br>      txt_filename = <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;safe_filename&#125;</span>_<span class="hljs-subst">&#123;timestamp&#125;</span>.txt&quot;</span><br>      os.makedirs(<span class="hljs-string">&quot;./llm_outputs&quot;</span>, exist_ok=<span class="hljs-literal">True</span>)<br>      txt_path = os.path.join(<span class="hljs-string">&quot;./llm_outputs&quot;</span>, txt_filename)<br><br>      <span class="hljs-keyword">return</span> md_filename, md_path, txt_filename, txt_path<br></code></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬éœ€è¦è·å–è®¡åˆ’æ‰§è¡Œçš„å·¥å…·åˆ—è¡¨ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">plan_tool_usage</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, tools: <span class="hljs-type">List</span>[<span class="hljs-built_in">dict</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">dict</span>]:<br><span class="hljs-string">&quot;&quot;&quot;è·å–è®¡åˆ’æ‰§è¡Œçš„å·¥å…·åˆ—è¡¨&quot;&quot;&quot;</span><br><span class="hljs-comment"># æ„é€ ç³»ç»Ÿæç¤ºè¯ system_prompt</span><br><span class="hljs-comment"># å°†æ‰€æœ‰å¯ç”¨å·¥å…·ç»„ç»‡ä¸ºæ–‡æœ¬åˆ—è¡¨æ’å…¥æç¤ºä¸­ï¼Œå¹¶æ˜ç¡®æŒ‡å‡ºå·¥å…·å</span><br><span class="hljs-comment"># é™å®šè¿”å›æ ¼å¼æ˜¯ JSONï¼Œé˜²æ­¢å…¶è¾“å‡ºé”™è¯¯æ ¼å¼çš„æ•°æ®</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nğŸ“¤ æäº¤ç»™å¤§æ¨¡å‹çš„å·¥å…·å®šä¹‰:&quot;</span>)<br><span class="hljs-built_in">print</span>(json.dumps(tools, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">2</span>))<br>tool_list_text = <span class="hljs-string">&quot;\n&quot;</span>.join(<br>    [<br>        <span class="hljs-string">f&quot;- <span class="hljs-subst">&#123;tool[<span class="hljs-string">&#x27;function&#x27;</span>][<span class="hljs-string">&#x27;name&#x27;</span>]&#125;</span>: <span class="hljs-subst">&#123;tool[<span class="hljs-string">&#x27;function&#x27;</span>][<span class="hljs-string">&#x27;description&#x27;</span>]&#125;</span>&quot;</span><br>        <span class="hljs-keyword">for</span> tool <span class="hljs-keyword">in</span> tools<br>    ]<br>)<br>system_prompt = &#123;<br>    <span class="hljs-string">&quot;role&quot;</span>: <span class="hljs-string">&quot;system&quot;</span>,<br>    <span class="hljs-string">&quot;content&quot;</span>: (<br>        <span class="hljs-string">&quot;ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½ä»»åŠ¡è§„åˆ’åŠ©æ‰‹ï¼Œç”¨æˆ·ä¼šç»™å‡ºä¸€å¥è‡ªç„¶è¯­è¨€è¯·æ±‚ã€‚\n&quot;</span><br>        <span class="hljs-string">&quot;ä½ åªèƒ½ä»ä»¥ä¸‹å·¥å…·ä¸­é€‰æ‹©ï¼ˆä¸¥æ ¼ä½¿ç”¨å·¥å…·åç§°ï¼‰ï¼š\n&quot;</span><br>        <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;tool_list_text&#125;</span>\n&quot;</span><br>        <span class="hljs-string">&quot;å¦‚æœå¤šä¸ªå·¥å…·éœ€è¦ä¸²è”ï¼Œåç»­æ­¥éª¤ä¸­å¯ä»¥ä½¿ç”¨ &#123;&#123;ä¸Šä¸€æ­¥å·¥å…·å&#125;&#125; å ä½ã€‚\n&quot;</span><br>        <span class="hljs-string">&quot;è¿”å›æ ¼å¼ï¼šJSON æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡åŒ…å« name å’Œ arguments å­—æ®µã€‚\n&quot;</span><br>        <span class="hljs-string">&quot;ä¸è¦è¿”å›è‡ªç„¶è¯­è¨€ï¼Œä¸è¦ä½¿ç”¨æœªåˆ—å‡ºçš„å·¥å…·åã€‚&quot;</span><br>    ),<br>&#125;<br><br><span class="hljs-comment"># æ„é€ å¯¹è¯ä¸Šä¸‹æ–‡å¹¶è°ƒç”¨æ¨¡å‹</span><br><span class="hljs-comment"># å°†ç³»ç»Ÿæç¤ºå’Œç”¨æˆ·çš„è‡ªç„¶è¯­è¨€ä¸€èµ·ä½œä¸ºæ¶ˆæ¯è¾“å…¥ï¼Œå¹¶é€‰ç”¨å½“å‰çš„æ¨¡å‹</span><br>planning_messages = [system_prompt, &#123;<span class="hljs-string">&quot;role&quot;</span>: <span class="hljs-string">&quot;user&quot;</span>, <span class="hljs-string">&quot;content&quot;</span>: query&#125;]<br><br>response = <span class="hljs-variable language_">self</span>.client.chat.completions.create(<br>    model=<span class="hljs-variable language_">self</span>.model,<br>    messages=planning_messages,<br>    tools=tools,<br>    tool_choice=<span class="hljs-string">&quot;none&quot;</span>,<br>    stream=<span class="hljs-literal">True</span>,<br>)<br><br>content = <span class="hljs-string">&quot;&quot;</span><br><span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> response:<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(chunk, <span class="hljs-string">&quot;choices&quot;</span>) <span class="hljs-keyword">and</span> chunk.choices:<br>        delta = chunk.choices[<span class="hljs-number">0</span>].delta<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(delta, <span class="hljs-string">&quot;content&quot;</span>) <span class="hljs-keyword">and</span> delta.content:<br>            content += delta.content<br><br><span class="hljs-keyword">match</span> = re.search(<span class="hljs-string">r&quot;```(?:json)?\s*([\s\S]+?)\s*```&quot;</span>, content)<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">match</span>:<br>    json_text = <span class="hljs-keyword">match</span>.group(<span class="hljs-number">1</span>)<br><span class="hljs-keyword">else</span>:<br>    json_text = content<br><br><span class="hljs-comment"># å»é™¤ /* ... */ æ³¨é‡Š</span><br>json_text = re.sub(<span class="hljs-string">r&quot;/\*[\s\S]*?\*/&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, json_text)<br><span class="hljs-comment"># å»é™¤ // ... æ³¨é‡Š</span><br>json_text = re.sub(<span class="hljs-string">r&quot;//.*&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, json_text)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ğŸŸ¡ è§£æå‰çš„å†…å®¹: <span class="hljs-subst">&#123;<span class="hljs-built_in">repr</span>(json_text)&#125;</span>&quot;</span>)<br><br><span class="hljs-keyword">try</span>:<br>    plan = json.loads(json_text)<br>    <span class="hljs-keyword">return</span> plan <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(plan, <span class="hljs-built_in">list</span>) <span class="hljs-keyword">else</span> []<br><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;âŒ è·å–è®¡åˆ’æ‰§è¡Œçš„å·¥å…·åˆ—è¡¨å¤±è´¥: <span class="hljs-subst">&#123;e&#125;</span>\nåŸå§‹è¿”å›: <span class="hljs-subst">&#123;json_text&#125;</span>&quot;</span>)<br>    <span class="hljs-keyword">return</span> []<br></code></pre></td></tr></table></figure><p>ç„¶åä¾æ¬¡è¿›è¡Œæ‰§è¡Œå·¥å…·åˆ—è¡¨é‡Œçš„å·¥å…·ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs py">   <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">execute_tool_chain</span>(<span class="hljs-params"></span><br><span class="hljs-params">    self, query: <span class="hljs-built_in">str</span>, tool_plan: <span class="hljs-built_in">list</span>, md_path: <span class="hljs-built_in">str</span></span><br><span class="hljs-params"></span>) -&gt; <span class="hljs-built_in">list</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;æ‰§è¡Œå·¥å…·è°ƒç”¨é“¾&quot;&quot;&quot;</span><br>    tool_outputs = &#123;&#125;<br>    messages = [&#123;<span class="hljs-string">&quot;role&quot;</span>: <span class="hljs-string">&quot;user&quot;</span>, <span class="hljs-string">&quot;content&quot;</span>: query&#125;]<br><br>    <span class="hljs-keyword">for</span> step <span class="hljs-keyword">in</span> tool_plan:<br>        tool_name = step[<span class="hljs-string">&quot;name&quot;</span>]<br>        tool_args = step[<span class="hljs-string">&quot;arguments&quot;</span>]<br><br>        <span class="hljs-comment"># å¤„ç†å‚æ•°å¼•ç”¨</span><br>        <span class="hljs-variable language_">self</span>.resolve_tool_args(tool_name, tool_args, tool_outputs, md_path)<br><br>        <span class="hljs-comment"># æ‰§è¡Œå·¥å…·è°ƒç”¨</span><br>        result = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">self</span>.session.call_tool(tool_name, tool_args)<br><br>        <span class="hljs-comment"># æ›´æ–°å·¥å…·è¾“å‡º</span><br>        tool_outputs[tool_name] = result.content[<span class="hljs-number">0</span>].text<br><br>        <span class="hljs-comment"># æ·»åŠ å·¥å…·è°ƒç”¨è®°å½•</span><br>        messages.append(<br>            &#123;<br>                <span class="hljs-string">&quot;role&quot;</span>: <span class="hljs-string">&quot;assistant&quot;</span>,<br>                <span class="hljs-string">&quot;tool_call_id&quot;</span>: tool_name,<br>                <span class="hljs-string">&quot;content&quot;</span>: result.content[<span class="hljs-number">0</span>].text,<br>            &#125;<br>        )<br><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ğŸ”§ æ‰§è¡Œå·¥å…·: <span class="hljs-subst">&#123;tool_name&#125;</span>ï¼Œå‚æ•°: <span class="hljs-subst">&#123;tool_args&#125;</span>&quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ğŸ”§ å·¥å…·è¾“å‡º: <span class="hljs-subst">&#123;result.content[<span class="hljs-number">0</span>].text&#125;</span>&quot;</span>)<br><br>    <span class="hljs-keyword">return</span> messages<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">resolve_tool_args</span>(<span class="hljs-params"></span><br><span class="hljs-params">    self,</span><br><span class="hljs-params">    tool_name: <span class="hljs-built_in">str</span>,</span><br><span class="hljs-params">    tool_args: <span class="hljs-built_in">dict</span>,</span><br><span class="hljs-params">    tool_outputs: <span class="hljs-built_in">dict</span>,</span><br><span class="hljs-params">    md_filename: <span class="hljs-built_in">str</span>,</span><br><span class="hljs-params">    md_path: <span class="hljs-built_in">str</span>,</span><br><span class="hljs-params"></span>):<br>    <span class="hljs-comment"># å¤„ç†å‚æ•°å¼•ç”¨</span><br>    <span class="hljs-keyword">for</span> key, val <span class="hljs-keyword">in</span> tool_args.items():<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(val, <span class="hljs-built_in">str</span>) <span class="hljs-keyword">and</span> val.startswith(<span class="hljs-string">&quot;&#123;&#123;&quot;</span>) <span class="hljs-keyword">and</span> val.endswith(<span class="hljs-string">&quot;&#125;&#125;&quot;</span>):<br>            ref_key = val.strip(<span class="hljs-string">&quot;&#123;&#125; &quot;</span>)<br>            resolved_val = tool_outputs.get(ref_key, val)<br>            tool_args[key] = resolved_val<br><br>    <span class="hljs-comment"># æ³¨å…¥ç»Ÿä¸€çš„æ–‡ä»¶åæˆ–è·¯å¾„ï¼ˆç”¨äºåˆ†æå’Œé‚®ä»¶ï¼‰</span><br>    <span class="hljs-keyword">if</span> tool_name == <span class="hljs-string">&quot;analyze_sentiment&quot;</span> <span class="hljs-keyword">and</span> <span class="hljs-string">&quot;file_path&quot;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> tool_args:<br>        tool_args[<span class="hljs-string">&quot;file_path&quot;</span>] = md_path<br>    <span class="hljs-keyword">if</span> (<br>        tool_name == <span class="hljs-string">&quot;send_email_with_attachment&quot;</span><br>        <span class="hljs-keyword">and</span> <span class="hljs-string">&quot;attachment_path&quot;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> tool_args<br>    ):<br>        tool_args[<span class="hljs-string">&quot;attachment_path&quot;</span>] = md_path<br></code></pre></td></tr></table></figure><p>å¯ä»¥è€ƒè™‘æŠŠæœ€ç»ˆçš„å¯¹è¯è®°å½•ä¿å­˜ä¸€ä¸‹ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_final_response</span>(<span class="hljs-params">self, messages: <span class="hljs-built_in">list</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;ç”Ÿæˆæœ€ç»ˆå“åº”&quot;&quot;&quot;</span><br>    response = <span class="hljs-variable language_">self</span>.client.chat.completions.create(<br>        model=<span class="hljs-variable language_">self</span>.model,<br>        messages=messages,<br>        stream=<span class="hljs-literal">True</span>,<br>    )<br><br>    final_output = <span class="hljs-string">&quot;&quot;</span><br>    <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> response:<br>        <span class="hljs-comment"># å…¼å®¹ä¸åŒæ¨¡å‹çš„å­—æ®µå</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(chunk, <span class="hljs-string">&quot;choices&quot;</span>) <span class="hljs-keyword">and</span> chunk.choices:<br>            delta = chunk.choices[<span class="hljs-number">0</span>].delta<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(delta, <span class="hljs-string">&quot;content&quot;</span>) <span class="hljs-keyword">and</span> delta.content:<br>                final_output += delta.content<br><br>    <span class="hljs-keyword">return</span> final_output<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">save_conversation</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, final_output: <span class="hljs-built_in">str</span>, file_path: <span class="hljs-built_in">str</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;ä¿å­˜å¯¹è¯è®°å½•&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_path, <span class="hljs-string">&quot;w&quot;</span>, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(<span class="hljs-string">f&quot;ğŸ¤µ ç”¨æˆ·æé—®ï¼š<span class="hljs-subst">&#123;query&#125;</span>\n\n&quot;</span>)<br>        f.write(<span class="hljs-string">f&quot;ğŸ¤– æ¨¡å‹å›å¤ï¼š\n<span class="hljs-subst">&#123;final_output&#125;</span>\n&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ğŸ“„ å¯¹è¯è®°å½•å·²ä¿å­˜ä¸ºï¼š<span class="hljs-subst">&#123;file_path&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><p>æ•´åˆæˆå¤„ç†ç”¨æˆ·æŸ¥è¯¢çš„ä¸»æµç¨‹çš„å‡½æ•°ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_query</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>       <span class="hljs-string">&quot;&quot;&quot;å¤„ç†ç”¨æˆ·æŸ¥è¯¢çš„ä¸»æµç¨‹&quot;&quot;&quot;</span><br>       <span class="hljs-comment"># å‡†å¤‡æ–‡ä»¶è·¯å¾„</span><br>       md_filename, md_path, txt_filename, txt_path = <span class="hljs-variable language_">self</span>.prepare_file_paths(query)<br><br>       <span class="hljs-comment"># æ›´æ–°æŸ¥è¯¢ï¼Œæ·»åŠ æ–‡ä»¶ä¿¡æ¯</span><br>       query = query.strip() + <span class="hljs-string">f&quot; [md_filename=<span class="hljs-subst">&#123;md_filename&#125;</span>] [md_path=<span class="hljs-subst">&#123;md_path&#125;</span>]&quot;</span><br><br>       <span class="hljs-comment"># è·å–å·¥å…·è°ƒç”¨è®¡åˆ’</span><br>       tool_plan = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">self</span>.plan_tool_usage(query, <span class="hljs-variable language_">self</span>.tools)<br><br>       <span class="hljs-comment"># æ‰§è¡Œå·¥å…·è°ƒç”¨é“¾</span><br>       messages = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">self</span>.execute_tool_chain(query, tool_plan, md_filename, md_path)<br><br>       <span class="hljs-comment"># ç”Ÿæˆæœ€ç»ˆå“åº”</span><br>       final_output = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">self</span>.generate_final_response(messages)<br><br>       <span class="hljs-comment"># ä¿å­˜å¯¹è¯è®°å½•</span><br>       <span class="hljs-variable language_">self</span>.save_conversation(query, final_output, txt_path)<br><br>       <span class="hljs-keyword">return</span> final_output<br></code></pre></td></tr></table></figure><h3 id="å¯¹è¯å…¥å£"><a href="#å¯¹è¯å…¥å£" class="headerlink" title="å¯¹è¯å…¥å£"></a>å¯¹è¯å…¥å£</h3><p>æƒ³è¦å’ŒLLMè¿›è¡Œå¯¹è¯ï¼Œå¿…é¡»å¾—æœ‰ä¸ªå…¥å£ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">chat_loop</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-comment"># åˆå§‹åŒ–æç¤ºä¿¡æ¯</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nğŸ¤–èŠ±æœèŒ¶ MCP å®¢æˆ·ç«¯å·²å¯åŠ¨ï¼è¾“å…¥ &#x27;quit&#x27; é€€å‡º&quot;</span>)<br><br>    <span class="hljs-comment"># è¿›å…¥ä¸»å¾ªç¯ä¸­ç­‰å¾…ç”¨æˆ·è¾“å…¥</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-keyword">try</span>:<br>            query = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;\nä½ : &quot;</span>).strip()<br>            <span class="hljs-keyword">if</span> query.lower() == <span class="hljs-string">&quot;quit&quot;</span>:<br>                <span class="hljs-keyword">break</span><br><br>            <span class="hljs-comment"># å¤„ç†ç”¨æˆ·çš„æé—®ï¼Œå¹¶è¿”å›ç»“æœ</span><br>            response = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">self</span>.process_query(query)<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;\nğŸ¤– AI: <span class="hljs-subst">&#123;response&#125;</span>&quot;</span>)<br><br>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;\nâš ï¸ å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">&#123;<span class="hljs-built_in">str</span>(e)&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="è¿æ¥å…³é—­"><a href="#è¿æ¥å…³é—­" class="headerlink" title="è¿æ¥å…³é—­"></a>è¿æ¥å…³é—­</h3><p>ä»»åŠ¡æ‰§è¡Œç»“æŸåï¼Œä¸ºäº†é˜²æ­¢æµªè´¹è¿æ¥èµ„æºï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œå…³é—­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">cleanup</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">self</span>.exit_stack.aclose()<br></code></pre></td></tr></table></figure><h3 id="æ‰§è¡Œå…¥å£"><a href="#æ‰§è¡Œå…¥å£" class="headerlink" title="æ‰§è¡Œå…¥å£"></a>æ‰§è¡Œå…¥å£</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    server_script_path = <span class="hljs-string">&quot;server.py&quot;</span>  <span class="hljs-comment"># æ›¿æ¢æˆä½ è‡ªå·±çš„è·¯å¾„</span><br>    client = MCPClient()<br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-keyword">await</span> client.connect_to_server(server_script_path)<br>        <span class="hljs-keyword">await</span> client.chat_loop()<br>    <span class="hljs-keyword">finally</span>:<br>        <span class="hljs-keyword">await</span> client.cleanup()<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    asyncio.run(main())<br></code></pre></td></tr></table></figure><h2 id="server-py"><a href="#server-py" class="headerlink" title="server.py"></a>server.py</h2><p>å¯¹äºserver.pyï¼Œç¬¬ä¸€æ­¥ä¹Ÿæ˜¯å¼•å…¥å¿…è¦çš„åº“ï¼Œå¹¶åŠ è½½ç¯å¢ƒå˜é‡ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> smtplib<br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">from</span> email.message <span class="hljs-keyword">import</span> EmailMessage<br><span class="hljs-keyword">import</span> httpx<br><span class="hljs-keyword">from</span> mcp.server.fastmcp <span class="hljs-keyword">import</span> FastMCP<br><span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv<br><span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI<br><br>load_dotenv()<br></code></pre></td></tr></table></figure><p>è¿˜éœ€è¦åˆå§‹åŒ–MCPæœåŠ¡å™¨ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs py">mcp = FastMCP(<span class="hljs-string">&quot;NewsServer&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="è·å–æ–°é—»çš„å·¥å…·"><a href="#è·å–æ–°é—»çš„å·¥å…·" class="headerlink" title="è·å–æ–°é—»çš„å·¥å…·"></a>è·å–æ–°é—»çš„å·¥å…·</h3><p>é¦–å…ˆè¦ä½¿ç”¨è£…é¥°å™¨@mcp.toolï¼Œè¿™å¯ä»¥æŠŠå‡½æ•°æ³¨å†Œä¸ºå·¥å…·</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs PY"><span class="hljs-meta">@mcp.tool  </span><span class="hljs-comment"># è£…é¥°å™¨ï¼Œå°†å‡½æ•°æ³¨å†Œä¸ºå·¥å…·</span><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">search_google_news</span>(<span class="hljs-params">keyword: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br></code></pre></td></tr></table></figure><p>æ–°é—»æ¥æºäº<a href="https://google.serper.dev/news%EF%BC%8C%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E5%AF%B9%E5%BA%94%E7%9A%84api%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E4%BB%8E%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%AD%E8%8E%B7%E5%8F%96%EF%BC%9A">https://google.serper.dev/newsï¼Œæˆ‘ä»¬éœ€è¦å¯¹åº”çš„apiï¼Œå¯ä»¥ç›´æ¥ä»ç¯å¢ƒå˜é‡ä¸­è·å–ï¼š</a></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-comment"># ä»ç¯å¢ƒä¸­è·å– API å¯†é’¥å¹¶è¿›è¡Œæ£€æŸ¥</span><br>api_key = os.getenv(<span class="hljs-string">&quot;SERPER_API_KEY&quot;</span>)<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> api_key:<br>    <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;âŒ SERPER_API_KEY is not setï¼Œè¯·åœ¨.envæ–‡ä»¶ä¸­è®¾ç½®&quot;</span>)<br></code></pre></td></tr></table></figure><p>ç„¶åå†™ä¸€ä¸ªå‘è¯·æ±‚è·å–æ–°é—»çš„å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">fetch_news_data</span>(<span class="hljs-params">api_key: <span class="hljs-built_in">str</span>, keyword: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">dict</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;å‘é€æ–°é—»æœç´¢è¯·æ±‚å¹¶è·å–ç»“æœ&quot;&quot;&quot;</span><br>    url = <span class="hljs-string">&quot;https://google.serper.dev/news&quot;</span><br>    headers = &#123;<span class="hljs-string">&quot;X-API-KEY&quot;</span>: api_key, <span class="hljs-string">&quot;Content-Type&quot;</span>: <span class="hljs-string">&quot;application/json&quot;</span>&#125;<br>    payload = &#123;<span class="hljs-string">&quot;q&quot;</span>: keyword&#125;<br><br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> httpx.AsyncClient() <span class="hljs-keyword">as</span> client:<br>        response = <span class="hljs-keyword">await</span> client.post(url, headers=headers, json=payload)<br>        data = response.json()<br><br>    <span class="hljs-comment"># æ£€æŸ¥æ•°æ®</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;news&quot;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> data:<br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;âŒ æœªè·å–åˆ°æœç´¢ç»“æœ&quot;</span>)<br><br>    <span class="hljs-keyword">return</span> data[<span class="hljs-string">&quot;news&quot;</span>]<br></code></pre></td></tr></table></figure><p>ç„¶åå¯¹æ–°é—»è¿›è¡Œä¿å­˜ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">save_news_to_file</span>(<span class="hljs-params">articles: <span class="hljs-built_in">list</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;å°†æ–°é—»ç»“æœä»¥å¸¦æœ‰æ—¶é—´æˆ³å‘½ååçš„ JSON æ ¼å¼æ–‡ä»¶çš„å½¢å¼ä¿å­˜åœ¨æœ¬åœ°æŒ‡å®šçš„è·¯å¾„&quot;&quot;&quot;</span><br>    output_dir = <span class="hljs-string">&quot;./google_news&quot;</span><br>    os.makedirs(output_dir, exist_ok=<span class="hljs-literal">True</span>)<br>    filename = <span class="hljs-string">f&quot;google_news_<span class="hljs-subst">&#123;datetime.now().strftime(<span class="hljs-string">&#x27;%Y%m%d_%H%M%S&#x27;</span>)&#125;</span>.json&quot;</span><br>    file_path = os.path.join(output_dir, filename)<br><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_path, <span class="hljs-string">&quot;w&quot;</span>, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        json.dump(articles, f, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">2</span>)<br><br>    <span class="hljs-keyword">return</span> file_path<br></code></pre></td></tr></table></figure><p>å®Œæ•´çš„<code>search_google_news</code>å·¥å…·å¦‚ä¸‹ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-meta">@mcp.tool  </span><span class="hljs-comment"># è£…é¥°å™¨ï¼Œå°†å‡½æ•°æ³¨å†Œä¸ºå·¥å…·</span><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">search_google_news</span>(<span class="hljs-params">keyword: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    ä½¿ç”¨ Serper APIï¼ˆGoogle Search å°è£…ï¼‰æ ¹æ®å…³é”®è¯æœç´¢æ–°é—»å†…å®¹ï¼Œè¿”å›å‰5æ¡æ ‡é¢˜ã€æè¿°å’Œé“¾æ¥ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    å‚æ•°:</span><br><span class="hljs-string">        keyword (str): å…³é”®è¯ï¼Œå¦‚ &quot;å°ç±³æ±½è½¦&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    è¿”å›:</span><br><span class="hljs-string">        str: JSON å­—ç¬¦ä¸²ï¼ŒåŒ…å«æ–°é—»æ ‡é¢˜ã€æè¿°ã€é“¾æ¥</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-comment"># ä»ç¯å¢ƒä¸­è·å– API å¯†é’¥å¹¶è¿›è¡Œæ£€æŸ¥</span><br>    api_key = os.getenv(<span class="hljs-string">&quot;SERPER_API_KEY&quot;</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> api_key:<br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;âŒ SERPER_API_KEY is not setï¼Œè¯·åœ¨.envæ–‡ä»¶ä¸­è®¾ç½®&quot;</span>)<br><br>    <span class="hljs-comment"># è®¾ç½®è¯·æ±‚å‚æ•°å¹¶å‘é€è¯·æ±‚</span><br>    news_data = <span class="hljs-keyword">await</span> fetch_news_data(api_key, keyword)<br><br>    <span class="hljs-comment"># æŒ‰ç…§æ ¼å¼æå–æ–°é—»ï¼Œè¿”å›å‰äº”æ¡æ–°é—»</span><br>    articles = [<br>        &#123;<br>            <span class="hljs-string">&quot;title&quot;</span>: item.get(<span class="hljs-string">&quot;title&quot;</span>),<br>            <span class="hljs-string">&quot;desc&quot;</span>: item.get(<span class="hljs-string">&quot;snippet&quot;</span>),<br>            <span class="hljs-string">&quot;url&quot;</span>: item.get(<span class="hljs-string">&quot;link&quot;</span>),<br>        &#125;<br>        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> news_data[:<span class="hljs-number">5</span>]<br>    ]<br><br>    <span class="hljs-comment"># å°†æ–°é—»ç»“æœä»¥å¸¦æœ‰æ—¶é—´æˆ³å‘½ååçš„ JSON æ ¼å¼æ–‡ä»¶çš„å½¢å¼ä¿å­˜åœ¨æœ¬åœ°æŒ‡å®šçš„è·¯å¾„</span><br>    file_path = save_news_to_file(articles)<br><br>    <span class="hljs-keyword">return</span> (<br>        <span class="hljs-string">f&quot;âœ… å·²è·å–ä¸ [<span class="hljs-subst">&#123;keyword&#125;</span>] ç›¸å…³çš„å‰5æ¡ Google æ–°é—»ï¼š\n&quot;</span><br>        <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;json.dumps(articles, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">2</span>)&#125;</span>\n&quot;</span><br>        <span class="hljs-string">f&quot;ğŸ“„ å·²ä¿å­˜åˆ°ï¼š<span class="hljs-subst">&#123;file_path&#125;</span>&quot;</span><br>    )<br></code></pre></td></tr></table></figure><h3 id="æƒ…æ„Ÿåˆ†ææŠ¥å‘Šç”Ÿæˆå·¥å…·"><a href="#æƒ…æ„Ÿåˆ†ææŠ¥å‘Šç”Ÿæˆå·¥å…·" class="headerlink" title="æƒ…æ„Ÿåˆ†ææŠ¥å‘Šç”Ÿæˆå·¥å…·"></a>æƒ…æ„Ÿåˆ†ææŠ¥å‘Šç”Ÿæˆå·¥å…·</h3><p>å…ˆå†™ä¸€ä¸ªæŠ¥å‘Šæ ¼å¼çš„å‡½æ•°ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_sentiment_report</span>(<span class="hljs-params">text: <span class="hljs-built_in">str</span>, result: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;&quot;&quot;# èˆ†æƒ…åˆ†ææŠ¥å‘Š</span><br><span class="hljs-string"></span><br><span class="hljs-string">    **åˆ†ææ—¶é—´ï¼š** <span class="hljs-subst">&#123;datetime.now().strftime(<span class="hljs-string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)&#125;</span></span><br><span class="hljs-string"></span><br><span class="hljs-string">    ---</span><br><span class="hljs-string"></span><br><span class="hljs-string">    ## ğŸ“¥ åŸå§‹æ–‡æœ¬</span><br><span class="hljs-string"></span><br><span class="hljs-string">    <span class="hljs-subst">&#123;text&#125;</span></span><br><span class="hljs-string"></span><br><span class="hljs-string">    ---</span><br><span class="hljs-string"></span><br><span class="hljs-string">    ## ğŸ“Š åˆ†æç»“æœ</span><br><span class="hljs-string"></span><br><span class="hljs-string">    <span class="hljs-subst">&#123;result&#125;</span></span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><p>ç„¶åå¯ä»¥å†™å‡ºæƒ…æ„Ÿåˆ†ææŠ¥å‘Šç”Ÿæˆå·¥å…·ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-meta">@mcp.tool()</span><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">analyze_sentiment</span>(<span class="hljs-params">text: <span class="hljs-built_in">str</span>, file_path: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    å¯¹ä¼ å…¥çš„ä¸€æ®µæ–‡æœ¬å†…å®¹è¿›è¡Œæƒ…æ„Ÿåˆ†æï¼Œå¹¶ä¿å­˜ä¸ºæŒ‡å®šåç§°çš„ Markdown æ–‡ä»¶ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    å‚æ•°:</span><br><span class="hljs-string">        text (str): æ–°é—»æè¿°æˆ–æ–‡æœ¬å†…å®¹</span><br><span class="hljs-string">        file_path (str): ä¿å­˜çš„ Markdown æ–‡ä»¶è·¯å¾„</span><br><span class="hljs-string"></span><br><span class="hljs-string">    è¿”å›:</span><br><span class="hljs-string">        str: å®Œæ•´æ–‡ä»¶è·¯å¾„ï¼ˆç”¨äºé‚®ä»¶å‘é€ï¼‰</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-comment"># è¿™é‡Œçš„æƒ…æ„Ÿåˆ†æåŠŸèƒ½éœ€è¦å»è°ƒç”¨ LLMï¼Œæ‰€ä»¥ä»ç¯å¢ƒä¸­è·å– LLM çš„ä¸€äº›ç›¸åº”é…ç½®</span><br>    api_key = os.getenv(<span class="hljs-string">&quot;DASHSCOPE_API_KEY&quot;</span>)<br>    base_url = os.getenv(<span class="hljs-string">&quot;BASE_URL&quot;</span>)<br>    model = os.getenv(<span class="hljs-string">&quot;MODEL&quot;</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> api_key:<br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;âŒ DASHSCOPE_API_KEY is not setï¼Œè¯·åœ¨.envæ–‡ä»¶ä¸­è®¾ç½®&quot;</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> base_url:<br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;âŒ BASE_URL is not setï¼Œè¯·åœ¨.envæ–‡ä»¶ä¸­è®¾ç½®&quot;</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> model:<br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;âŒ MODEL is not setï¼Œè¯·åœ¨.envæ–‡ä»¶ä¸­è®¾ç½®&quot;</span>)<br><br>    <span class="hljs-comment"># æ„é€ æƒ…æ„Ÿåˆ†æçš„æç¤ºè¯</span><br>    prompt = <span class="hljs-string">f&quot;è¯·å¯¹ä»¥ä¸‹æ–°é—»å†…å®¹è¿›è¡Œæƒ…ç»ªå€¾å‘åˆ†æï¼Œå¹¶è¯´æ˜åŸå› ï¼š\n\n<span class="hljs-subst">&#123;text&#125;</span>&quot;</span><br><br>    <span class="hljs-comment"># å‘æ¨¡å‹å‘é€è¯·æ±‚ï¼Œå¹¶å¤„ç†è¿”å›çš„ç»“æœ</span><br>    client = OpenAI(api_key=api_key, base_url=base_url)<br>    response = client.chat.completions.create(<br>        model=model, messages=[&#123;<span class="hljs-string">&quot;role&quot;</span>: <span class="hljs-string">&quot;user&quot;</span>, <span class="hljs-string">&quot;content&quot;</span>: prompt&#125;], stream=<span class="hljs-literal">True</span><br>    )<br><br>    result = <span class="hljs-string">&quot;&quot;</span><br>    <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> response:<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(chunk, <span class="hljs-string">&quot;choices&quot;</span>) <span class="hljs-keyword">and</span> chunk.choices:<br>            delta = chunk.choices[<span class="hljs-number">0</span>].delta<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(delta, <span class="hljs-string">&quot;content&quot;</span>) <span class="hljs-keyword">and</span> delta.content:<br>                result += delta.content<br><br>    result = result.strip()<br><br>    <span class="hljs-comment"># ç”Ÿæˆ Markdown æ ¼å¼çš„èˆ†æƒ…åˆ†ææŠ¥å‘Šï¼Œå¹¶å­˜æ”¾è¿›è®¾ç½®å¥½çš„è¾“å‡ºç›®å½•</span><br>    markdown = generate_sentiment_report(text, result)<br><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_path, <span class="hljs-string">&quot;w&quot;</span>, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(markdown)<br><br>    <span class="hljs-keyword">return</span> file_path<br></code></pre></td></tr></table></figure><h3 id="å‘é€é‚®ä»¶å·¥å…·"><a href="#å‘é€é‚®ä»¶å·¥å…·" class="headerlink" title="å‘é€é‚®ä»¶å·¥å…·"></a>å‘é€é‚®ä»¶å·¥å…·</h3><p>è¿™é‡Œéœ€è¦æ‹¿åˆ°é‚®ä»¶çš„<code>smtp_server</code>ã€<code>smtp_port</code>ã€<code>sender_email</code>ã€<code>sender_pass</code>ç­‰ä¿¡æ¯</p><p>å¢åŠ é™„ä»¶å‡½æ•°ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add_attachment_to_email</span>(<span class="hljs-params">msg: EmailMessage, file_path: <span class="hljs-built_in">str</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;æ·»åŠ é™„ä»¶å¹¶å‘é€é‚®ä»¶&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_path, <span class="hljs-string">&quot;rb&quot;</span>) <span class="hljs-keyword">as</span> f:<br>            file_data = f.read()<br>            file_name = os.path.basename(file_path)<br>            msg.add_attachment(<br>                file_data,<br>                maintype=<span class="hljs-string">&quot;application&quot;</span>,<br>                subtype=<span class="hljs-string">&quot;octet-stream&quot;</span>,<br>                filename=<span class="hljs-string">&quot;&quot;</span>,<br>                params=&#123;<span class="hljs-string">&quot;filename*&quot;</span>: encode_rfc2231(file_name, <span class="hljs-string">&quot;utf-8&quot;</span>)&#125;,<br>            )<br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;âŒ é™„ä»¶è¯»å–å¤±è´¥: <span class="hljs-subst">&#123;<span class="hljs-built_in">str</span>(e)&#125;</span>&quot;</span><br></code></pre></td></tr></table></figure><p>å‘é€é‚®ä»¶å‡½æ•°ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">send_email</span>(<span class="hljs-params"></span><br><span class="hljs-params">    msg: EmailMessage,</span><br><span class="hljs-params">    to: <span class="hljs-built_in">str</span>,</span><br><span class="hljs-params">    smtp_server: <span class="hljs-built_in">str</span>,</span><br><span class="hljs-params">    smtp_port: <span class="hljs-built_in">int</span>,</span><br><span class="hljs-params">    sender_email: <span class="hljs-built_in">str</span>,</span><br><span class="hljs-params">    sender_pass: <span class="hljs-built_in">str</span>,</span><br><span class="hljs-params">    file_path: <span class="hljs-built_in">str</span>,</span><br><span class="hljs-params"></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;å‘é€é‚®ä»¶&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-keyword">with</span> smtplib.SMTP_SSL(smtp_server, smtp_port) <span class="hljs-keyword">as</span> server:<br>            server.login(sender_email, sender_pass)<br>            server.send_message(msg)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;âœ… é‚®ä»¶å·²æˆåŠŸå‘é€ç»™ <span class="hljs-subst">&#123;to&#125;</span>ï¼Œé™„ä»¶è·¯å¾„: <span class="hljs-subst">&#123;file_path&#125;</span>&quot;</span><br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;âŒ é‚®ä»¶å‘é€å¤±è´¥: <span class="hljs-subst">&#123;<span class="hljs-built_in">str</span>(e)&#125;</span>&quot;</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„<code>smtp_server</code>ã€<code>smtp_port</code>ã€<code>sender_email</code>ã€<code>sender_pass</code>æ˜¯æˆ‘ä»¬åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½®çš„ï¼Œéœ€è¦è¿›è¡Œè¯»å–</p><p>ç„¶ååˆ›å»ºé‚®ä»¶ï¼Œå¡«å†™å†…å®¹ï¼Œå†æ·»åŠ é™„ä»¶ï¼Œè¿›è¡Œå‘é€ï¼Œå°±å®Œæˆäº†</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-meta">@mcp.tool()</span><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">send_email_with_attachment</span>(<span class="hljs-params"></span><br><span class="hljs-params">    to: <span class="hljs-built_in">str</span>, subject: <span class="hljs-built_in">str</span>, body: <span class="hljs-built_in">str</span>, file_path: <span class="hljs-built_in">str</span></span><br><span class="hljs-params"></span>) -&gt; <span class="hljs-built_in">str</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    å‘é€å¸¦é™„ä»¶çš„é‚®ä»¶ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    å‚æ•°:</span><br><span class="hljs-string">        to: æ”¶ä»¶äººé‚®ç®±åœ°å€</span><br><span class="hljs-string">        subject: é‚®ä»¶æ ‡é¢˜</span><br><span class="hljs-string">        body: é‚®ä»¶æ­£æ–‡</span><br><span class="hljs-string">        file_path (str): ä¿å­˜çš„ Markdown æ–‡ä»¶è·¯å¾„</span><br><span class="hljs-string"></span><br><span class="hljs-string">    è¿”å›:</span><br><span class="hljs-string">        é‚®ä»¶å‘é€çŠ¶æ€è¯´æ˜</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-comment"># è·å–å¹¶é…ç½® SMTP ç›¸å…³ä¿¡æ¯</span><br>    smtp_server = os.getenv(<span class="hljs-string">&quot;SMTP_SERVER&quot;</span>)<br>    smtp_port = <span class="hljs-built_in">int</span>(os.getenv(<span class="hljs-string">&quot;SMTP_PORT&quot;</span>, <span class="hljs-number">465</span>))<br>    sender_email = os.getenv(<span class="hljs-string">&quot;EMAIL_USER&quot;</span>)<br>    sender_pass = os.getenv(<span class="hljs-string">&quot;EMAIL_PASS&quot;</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> smtp_server:<br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;âŒ SMTP_SERVER is not setï¼Œè¯·åœ¨.envæ–‡ä»¶ä¸­è®¾ç½®&quot;</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> sender_email:<br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;âŒ EMAIL_USER is not setï¼Œè¯·åœ¨.envæ–‡ä»¶ä¸­è®¾ç½®&quot;</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> sender_pass:<br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;âŒ EMAIL_PASS is not setï¼Œè¯·åœ¨.envæ–‡ä»¶ä¸­è®¾ç½®&quot;</span>)<br><br>    <span class="hljs-comment"># è·å–é™„ä»¶æ–‡ä»¶çš„è·¯å¾„ï¼Œå¹¶è¿›è¡Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(file_path):<br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">f&quot;âŒ é™„ä»¶è·¯å¾„æ— æ•ˆï¼Œæœªæ‰¾åˆ°æ–‡ä»¶: <span class="hljs-subst">&#123;file_path&#125;</span>&quot;</span>)<br><br>    <span class="hljs-comment"># åˆ›å»ºé‚®ä»¶å¹¶è®¾ç½®å†…å®¹</span><br>    msg = EmailMessage()<br>    msg[<span class="hljs-string">&quot;Subject&quot;</span>] = <span class="hljs-built_in">str</span>(Header(subject, <span class="hljs-string">&quot;utf-8&quot;</span>))<br>    msg[<span class="hljs-string">&quot;From&quot;</span>] = <span class="hljs-built_in">str</span>(Header(sender_email, <span class="hljs-string">&quot;utf-8&quot;</span>))<br>    msg[<span class="hljs-string">&quot;To&quot;</span>] = <span class="hljs-built_in">str</span>(Header(to, <span class="hljs-string">&quot;utf-8&quot;</span>))<br>    msg.set_content(body, charset=<span class="hljs-string">&quot;utf-8&quot;</span>)<br><br>    <span class="hljs-comment"># æ·»åŠ é™„ä»¶</span><br>    add_attachment_to_email(msg, file_path)<br><br>    <span class="hljs-comment"># å‘é€é‚®ä»¶</span><br>    <span class="hljs-keyword">return</span> send_email(<br>        msg, to, smtp_server, smtp_port, sender_email, sender_pass, file_path<br>    )<br></code></pre></td></tr></table></figure><h2 id="æµ‹è¯•è¿è¡Œ"><a href="#æµ‹è¯•è¿è¡Œ" class="headerlink" title="æµ‹è¯•è¿è¡Œ"></a>æµ‹è¯•è¿è¡Œ</h2><p>è¿è¡Œ<code>client.py</code>ï¼š</p><p><img src="https://flowertea.site/img/client%E8%BF%90%E8%A1%8C1.png" alt="c4337ae2bcbe3bbe31874c071125cde"></p><p><img src="https://flowertea.site/img/client%E8%BF%90%E8%A1%8C2.png" alt="5e499aad66c0f241f6cb7cd204aabe9"></p><p><img src="https://flowertea.site/img/client%E8%BF%90%E8%A1%8C3.png" alt="c26006e04c550bc58806b413f7a2644"></p><p><img src="https://flowertea.site/img/client%E8%BF%90%E8%A1%8C4.png" alt="df953e5433dd6b3c088da845576ced4"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå¯¹åº”çš„æ–‡ä»¶ä¹Ÿè¢«ä¿å­˜äº†</p><p><img src="https://flowertea.site/img/client%E8%BF%90%E8%A1%8C5.png" alt="ef9bf0a1f695c620fa849a2a5e64911"></p><p><img src="https://flowertea.site/img/ggnews.png" alt="1032ecffeeea0ba0bc7cc7f43fec414"></p><p><img src="https://flowertea.site/img/sentimel_md.png" alt="cb54508c73bb535659e4b8127424c46"></p><p><img src="https://flowertea.site/img/chat.png" alt="6be28f621ee010e21532ab30e94615d"></p><p>è¾“å…¥quitå°±å¯ä»¥ç»“æŸå¯¹è¯</p><p><img src="https://flowertea.site/img/client%E8%BF%90%E8%A1%8C6.png" alt="66a1453198ccba8a93565cb45e02e71"></p>]]></content>
    
    
    <categories>
      
      <category>å‚ä¸é¡¹ç›®</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é¡¹ç›®ç»å†</tag>
      
      <tag>AIåº”ç”¨</tag>
      
      <tag>MCP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MCPåŸç†</title>
    <link href="/2025/05/02/MCP%E5%8E%9F%E7%90%86/"/>
    <url>/2025/05/02/MCP%E5%8E%9F%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h2 id="MCPçš„äº”ä¸ªæ ¸å¿ƒè¦ç´ "><a href="#MCPçš„äº”ä¸ªæ ¸å¿ƒè¦ç´ " class="headerlink" title="MCPçš„äº”ä¸ªæ ¸å¿ƒè¦ç´ "></a>MCPçš„äº”ä¸ªæ ¸å¿ƒè¦ç´ </h2><p>MCPæ˜¯C&#x2F;Sæ¶æ„çš„ï¼Œå¤§è‡´æ¶æ„å¦‚ä¸‹ï¼š</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf">LLM &lt;<span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span>&gt; MCP Client &lt;<span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span>&gt; MCP Server &lt;<span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span>&gt; Local Resources / Remote Resources<br><br></code></pre></td></tr></table></figure><h3 id="MCP-Host"><a href="#MCP-Host" class="headerlink" title="MCP Host"></a>MCP Host</h3><p>ä½œä¸ºè¿è¡ŒMCPçš„è‘—åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚Claude Desktopã€Cursorã€Clineæˆ–å…¶ä»–AIå·¥å…·ï¼Œä½œä¸ºç”¨æˆ·æä¾›ä¸LLMäº¤äº’çš„æ¥å£ï¼ŒåŒæ—¶é›†æˆäº†MCP Clientå·²è¿æ¥MCP Serverã€‚</p><ul><li>å¯ä»¥è®©ç”¨æˆ·ä¸LLMäº¤äº’</li><li>é›†æˆClientè¿æ¥Server</li></ul><h3 id="MCP-Client"><a href="#MCP-Client" class="headerlink" title="MCP Client"></a>MCP Client</h3><p>å……å½“LLMå’ŒMCP Serverä¹‹é—´çš„æ¡¥æ¢ï¼ŒåµŒå…¥åœ¨ä¸»æœºç¨‹åºä¸­ï¼Œä¸»è¦è´Ÿè´£ï¼š</p><ul><li>æ¥æ”¶æ¥è‡ªLLMçš„è¯·æ±‚</li><li>å°†è¯·æ±‚è½¬å‘åˆ°ç›¸åº”çš„MCP Server</li><li>å°†MCP Serverçš„ç»“æœè¿”å›ç»™LLM</li></ul><p>å¯ä»¥åœ¨MCPå®˜ç½‘æŸ¥è¯¢æ”¯æŒMCPçš„Clientsï¼Œåˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li>AIç¼–ç¨‹IDEï¼šå¦‚Cursorç­‰</li><li>èŠå¤©å®¢æˆ·ç«¯ï¼šå¦‚Cherry Studioã€Claudeç­‰</li></ul><h3 id="MCP-Server"><a href="#MCP-Server" class="headerlink" title="MCP Server"></a>MCP Server</h3><p>æ¯ä¸ªMCP Serveréƒ½æä¾›äº†ä¸€ç»„ç‰¹å®šçš„å·¥å…·ã€‚è´Ÿè´£ä»Local Dataæˆ–è€…Remote Serviceä¸­æ£€ç´¢ä¿¡æ¯ï¼Œæ˜¯MCPæ¶æ„ä¸­çš„å…³é”®ç»„ä»¶ã€‚ä¸ä¼ ç»Ÿçš„è¿œç¨‹APIæœåŠ¡å™¨ä¸åŒï¼ŒMCPæœåŠ¡å™¨æ—¢å¯ä»¥ä½œä¸ºæœ¬åœ°åº”ç”¨ç¨‹åºï¼ˆstdioçš„æ–¹å¼é€šä¿¡ï¼‰åœ¨ç”¨æˆ·è®¾å¤‡ä¸Šè¿è¡Œï¼Œä¹Ÿå¯ä»¥éƒ¨ç½²è‡³è¿œç¨‹æœåŠ¡å™¨ï¼ˆsseçš„æ–¹å¼é€šä¿¡ï¼Œå»ºç«‹httpè¿æ¥ï¼‰ã€‚ä½œç”¨æ˜¯è®©LLMä¸ä»…èƒ½â€œè¯´â€ï¼Œè¿˜èƒ½å¤Ÿâ€œåšâ€ã€‚</p><p>MCPçš„æœ¬è´¨æ˜¯è¿è¡Œåœ¨ç”µè„‘ä¸Šçš„ä¸€ä¸ªNode.jsç¨‹åºæˆ–è€…Pythonç¨‹åºï¼Œå¯ä»¥ç†è§£ä¸ºå®¢æˆ·ç«¯ä½¿ç”¨å‘½ä»¤è°ƒç”¨äº†ç”µè„‘ä¸Šçš„Node.jsç¨‹åºæˆ–è€…Pythonç¨‹åºã€‚</p><ul><li>ä½¿ç”¨TSç¼–å†™çš„MCP Serverå¯ä»¥é€šè¿‡npxå‘½ä»¤è¿è¡Œ</li><li>ä½¿ç”¨Pythonç¼–å†™çš„MCP Serverå¯ä»¥é€šè¿‡uvxå‘½ä»¤è¿è¡Œ</li></ul><p>åœ¨Cursorä¸­ï¼Œå¦‚æœMCP Serverçš„æŒ‡ç¤ºç¯ä¸ºç»¿è‰²ï¼Œåˆ™è¯´æ˜MCPå®¢æˆ·ç«¯å’ŒMCPæœåŠ¡å™¨å·²è¿æ¥ã€‚</p><h3 id="Local-Resources"><a href="#Local-Resources" class="headerlink" title="Local Resources"></a>Local Resources</h3><p>æœ¬åœ°èµ„æºï¼Œå¯ä»¥ç”±MCP Serveræ“ä½œ</p><h3 id="Remote-Resources"><a href="#Remote-Resources" class="headerlink" title="Remote Resources"></a>Remote Resources</h3><p>è¿œç¨‹èµ„æºï¼Œå¯ä»¥ç”±MCP Serveræ“ä½œ</p><h2 id="MCPå·¥ä½œæµç¨‹"><a href="#MCPå·¥ä½œæµç¨‹" class="headerlink" title="MCPå·¥ä½œæµç¨‹"></a>MCPå·¥ä½œæµç¨‹</h2><p><img src="https://flowertea.site/img/MCP%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B.png?raw=true" alt="MCPå·¥ä½œæµç¨‹"></p><h3 id="åˆå§‹åŒ–é˜¶æ®µ"><a href="#åˆå§‹åŒ–é˜¶æ®µ" class="headerlink" title="åˆå§‹åŒ–é˜¶æ®µ"></a>åˆå§‹åŒ–é˜¶æ®µ</h3><ul><li>ç”¨æˆ·å¯åŠ¨å®¢æˆ·ç«¯</li><li>å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼ˆæœåŠ¡å™¨å¯ä»¥æ˜¯æœ¬åœ°çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯è¿œç¨‹çš„ï¼‰</li><li>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨è¯·æ±‚å¯ç”¨çš„å·¥å…·åˆ—è¡¨ï¼ˆè°ƒç”¨api tools&#x2F;listï¼‰</li><li>æœåŠ¡ç«¯è¿”å›å·¥å…·åˆ—è¡¨å’Œæè¿°</li></ul><p>æˆ‘ä»¬åœ¨Smitheryã€mcp.soç­‰ç½‘ç«™ä¸Šå¯»æ‰¾mcpæ—¶å€™ï¼Œä¼šæä¾›ç›¸åº”çš„Toolsï¼Œä¹Ÿå°±æ˜¯å·¥å…·åˆ—è¡¨ï¼Œæ¯ä¸ªå·¥å…·å¯ä»¥çœ‹ä½œserveræä¾›çš„å‡½æ•°</p><h3 id="æŸ¥è¯¢å¤„ç†é˜¶æ®µ"><a href="#æŸ¥è¯¢å¤„ç†é˜¶æ®µ" class="headerlink" title="æŸ¥è¯¢å¤„ç†é˜¶æ®µ"></a>æŸ¥è¯¢å¤„ç†é˜¶æ®µ</h3><ul><li>ç”¨æˆ·è¾“å…¥æŸ¥è¯¢</li><li>å®¢æˆ·ç«¯å‘é€æŸ¥è¯¢å’Œå¯ç”¨å·¥å…·ä¿¡æ¯ç»™å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰</li><li>å¤§æ¨¡å‹åˆ†æåï¼Œè¿”å›ç»™å®¢æˆ·ç«¯å“åº”ï¼ˆæ–‡æœ¬æˆ–å·¥å…·è°ƒç”¨ï¼‰<ul><li>å¦‚æœå“åº”æ˜¯å·¥å…·è°ƒç”¨ï¼Œå®¢æˆ·ç«¯ä¼šè¯·æ±‚æœåŠ¡å™¨æ‰§è¡Œå·¥å…·è°ƒç”¨ï¼ˆè°ƒç”¨api tools&#x2F;callï¼‰ï¼Œç„¶åæœåŠ¡å™¨è¿”å›å·¥å…·æ‰§è¡Œç»“æœï¼Œç„¶åå®¢æˆ·ç«¯å†æŠŠè¿™äº›ä¿¡æ¯ç»™å¤§æ¨¡å‹ï¼Œå¤§æ¨¡å‹å†æ¬¡è¿›è¡Œåˆ†æï¼Œè¿›è¡Œå¾ªç¯ã€‚å®é™…ä¸Šï¼Œå½“LLMå‘å®¢æˆ·ç«¯å“åº”å·¥å…·è°ƒç”¨åï¼Œå®¢æˆ·ç«¯è¿˜ä¼šå‘ç”¨æˆ·è¯¢é—®æ˜¯å¦æ‰§è¡Œå·¥å…·ï¼Œç”±ç”¨æˆ·ç¡®è®¤æ‰§è¡Œåï¼Œå®¢æˆ·ç«¯æ‰ä¼šè¯·æ±‚æœåŠ¡å™¨æ‰§è¡Œå·¥å…·è°ƒç”¨</li><li>å¦‚æœå“åº”æ˜¯æ–‡æœ¬ï¼Œåˆ™å®¢æˆ·ç«¯æ˜¾ç¤ºç»™å®¢æˆ·æ–‡æœ¬å“åº”</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AIåº”ç”¨</tag>
      
      <tag>MCP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä»ä¸€ä¸ªå‡½æ•°æ€ä¹ˆå†™åˆ°é™ä½å…¬å¸æˆæœ¬</title>
    <link href="/2025/04/27/%E4%BB%8E%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E6%80%8E%E4%B9%88%E5%86%99%E5%88%B0%E9%99%8D%E4%BD%8E%E5%85%AC%E5%8F%B8%E6%88%90%E6%9C%AC/"/>
    <url>/2025/04/27/%E4%BB%8E%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E6%80%8E%E4%B9%88%E5%86%99%E5%88%B0%E9%99%8D%E4%BD%8E%E5%85%AC%E5%8F%B8%E6%88%90%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<p>â€‹æ˜¨å¤©ä¸‹ç­å‰å’ŒmentorèŠäº†è¿‘ä¸¤ä¸ªå°æ—¶ï¼Œä»ä¸€ä¸ªå‡½æ•°åˆ°åº•è¯¥æ€ä¹ˆå†™ï¼Œåˆ°ç©¶ç«Ÿä»€ä¹ˆæ—¶å€™æ‰åº”è¯¥æ‹†ä¸€ä¸ªå‡½æ•°å‡ºæ¥ï¼Œå†åˆ°å…¬å¸ç®¡ç†ï¼Œä»£ç ä¿®æ”¹æˆæœ¬ï¼Œæ„Ÿè§‰å­¦åˆ°äº†æŒºå¤šä¸œè¥¿ï¼Œä¹Ÿæœ‰å¾ˆå¤šä¸ªäººçš„æ„Ÿæ‚Ÿã€‚</p><p>â€‹ä¸€ä»¶äº‹æƒ…æœ‰å¾ˆå¤šç§è§£å†³æ–¹å¼ï¼Œä½†æ˜¯æ€»æœ‰ä¸€ä¸ªæœ€å¥½çš„è§£å†³æ–¹å¼ï¼Œä½†è¿™ä¸ªè§£å†³æ–¹å¼æœªå¿…æ˜¯åœ¨ä¸€å¼€å§‹å°±èƒ½å¤ŸçŸ¥é“çš„ã€‚åœ¨ä¸€ä¸ªè¡Œä¸šä¹…äº†ä¹‹åï¼Œä¼šæœ‰è‡ªå·±çš„ç»éªŒï¼Œæˆ–è®¸å¯ä»¥é¢„æµ‹å‡ºæ¥ä¸‹æ¥å®¢æˆ·æˆ–äº§å“ä¼šæä»€ä¹ˆè¿›ä¸€æ­¥çš„éœ€æ±‚ï¼Œä»è€Œå¯ä»¥ä¸ºä»£ç çš„ä¿®æ”¹ç•™è¶³â€œç©ºé—´â€ï¼Œé™ä½æœªæ¥çš„æˆæœ¬ã€‚ä½†æ˜¯æ¯ä¸ªç¨‹åºå‘˜ä¹‹é—´çš„ç»éªŒå¹¶ä¸å®Œå…¨ç›¸åŒï¼Œä¹Ÿå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç¨‹åºå‘˜éƒ½ä¼šæœ‰ä¸ºä»£ç çš„ä¿®æ”¹ç•™è¶³â€ç©ºé—´â€œçš„æ„è¯†ï¼Œæ‰€ä»¥ä»£ç ä¹Ÿæœ‰å¥½åä¹‹åˆ†ã€‚</p><p>â€‹æ¯”è¾ƒç†æƒ³çš„æƒ…å†µæ˜¯ï¼Œå…¬å¸é‡Œæ¯ä¸ªäººéƒ½èƒ½æ„è¯†åˆ°ä¸‹ä¸€æ­¥çš„ä¿®æ”¹ï¼Œéƒ½ä¸å†™ğŸ”Ÿå±±ä»£ç ï¼Œä»è€Œåœ¨ä»£ç æŠ¥é”™æ—¶ï¼Œå¯ä»¥å¾ˆå¿«åœ°å®šä½é”™è¯¯ï¼Œåœ¨bugä¿®æ”¹å’Œäº§å“è¿­ä»£æ—¶ï¼Œå¯ä»¥å°½å¯èƒ½å°‘åœ°å½±å“åŸæ¥çš„ä»£ç ï¼Œåœ¨å…¶ä»–äººæ¥æ¥æ‰‹ä»£ç æ—¶ï¼Œå¯ä»¥å¾ˆå¿«æ˜ç™½ä»£ç è¦è¡¨è¾¾çš„æ„æ€ï¼Œè¿™äº›éƒ½å¯ä»¥é™ä½å·¥ä½œçš„ä¸–é—´ï¼Œä»è€Œé™ä½å…¬å¸çš„æˆæœ¬ã€‚å°±ç®—ä¸ä¸ºå…¬å¸è€ƒè™‘ï¼Œè‡ªå·±åœ¨å¿™ä¸€ä»¶äº‹çš„æ—¶å€™ï¼Œçªç„¶é‡åˆ°å¦ä¸€ä¸ªç´§æ€¥ä»»åŠ¡ï¼Œä¹Ÿå¹¶éä¸å¸¸è§ï¼Œå¦‚æœèƒ½å¤Ÿè®©è‡ªå·±å¾ˆå¿«åœ°æ”¹å®Œä¸€ä¸ªbugï¼Œå¢åŠ ä¸€ä¸ªéœ€æ±‚çš„ä»£ç ï¼Œå°±ç®—é‡åˆ°äº†å¦ä¸€ä¸ªç´§æ€¥ä»»åŠ¡ï¼Œä¹Ÿæœ‰å……è¶³çš„æ—¶é—´å»åº”å¯¹ã€‚å†è¯´äº†ï¼Œç©ºä¸‹æ—¶é—´æ‘¸æ‘¸é±¼ä¸ä¹ŸæŒºçˆ½çš„å—ï¼Œåæ­£èƒ½åœ¨ddlå†…å®Œæˆä»»åŠ¡ã€‚</p><p>â€‹è€Œæ›´ä¸¥é‡çš„ä¸€ç§æƒ…å†µæ˜¯ï¼Œä»£ç çš„å†™æ³•ä¹‹é—´ï¼Œå‡ºé”™çš„æ¦‚ç‡ä¸åŒã€‚æ¯”å¦‚æ™®é€šçš„forå¾ªç¯å’Œforeachçš„å†™æ³•ä¹‹é—´ï¼Œæ˜¾ç„¶æ˜¯åè€…æ›´åŠ å®‰å…¨ï¼Œå› ä¸ºåè€…ä¸éœ€è¦æ§åˆ¶å¾ªç¯çš„èµ·å§‹ç‚¹ç­‰å®¹æ˜“å‡ºé”™çš„ç‚¹ã€‚åç«¯çš„å‡ºé”™ï¼Œä¼šå¯¼è‡´ï¼šå®¢æˆ·æœ‰æ®µæ—¶é—´ä¸èƒ½æ­£å¸¸ä½¿ç”¨äº§å“ï¼Œä»è€Œå—åˆ°äºæŸï¼Œä¸€çº¿å’Œäº§å“æ”¶åˆ°å®¢æˆ·çš„åé¦ˆï¼Œéœ€è¦è¿›è¡Œæ±‡æŠ¥é—®é¢˜å’Œå®‰æŠšå®¢æˆ·ï¼Œè¿™éœ€è¦å ç”¨æ—¶é—´ï¼Œå‰ç«¯éœ€è¦é¦–å…ˆæ’æŸ¥é—®é¢˜ï¼Œéœ€è¦å ç”¨æ—¶é—´ï¼Œç„¶åå‘ç°ä¸æ˜¯å‰ç«¯çš„é—®é¢˜ï¼Œç„¶ååç«¯æ‰å»æ’æŸ¥é—®é¢˜ï¼Œç„¶åå› ä¸ºä»£ç å¤ªçƒ‚ï¼Œä¿®bugä¿®äº†å¥½é•¿æ—¶é—´ã€‚å…¬å¸é‡Œçš„ä¸€çº¿ã€äº§å“ã€å‰ç«¯ã€åç«¯éƒ½é¢å¤–ä»˜å‡ºäº†æ—¶é—´ï¼Œä»è€Œæé«˜äº†å…¬å¸æˆæœ¬ï¼ˆä¸åªæ˜¯å·¥èµ„ï¼Œè¿˜æœ‰å‘˜å·¥èº«ä¸Šçš„ç¦åˆ©ï¼Œå®é™…ä¸Šä¹Ÿå¯ä»¥çœ‹ä½œæŒ‰æ—¶é—´è®¡è´¹çš„ï¼‰ï¼Œè¿˜é™ä½äº†å®¢æˆ·çš„ä¿¡ä»»ï¼Œè€Œè¿™éƒ½æ˜¯å› ä¸ºåç«¯ä»£ç çš„é—®é¢˜å¯¼è‡´çš„ï¼Œä½œä¸ºä¸€ä¸ªå…¬å¸çš„ç®¡ç†è€…ï¼Œä¼šä¸ä¼šè€ƒè™‘å¼€æ‰è¿™ä¸ªåç«¯å‘¢ï¼Ÿ</p><p>â€‹æˆ‘ä¸ªäººè§‰å¾—ï¼Œä»£ç è´¨é‡å¯¹åˆšå…¥è¡Œçš„ç¨‹åºå‘˜å°¤ä¸ºé‡è¦ã€‚å› ä¸ºå½“å…¥è¡Œä¸€å®šæ—¶é—´ä¹‹åï¼Œä»£ç ä¹ æƒ¯å½¢æˆäº†ï¼Œå°±æ¯”è¾ƒéš¾å†è¿›è¡Œä¿®æ”¹äº†ã€‚å¹¶ä¸”ï¼Œåœ¨å®é™…å¼€å‘ç¯å¢ƒä¸­ï¼Œé™å®šæ—¶é—´æˆæœ¬çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç¨‹åºå‘˜æ˜¯å¦æœ‰æ—¶é—´å»è€ƒè™‘ä»£ç è´¨é‡å‘¢ï¼Ÿåº”è¯¥è¿˜æ˜¯æ¯”è¾ƒå›°éš¾çš„å§ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäººæ„Ÿæ‚Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ„Ÿæ‚Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Šå¿ƒç»ã€‹ç¬”è®°ä¸‰</title>
    <link href="/2025/04/27/%E5%BF%83%E7%BB%8F%E7%AC%94%E8%AE%B0%E4%B8%89/"/>
    <url>/2025/04/27/%E5%BF%83%E7%BB%8F%E7%AC%94%E8%AE%B0%E4%B8%89/</url>
    
    <content type="html"><![CDATA[<h2 id="æ³¢ç½—èœœå¤šï¼ˆåº¦ï¼‰ä¸Š"><a href="#æ³¢ç½—èœœå¤šï¼ˆåº¦ï¼‰ä¸Š" class="headerlink" title="æ³¢ç½—èœœå¤šï¼ˆåº¦ï¼‰ä¸Š"></a>æ³¢ç½—èœœå¤šï¼ˆåº¦ï¼‰ä¸Š</h2><p>å…­ç§åº¦æ³•ï¼šå¸ƒæ–½ã€æŒæˆ’ã€å®‰å¿</p><h3 id="å¸ƒæ–½"><a href="#å¸ƒæ–½" class="headerlink" title="å¸ƒæ–½"></a>å¸ƒæ–½</h3><ul><li><strong>è´¢å¸ƒæ–½</strong>ï¼šç”¨é’±è´¢å¸®åŠ©åˆ«äººï¼Œç”¨é’±è´¢å¸®åŠ©è´«è‹¦çš„äººæˆ–ç”¨é’±è´¢å¸®åŠ©å¯¹æˆ‘ä»¬æ–½è¿‡æ©çš„äººï¼ˆç¬¬ä¸€æ˜¯çˆ¶æ¯ï¼‰ï¼Œä½†ä¸ç®¡æ€ä¹ˆæ ·ï¼Œå¾—æœ‰è´¢ï¼›å…»è‚²å­ä»£ï¼Œæ˜¯åŠ¨ç‰©çš„å¤©æ€§ï¼Œå¹¶éè´¢å¸ƒæ–½ï¼›è´«è‹¦ä¹‹äººåŠ›æ‰€èƒ½åŠåœ°å¸®åŠ©å¦ä¸€ä¸ªè´«è‹¦çš„äººï¼Œä¹Ÿæ˜¯è´¢å¸ƒæ–½ï¼Œè´¢å¸ƒæ–½å¹¶éåªæœ‰å¯Œäººæ‰èƒ½åšã€‚</li><li><strong>æ³•å¸ƒæ–½</strong>ï¼šè·Ÿä»–äººè¯´ä½›æ³•ï¼Œè‹¥è¯´ä¸–é—´æ³•ï¼Œä¹Ÿæ˜¯æ³•å¸ƒæ–½ï¼ˆè€å¸ˆï¼‰ï¼Œå› ä¸ºä¸–é—´æ³•å’Œä½›æ³•ä¸èƒ½åˆ†å‰²ã€‚è€å¸ˆä¸éœ€è¦è¿½é—®äººç”Ÿçš„æ„ä¹‰ã€‚</li><li><strong>æ— ç•å¸ƒæ–½</strong>ï¼šå¸®åŠ©ä¼—ç”Ÿæ’é™¤è‹¦éš¾ï¼Œè„±ç¦»ææƒ§ã€‚åŒ»ç”Ÿæ•‘æ­»æ‰¶ä¼¤ï¼Œæ˜¯æ— ç•å¸ƒæ–½ï¼Œæ‰€ä»¥åŒ»ç”Ÿä¹Ÿä¸éœ€è¦è¿½é—®äººç”Ÿçš„æ„ä¹‰ï¼›åœ¨è¢«ä¾µç•¥æ—¶ï¼ˆè¿™æ—¶ï¼Œè¢«ä¾µç•¥æ–¹çš„æˆ˜äº‰æ˜¯æ­£ä¹‰çš„ï¼‰ï¼Œå°†å†›å¸¦é¢†å£«å…µæ€æ•Œï¼Œä¹Ÿæ˜¯æ— ç•å¸ƒæ–½ï¼Œè¿™æ˜¯ä¸ºäº†æ›´å¤šäººä¸è¢«æ€ï¼Œä¸æ˜¯ç½ªä¸šï¼Œä½†æ˜¯æ³•å®˜åˆ¤æ¡ˆåˆ¤é”™äº†å°±æ˜¯ç½ªä¸šã€‚</li></ul><h3 id="æŒæˆ’"><a href="#æŒæˆ’" class="headerlink" title="æŒæˆ’"></a>æŒæˆ’</h3><ul><li><p><strong>å¾‹ä»ªæˆ’</strong>ï¼šå®ˆè®¸å¤šæˆ’æ¡ã€æˆ’å¾‹ã€‚å¤§ä¹˜ä½›æ•™ä¸­ï¼Œæœ‰ä¸€ä¸ªå®—æ´¾ï¼Œå¾‹å®—ï¼Œåœ¨æŒèŠ‚æ³¢ç½—èœœä¸Šè¦æ±‚å¾ˆå¤šï¼Œä¹Ÿå¾ˆä¸¥æ ¼ã€‚ä½†æ˜¯å¯¹å®ˆæˆ’ä¸èƒ½åƒµç¡¬åœ°å»æ‰§è¡Œï¼Œæ¯”å¦‚è—ä¼ ä½›æ•™ï¼Œå› ä¸ºåœ°ç†ç¯å¢ƒï¼Œä¸å¾—ä¸æ€ç”Ÿåƒè¤ï¼Œä½†æ˜¯å®ˆæˆ’æœ¬èº«è‚¯å®šæ˜¯å¯¹çš„ï¼Œæœ‰å¾ˆå¤šæˆ’å¾‹ä¹Ÿæ˜¯éå®ˆä¸å¯çš„ã€‚</p></li><li><p><strong>æ‘„å–„æ³•æˆ’</strong>ï¼šæ‘„æ˜¯ä¿®è¡Œçš„æ„æ€ï¼ŒæŠŠä¸€åˆ‡å–„æ³•éƒ½åŒ…å«è¿›æ¥å»å®è·µï¼Œé—®é¢˜åœ¨äºå–„æ³•å’Œæ¶æ³•çš„åŒºåˆ†æ ‡å‡†ï¼Œå‰ææ˜¯å‡€å¿ƒè¡Œå–„ã€‚è¯¥è¡Œçš„å–„æ³•ä¸è¡Œï¼Œåˆ™ä¸ºç ´æˆ’ã€‚æˆ’ä¸ä»…è§„å®šäº†ä¸èƒ½åšä»€ä¹ˆï¼Œè¿˜è§„å®šäº†å¿…é¡»åšä»€ä¹ˆï¼Œå¿…é¡»åšçš„äº‹æƒ…æ²¡åšå°±æ˜¯çŠ¯æˆ’ã€‚æƒåˆ©å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸èƒ½åšä»€ä¹ˆï¼›ä¹‰åŠ¡å‘Šè¯‰æˆ‘ä»¬ï¼Œå¿…é¡»åšä»€ä¹ˆã€‚çŸ¥é“äº†å–„æ³•ï¼Œä½†æ˜¯ä¸å»ä¿®ï¼Œä¹Ÿæ˜¯çŠ¯æˆ’çš„ã€‚</p></li><li><p><strong>é¥¶ç›Šæœ‰æƒ…æˆ’</strong>ï¼šå¤šç§å¤šæ ·åœ°å¸®åŠ©æœ‰æƒ…ã€‚å‘ç°åˆ«äººéœ€è¦å¸®åŠ©ï¼Œä¸”è‡ªå·±æœ‰èƒ½åŠ›å¸®åŠ©ï¼Œä½†æ˜¯ä¸å¸®åŠ©ï¼Œå°±æ˜¯çŠ¯æˆ’ã€‚</p></li></ul><h3 id="å®‰å¿"><a href="#å®‰å¿" class="headerlink" title="å®‰å¿"></a>å®‰å¿</h3><ul><li><strong>è€æ€¨å®³å¿</strong>ï¼šåœ¨è¢«å‡¡äººä¼¤å®³çš„æ—¶å€™ï¼Œä¸è¦ä»¥å…¶äººä¹‹é“è¿˜å…¶äººä¹‹èº«ï¼Œä¸è¦å› ä¸ºå¯¹æ–¹ä¼¤å®³è‡ªå·±è€Œæ€¨æ¨å¯¹æ–¹ã€‚è¦æé†’è‡ªå·±ï¼Œè™½ç„¶æˆ‘ä»¬ä¹Ÿæ˜¯å‡¡äººï¼Œä½†æˆ‘ä»¬åœ¨åº¦ä¸­ï¼Œåœ¨æ³¢ç½—èœœå¤šä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å®‰å¿ã€‚å¦‚æœæ€¨æ¨å¯¹æ–¹ï¼Œåˆ™ä¼šå¢åŠ ä¸€å±‚ç²¾ç¥ä¸Šçš„ç—›ã€‚æˆ‘å—åˆ°å¯¹æ–¹çš„ä¼¤å®³ï¼Œæ˜¯å› ä¸ºå‰ä¸–ä¼¤å®³äº†å¯¹æ–¹ã€‚ä½†å®é™…ä¸Šï¼Œè¿™ç§åšæ³•æ˜¯å’Œæ–—äº‰å“²å­¦ç›¸è¿èƒŒçš„ï¼Œä¸å»æ¨ç¿»äººä¸–é—´çš„è‹¦éš¾ï¼Œè€Œæ˜¯é€‰æ‹©å¿å—ã€‚</li><li><strong>å®‰å—è‹¦å¿</strong>ï¼šäººæ´»åœ¨ä¸–é—´ä¸Šæ˜¯ä¼šå—è‹¦çš„ï¼Œç”Ÿè€ç—…æ­»éƒ½æ˜¯è‹¦ã€‚ä¸ºä»€ä¹ˆè¯´ç”Ÿæ˜¯è‹¦å‘¢ï¼Ÿå› ä¸ºç”Ÿï¼Œå°±ä¼šæœ‰æ¬²æœ›ï¼Œæœ‰æ¬²æœ›å°±ä¼šæƒ³å®ç°ï¼Œä½†å¾€å¾€ç”±å®ç°ä¸äº†ï¼Œå› æ­¤å¿ƒä¸­æ„Ÿè§‰åˆ°è‹¦ã€‚äººåˆ°ä¸–ä¸Šï¼Œç¬¬ä¸€æ¬¡å‘¼å¸æ˜¯ä»¥å“­çš„æ–¹å¼ï¼ŒæŒ‰ç…§ä½›æ•™è§‚ç‚¹ï¼Œè¿™æ˜¯ä¸ªé‡è¦çš„æç¤ºï¼šè‹¦å¼€å§‹äº†ã€‚ï¼ˆå› æ­¤ï¼Œç”Ÿè‚²è¢«è®¤ä¸ºæ˜¯ä¸€ä»¶åˆ›é€ ç—›è‹¦çš„äº‹æƒ…ï¼‰å¿å—è‹¦éš¾ï¼Œä¸è¢«è‹¦éš¾æ‰“å€’ã€‚</li><li><strong>è°›å¯Ÿæ³•å¿</strong>ï¼šè°›å¯Ÿæ˜¯ç²¾ç ”çš„æ„æ€ï¼Œæ³•æ˜¯ä½›æ³•ï¼Œå› æ­¤è°›å¯Ÿæ³•å¿çš„æ„æ€æ˜¯ï¼Œå¿å—ç²¾ç ”ä½›æ³•&#x2F;ä¸–é—´æ³•ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>ä½›ç»ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ä½›ç»</tag>
      
      <tag>å¿ƒç»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸¤é“mysqlé¢è¯•é¢˜ 4.23</title>
    <link href="/2025/04/23/%E4%B8%A4%E9%81%93Mysql%E9%9D%A2%E8%AF%95%E9%A2%98%204.23/"/>
    <url>/2025/04/23/%E4%B8%A4%E9%81%93Mysql%E9%9D%A2%E8%AF%95%E9%A2%98%204.23/</url>
    
    <content type="html"><![CDATA[<h2 id="å¦‚æœåœ¨æŸ¥è¯¢æ•°æ®æ—¶ï¼ŒæŸ¥è¯¢æ—¶é—´è¿‡é•¿ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ"><a href="#å¦‚æœåœ¨æŸ¥è¯¢æ•°æ®æ—¶ï¼ŒæŸ¥è¯¢æ—¶é—´è¿‡é•¿ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ" class="headerlink" title="å¦‚æœåœ¨æŸ¥è¯¢æ•°æ®æ—¶ï¼ŒæŸ¥è¯¢æ—¶é—´è¿‡é•¿ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ"></a>å¦‚æœåœ¨æŸ¥è¯¢æ•°æ®æ—¶ï¼ŒæŸ¥è¯¢æ—¶é—´è¿‡é•¿ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ</h2><h3 id="1-åˆ†æé—®é¢˜æ ¹æº"><a href="#1-åˆ†æé—®é¢˜æ ¹æº" class="headerlink" title="1.åˆ†æé—®é¢˜æ ¹æº"></a>1.åˆ†æé—®é¢˜æ ¹æº</h3><ul><li><strong>ä½¿ç”¨Explainåˆ†ææ‰§è¡Œè®¡åˆ’</strong><ul><li>è¿è¡Œ<code>EXPLAIN SELECT ...</code>æŸ¥çœ‹æ˜¯å¦ä¸ºå…¨è¡¨æ‰«æï¼ˆtype&#x3D;ALLï¼‰ã€ç´¢å¼•ä½¿ç”¨æƒ…å†µï¼ˆkeyï¼‰ã€æ‰«æè¡Œæ•°ï¼ˆrowsï¼‰ç­‰å…³é”®æŒ‡æ ‡</li><li>é‡ç‚¹å…³æ³¨ <code>Extra</code> åˆ—ï¼Œé¿å…å‡ºç° <code>Using filesort</code>ï¼ˆä¸´æ—¶æ’åºï¼‰æˆ– <code>Using temporary</code>ï¼ˆä¸´æ—¶è¡¨ï¼‰</li></ul></li><li><strong>å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—</strong><ul><li>åœ¨é…ç½®æ–‡ä»¶ä¸­å¯ç”¨ <code>slow_query_log</code>ï¼Œè®¾ç½® <code>long_query_time</code>ï¼Œè®°å½•æ…¢æŸ¥è¯¢è¯­å¥</li><li>é€šè¿‡ <code>mysqldumpslow</code> æˆ– <code>pt-query-digest</code> å·¥å…·åˆ†ææ—¥å¿—ï¼Œæ‰¾å‡ºé«˜é¢‘æˆ–é«˜è€—æ—¶çš„ SQL</li></ul></li></ul><h3 id="2-ç´¢å¼•ä¼˜åŒ–"><a href="#2-ç´¢å¼•ä¼˜åŒ–" class="headerlink" title="2. ç´¢å¼•ä¼˜åŒ–"></a>2. ç´¢å¼•ä¼˜åŒ–</h3><ul><li><strong>æ·»åŠ ç´¢å¼•</strong>ï¼šå¯¹ <code>WHERE</code>ã€<code>JOIN</code>ã€<code>ORDER BY</code>ã€<code>GROUP BY</code> æ¶‰åŠçš„å­—æ®µåˆ›å»ºç´¢å¼•</li><li><strong>ä¼˜åŒ–ç´¢å¼•ä½¿ç”¨</strong><ul><li>ä¸è¦åœ¨ç´¢å¼•å­—æ®µä¸Šä½¿ç”¨å‡½æ•°æˆ–è®¡ç®—ï¼Œå¦åˆ™ç´¢å¼•å¤±æ•ˆ</li><li>è”åˆç´¢å¼•éµå¾ªæœ€å·¦å‰ç¼€åŸåˆ™ï¼Œå¦åˆ™ç´¢å¼•å®Œå…¨å¤±æ•ˆæˆ–éƒ¨åˆ†å¤±æ•ˆ</li><li>é€‰æ‹©é«˜åŒºåˆ†åº¦å­—æ®µä½œä¸ºç´¢å¼•</li><li>é€‰æ‹©å ç”¨å­˜å‚¨ç©ºé—´è¾ƒå°çš„å­—æ®µä½œä¸ºç´¢å¼•</li><li>ç¡®ä¿æŸ¥è¯¢å­—æ®µå…¨éƒ¨åœ¨ç´¢å¼•ä¸­ï¼Œé¿å…å›è¡¨æŸ¥è¯¢</li></ul></li></ul><h3 id="3-sqlè¯­å¥ä¼˜åŒ–"><a href="#3-sqlè¯­å¥ä¼˜åŒ–" class="headerlink" title="3. sqlè¯­å¥ä¼˜åŒ–"></a>3. sqlè¯­å¥ä¼˜åŒ–</h3><ul><li>**é¿å… SELECT ***ï¼šä»…é€‰æ‹©å¿…è¦å­—æ®µï¼Œå‡å°‘æ•°æ®ä¼ è¾“å’Œå†…å­˜å¼€é”€</li><li><strong>ä¼˜åŒ– join æ“ä½œ</strong><ul><li>ç¡®ä¿å…³è”å­—æ®µæœ‰ç´¢å¼•ï¼Œå°è¡¨ä½œä¸ºé©±åŠ¨è¡¨ï¼ˆæ”¾åœ¨joinå·¦ä¾§ï¼‰</li><li>é¿å…å¤šè¡¨ JOIN å¯¼è‡´ç¬›å¡å°”ç§¯è†¨èƒ€</li></ul></li><li><strong>åˆ†é¡µä¼˜åŒ–</strong>ï¼šé¿å…å¤§åç§»é‡ <code>LIMIT 100000, 10</code>ï¼Œæ”¹ç”¨åŸºäºæœ‰åºå­—æ®µçš„æ¸¸æ ‡åˆ†é¡µï¼Œå¦‚<code>WHERE id &gt; 100000 LIMIT 10 </code></li><li><strong>å‡å°‘å­æŸ¥è¯¢</strong>ï¼šå°†å­æŸ¥è¯¢æ”¹å†™ä¸º <code>JOIN</code></li></ul><h3 id="4-è¡¨ç»“æ„ä¼˜åŒ–"><a href="#4-è¡¨ç»“æ„ä¼˜åŒ–" class="headerlink" title="4.è¡¨ç»“æ„ä¼˜åŒ–"></a>4.è¡¨ç»“æ„ä¼˜åŒ–</h3><ul><li><strong>åˆ†è¡¨</strong><ul><li><strong>å‚ç›´åˆ†è¡¨</strong>ï¼šå°†å¤§å­—æ®µï¼ˆå¦‚ TEXTï¼‰æ‹†åˆ†åˆ°ç‹¬ç«‹è¡¨ï¼Œå‡å°‘ä¸»è¡¨ I&#x2F;O</li><li><strong>æ°´å¹³åˆ†è¡¨</strong>ï¼šæŒ‰æ—¶é—´ï¼ˆå¦‚æŒ‰æœˆï¼‰æˆ–å“ˆå¸Œåˆ†ç‰‡ï¼ˆå¦‚ user_id % 10ï¼‰åˆ†æ•£æ•°æ®</li></ul></li><li><strong>å­—æ®µç±»å‹ä¼˜åŒ–</strong><ul><li>ä½¿ç”¨æ›´å°çš„æ•°æ®ç±»å‹ï¼ˆå¦‚ <code>INT</code> æ›¿ä»£ <code>BIGINT</code>ï¼Œ<code>TIMESTAMP</code> æ›¿ä»£ <code>DATETIME</code>ï¼‰</li><li>é¿å… <code>NULL</code>ï¼Œç”¨é»˜è®¤å€¼ï¼ˆå¦‚ <code>0</code> æˆ–ç©ºå­—ç¬¦ä¸²ï¼‰ä»£æ›¿ï¼Œå‡å°‘ç´¢å¼•å¤æ‚åº¦</li></ul></li><li><strong>èŒƒå¼ä¸åèŒƒå¼å¹³è¡¡</strong>ï¼šé€‚å½“å†—ä½™é«˜é¢‘æŸ¥è¯¢å­—æ®µï¼Œå‡å°‘ JOIN æ¬¡æ•°ï¼ˆå¦‚è®¢å•è¡¨å†—ä½™ç”¨æˆ·åç§°ï¼‰</li></ul><h3 id="5-ç³»ç»Ÿçº§ä¼˜åŒ–"><a href="#5-ç³»ç»Ÿçº§ä¼˜åŒ–" class="headerlink" title="5.ç³»ç»Ÿçº§ä¼˜åŒ–"></a>5.ç³»ç»Ÿçº§ä¼˜åŒ–</h3><ul><li><p><strong>è°ƒæ•´ MySQL é…ç½®</strong></p><ul><li>å¢åŠ  <code>innodb_buffer_pool_size</code>ï¼ˆé€šå¸¸è®¾ä¸ºç‰©ç†å†…å­˜çš„ 70%~80%ï¼‰ï¼Œæå‡ç¼“å­˜å‘½ä¸­ç‡</li><li>è°ƒæ•´ <code>max_connections</code> é¿å…è¿æ¥æ•°ä¸è¶³</li></ul></li><li><p><strong>è¯»å†™åˆ†ç¦»</strong>ï¼šä¸»åº“å¤„ç†å†™æ“ä½œï¼Œä»åº“å¤„ç†è¯»æ“ä½œï¼Œåˆ†æ•£å‹åŠ›</p></li><li><p><strong>ä½¿ç”¨ç¼“å­˜</strong>ï¼šä½¿ç”¨ Redis ç¼“å­˜çƒ­ç‚¹æ•°æ®ï¼ˆå¦‚ç”¨æˆ·ä¿¡æ¯ï¼‰ï¼Œå‡å°‘ç›´æ¥æŸ¥è¯¢Mysqlæ•°æ®åº“</p></li></ul><h2 id="ä»€ä¹ˆæƒ…å†µä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Ÿ"><a href="#ä»€ä¹ˆæƒ…å†µä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæƒ…å†µä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Ÿ"></a>ä»€ä¹ˆæƒ…å†µä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Ÿ</h2><ul><li><p><strong>å¯¹ç´¢å¼•åˆ—ä½¿ç”¨å‡½æ•°æˆ–è¡¨è¾¾å¼</strong>ï¼šç´¢å¼•å­˜å‚¨çš„æ˜¯åˆ—çš„åŸå§‹å€¼ï¼Œå¯¹åˆ—è¿›è¡Œè¿ç®—æˆ–å‡½æ•°å¤„ç†åï¼Œæ— æ³•ç›´æ¥åŒ¹é…ç´¢å¼•ç»“æ„</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-comment">-- å¤±æ•ˆï¼šå¯¹ date åˆ—ä½¿ç”¨å‡½æ•°</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">YEAR</span>(create_time) <span class="hljs-operator">=</span> <span class="hljs-number">2023</span>;<br><br><span class="hljs-comment">-- ä¼˜åŒ–ï¼šæ”¹ä¸ºèŒƒå›´æŸ¥è¯¢</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <br><span class="hljs-keyword">WHERE</span> create_time <span class="hljs-keyword">BETWEEN</span> <span class="hljs-string">&#x27;2023-01-01&#x27;</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">&#x27;2023-12-31&#x27;</span>;<br></code></pre></td></tr></table></figure><ul><li><strong>æ³¨æ„</strong>ï¼šå¦‚æœä¸€å¼€å§‹ç´¢å¼•å°±æ˜¯YEAR(create_time)ï¼Œåˆ™ç¬¬ä¸€ä¸ªsqlè¯­å¥å¯ä»¥ç´¢å¼•ï¼Œè€Œç¬¬äºŒä¸ªä¸è¡Œ</li></ul></li><li><p><strong>ç´¢å¼•éšå¼ç±»å‹è½¬æ¢</strong>ï¼šæŸ¥è¯¢æ¡ä»¶ä¸ç´¢å¼•åˆ—ç±»å‹ä¸ä¸€è‡´æ—¶ï¼ŒMySQL ä¼šè¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Œå¯¼è‡´ç´¢å¼•å¤±æ•ˆ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- å¤±æ•ˆï¼šphone æ˜¯ VARCHARï¼Œä½†ç”¨æ•°å­—æŸ¥è¯¢</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users <span class="hljs-keyword">WHERE</span> phone <span class="hljs-operator">=</span> <span class="hljs-number">13812345678</span>;<br><br><span class="hljs-comment">-- ä¼˜åŒ–ï¼šä¿æŒç±»å‹ä¸€è‡´</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users <span class="hljs-keyword">WHERE</span> phone <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;13812345678&#x27;</span>;<br></code></pre></td></tr></table></figure></li><li><p><strong>å‰å¯¼æ¨¡ç³ŠæŸ¥è¯¢ï¼ˆ<code>LIKE &#39;%value&#39;</code>ï¼‰</strong>ï¼šB+æ ‘ç´¢å¼•æŒ‰å€¼çš„å‰ç¼€æ’åºï¼Œå‰å¯¼é€šé…ç¬¦ï¼ˆ<code>%</code>ï¼‰ä½¿ç´¢å¼•æ— æ³•å®šä½èµ·å§‹ä½ç½®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- å¤±æ•ˆï¼šä»¥ % å¼€å¤´</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;%æ‰‹æœº&#x27;</span>;<br><br><span class="hljs-comment">-- ä¼˜åŒ–ï¼šå°½é‡é¿å…å‰å¯¼æ¨¡ç³Šï¼Œæˆ–ä½¿ç”¨å…¨æ–‡ç´¢å¼•</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;æ——èˆ°%&#x27;</span>;<br></code></pre></td></tr></table></figure></li><li><p><strong>or ä½¿ç”¨ä¸å½“</strong>ï¼šOR è¿æ¥çš„å¤šä¸ªæ¡ä»¶ä¸­ï¼Œè‹¥è‡³å°‘ä¸€ä¸ªåˆ—æ— ç´¢å¼•ï¼Œåˆ™æ•´ä¸ªæŸ¥è¯¢å¯èƒ½æ— æ³•ä½¿ç”¨ç´¢å¼•</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- å¤±æ•ˆï¼šage æœ‰ç´¢å¼•ï¼Œä½† email æ— ç´¢å¼•</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users <span class="hljs-keyword">WHERE</span> age <span class="hljs-operator">=</span> <span class="hljs-number">25</span> <span class="hljs-keyword">OR</span> email <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;user@example.com&#x27;</span>;<br><br><span class="hljs-comment">-- ä¼˜åŒ–ï¼šä¸º email æ·»åŠ ç´¢å¼•ï¼Œæˆ–æ‹†åˆ†ä¸º UNION æŸ¥è¯¢</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users <span class="hljs-keyword">WHERE</span> age <span class="hljs-operator">=</span> <span class="hljs-number">25</span><br><span class="hljs-keyword">UNION</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users <span class="hljs-keyword">WHERE</span> email <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;user@example.com&#x27;</span>;<br></code></pre></td></tr></table></figure></li><li><p><strong>è”åˆç´¢å¼•æœªéµå¾ªæœ€å·¦å‰ç¼€æ³•åˆ™</strong>ï¼šè”åˆç´¢å¼• <code>(a, b, c)</code> ä»…æ”¯æŒ <code>a</code>ã€<code>a,b</code> æˆ– <code>a,b,c</code> æŸ¥è¯¢ï¼Œè·³è¿‡æœ€å·¦åˆ—ä¼šå¯¼è‡´å¤±æ•ˆ</p></li><li><p>**ä½¿ç”¨ <code>!=</code>ã€<code>&lt;&gt;</code> æˆ– <code>NOT IN</code>**ï¼šéç­‰å€¼æŸ¥è¯¢éœ€è¦æ‰«æå¤§éƒ¨åˆ†æ•°æ®ï¼Œä¼˜åŒ–å™¨å¯èƒ½æ”¾å¼ƒç´¢å¼•</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- å¤±æ•ˆï¼šä¸ç­‰äºæ“ä½œ</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">!=</span> <span class="hljs-string">&#x27;completed&#x27;</span>;<br><br><span class="hljs-comment">-- ä¼˜åŒ–ï¼šè‹¥è¿‡æ»¤èŒƒå›´å°ï¼Œå¯å¼ºåˆ¶ä½¿ç”¨ç´¢å¼•ï¼ˆéœ€è°¨æ…ï¼‰</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders FORCE INDEX(idx_status) <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">!=</span> <span class="hljs-string">&#x27;completed&#x27;</span>;<br></code></pre></td></tr></table></figure></li><li><p><strong>èŒƒå›´æŸ¥è¯¢åçš„ç´¢å¼•åˆ—å¤±æ•ˆ</strong>ï¼šè”åˆç´¢å¼•ä¸­ï¼Œè‹¥æŸä¸€åˆ—ä½¿ç”¨èŒƒå›´æŸ¥è¯¢ï¼ˆ<code>&gt;</code>ã€<code>&lt;</code>ã€<code>BETWEEN</code>ï¼‰ï¼Œåç»­åˆ—çš„ç´¢å¼•å¯èƒ½å¤±æ•ˆ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- ç´¢å¼• (age, salary)</span><br><span class="hljs-comment">-- age ä½¿ç”¨èŒƒå›´æŸ¥è¯¢ï¼Œsalary æ— æ³•èµ°ç´¢å¼•</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employees <span class="hljs-keyword">WHERE</span> age <span class="hljs-operator">&gt;</span> <span class="hljs-number">30</span> <span class="hljs-keyword">AND</span> salary <span class="hljs-operator">=</span> <span class="hljs-number">10000</span>;<br></code></pre></td></tr></table></figure></li><li><p><strong>æ•°æ®é‡å¤ç‡é«˜ï¼ˆä½åŒºåˆ†åº¦ï¼‰</strong>ï¼šè‹¥æŸåˆ—çš„å€¼é‡å¤ç‡æé«˜ï¼ˆå¦‚æ€§åˆ«ï¼‰ï¼Œä½¿ç”¨ç´¢å¼•å¯èƒ½ä¸å¦‚å…¨è¡¨æ‰«æé«˜æ•ˆ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- ç´¢å¼• (gender)</span><br><span class="hljs-comment">-- è‹¥ gender åªæœ‰ &#x27;M&#x27;/&#x27;F&#x27;ï¼Œå¯èƒ½ç›´æ¥å…¨è¡¨æ‰«æ</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users <span class="hljs-keyword">WHERE</span> gender <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;M&#x27;</span>;<br></code></pre></td></tr></table></figure></li><li><p><strong>æŸ¥è¯¢ä¼˜åŒ–å™¨çš„é€‰æ‹©</strong>ï¼šå³ä½¿ç´¢å¼•å­˜åœ¨ï¼Œä¼˜åŒ–å™¨å¯èƒ½æ ¹æ®ç»Ÿè®¡ä¿¡æ¯ï¼ˆå¦‚è¡¨å°ã€ç´¢å¼•åŒºåˆ†åº¦ä½ï¼‰é€‰æ‹©å…¨è¡¨æ‰«æ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- è¡¨ä»…æœ‰ 100 è¡Œæ—¶ï¼Œå¯èƒ½å¿½ç•¥ç´¢å¼•</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> small_table <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">&gt;</span> <span class="hljs-number">50</span>;<br></code></pre></td></tr></table></figure></li><li><p><strong>ç´¢å¼•åˆ—å‚ä¸è®¡ç®—</strong>ï¼šç´¢å¼•å­˜å‚¨åŸå§‹å€¼ï¼Œè®¡ç®—åçš„å€¼æ— æ³•ç›´æ¥åŒ¹é…ç´¢å¼•</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- å¤±æ•ˆï¼šprice åˆ—å‚ä¸è®¡ç®—</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> price <span class="hljs-operator">*</span> <span class="hljs-number">0.9</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;<br><br><span class="hljs-comment">-- ä¼˜åŒ–ï¼šé‡å†™æ¡ä»¶</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> price <span class="hljs-operator">=</span> <span class="hljs-number">100</span> <span class="hljs-operator">/</span> <span class="hljs-number">0.9</span>;<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mysql</tag>
      
      <tag>æ•°æ®åº“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Šå¿ƒç»ã€‹ç¬”è®°äºŒ</title>
    <link href="/2025/04/18/%E5%BF%83%E7%BB%8F%E7%AC%94%E8%AE%B0%E4%BA%8C/"/>
    <url>/2025/04/18/%E5%BF%83%E7%BB%8F%E7%AC%94%E8%AE%B0%E4%BA%8C/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸¤ä¸ªä¸–ç•Œ"><a href="#ä¸¤ä¸ªä¸–ç•Œ" class="headerlink" title="ä¸¤ä¸ªä¸–ç•Œ"></a>ä¸¤ä¸ªä¸–ç•Œ</h2><p>ä¸ä»…â€èˆ¬è‹¥â€œæ˜¯éŸ³è¯‘è¯ï¼Œâ€æ³¢ç½—èœœå¤šâ€œä¹Ÿæ˜¯éŸ³è¯‘è¯ã€‚â€æ³¢ç½—â€œæ˜¯å½¼å²¸çš„æ„æ€ï¼Œè€Œâ€èœœå¤šâ€œï¼Œè¿™é‡Œçš„å¤šå¯ä»¥çœç•¥ï¼Œæ˜¯æŠµè¾¾çš„æ„æ€ï¼Œæ‰€ä»¥â€œæ³¢ç½—èœœå¤šâ€æ˜¯å€’è£…å¥ï¼Œè¿™ä¹Ÿæ˜¯æ¢µæ–‡ä¸­å¸¸æœ‰çš„ç°è±¡ï¼Œæ„æ€ä¸ºâ€œæŠµè¾¾å½¼å²¸â€ã€‚â€è©è¨æ‘©è¯ƒè¨â€œï¼Œâ€æ‘©è¯ƒè¨â€œæ˜¯å¤§çš„æ„æ€ï¼Œè¿™é‡Œä¹Ÿæ˜¯å€’è£…ï¼Œâ€è©è¨æ‘©è¯ƒè¨â€œå³ä¸ºâ€å¤§è©è¨â€œã€‚åæ¥ï¼Œä¸­å›½äººç†è§£äº†ä½›ç»ï¼Œå°†â€æ³¢ç½—èœœå¤šâ€œç¿»è¯‘ä¸ºäº†ä¸€ä¸ªå­—ï¼šåº¦ï¼ˆæ¸¡ï¼‰ã€‚</p><p>ä¸ºä»€ä¹ˆæœ€å¼€å§‹ä¸­å›½æ²¡æœ‰â€åº¦â€œå‘¢ï¼Ÿå› ä¸ºä¸­å›½æ€æƒ³åœ¨å½“æ—¶æ²¡æœ‰â€ä¸¤ä¸ªä¸–ç•Œâ€œçš„åŒºåˆ†ï¼Œæˆ‘ä»¬æ‰€åœ¨çš„ä¸–ç•Œæ˜¯æ­¤å²¸ï¼Œå¦ä¸€ä¸ªä¸–ç•Œæ˜¯å½¼å²¸ã€‚ä¿®è¡Œæ˜¯ä¸ºäº†å¾—åº¦ï¼Œåº¦å­—ä¹Ÿè¢«å¹¿æ³›ä½¿ç”¨ï¼Œæ¯”å¦‚å‡ºå®¶äººå‰ƒå‘ï¼Œè¦å«å‰ƒåº¦ã€‚</p><p>â€æ­è°›â€œä¹Ÿæ˜¯â€åº¦â€œçš„æ„æ€ï¼Œæ‰€ä»¥å¿ƒç»æœ€åçš„å’’æ›°ï¼šâ€æ­è°›æ­è°›ï¼Œæ³¢ç½—æ­è°›â€œï¼Œâ€åº¦å•Šåº¦å•Šï¼Œåº¦åˆ°å½¼å²¸å»å§â€œã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œä½›æ•™ä¸­æœ‰å¾ˆå¤šå’’ï¼Œå’’å¾€å¾€æ˜¯é‡‡ç”¨éŸ³è¯‘çš„ã€‚</p><p>æˆ‘ä»¬æ‰€åœ¨çš„ä¸–ç•Œæ˜¯ç”Ÿç”Ÿç­ç­çš„ï¼Œè¯¸è¡Œæ— å¸¸ï¼Œæ˜¯ç”Ÿç­æ³•ï¼Œè€Œä¸ºäº†è¾¾åˆ°ä¸æœ½çš„å½¼å²¸ï¼Œæˆ‘ä»¬è·Ÿç€â€ä¿¡â€œï¼Œå­¦ä½›æ³•ã€‚æ¯”å¦‚å‡€åœŸå®—ï¼Œä»–ä»¬è®¤ä¸ºï¼Œå¦ä¸€ä¸ªä¸–ç•Œæ˜¯è¥¿æ–¹æä¹ä¸–ç•Œï¼Œæä¹å‡€åœŸï¼Œè¦æŠµè¾¾å½¼å²¸çš„æ–¹å¼æ˜¯å¿µä½›ï¼Œæ‰€ä»¥å‡€åœŸå®—åˆå«å¿µä½›å®—ã€‚å‡€åœŸå®—è®¤ä¸ºï¼Œè¥¿æ–¹æœ‰ä¸€ä½ä½›åœ¨æ¥å¼•æˆ‘ä»¬ï¼Œä¹Ÿå°±æ˜¯â€é˜¿å¼¥é™€ä½›â€œï¼Œç°åœ¨ï¼Œä¸­å›½äººä¹‹é—´è¡¨è¾¾â€œä¸ç”¨è°¢â€ï¼Œæœ‰æ—¶å€™ä¼šç”¨â€œé˜¿å¼¥é™€ä½›â€ï¼Œæ„æ€æ˜¯â€œä½ ä¸ç”¨è°¢æˆ‘ï¼Œæˆ‘ä»¬æœ‰ç€å…±åŒçš„ç†æƒ³ï¼Œå³åˆ°è¥¿æ–¹å‡€åœŸâ€ã€‚äººæ°‘ç¾¤ä¼—æ·³æœ´çš„ä¿¡å¿µï¼ŒåŒ–ä¸ºç”Ÿæ´»çš„å¢ƒç•Œã€‚ä½†æ˜¯ï¼Œè™½ç„¶å‡€åœŸå®—å¯ä»¥ä¿®æˆæ­£æœï¼Œå¯ä»¥æ‘†è„±è½®å›ï¼Œä½†æ˜¯è¿˜æ²¡æ‚Ÿï¼Œä½†æ˜¯è¥¿æ–¹å‡€åœŸæ¡ä»¶å¥½ï¼Œæœ‰å¸Œæœ›åœ¨è¥¿æ–¹å¾—åˆ°æ‚Ÿï¼Œâ€œèŠ±å¼€è§ä½›æ‚Ÿæ— ç”Ÿâ€ã€‚</p><p>ä½†æ˜¯ï¼Œè®²èˆ¬è‹¥æ™ºæ…§çš„600éƒ¨ã€Šå¤§èˆ¬è‹¥ç»ã€‹ï¼Œä¸»è¦è®²çš„æ˜¯ï¼Œæˆ‘ä»¬èƒ½å¦åœ¨å½“ä¸‹å°±æ‚Ÿå‘¢ï¼Ÿèƒ½å¦åœ¨æ­¤å²¸å°±æŠµè¾¾å½¼å²¸å‘¢ï¼Ÿæˆ‘ä»¬ç”Ÿæ´»åœ¨ç”Ÿç”Ÿç­ç­çš„å¨‘å©†ä¸–ç•Œï¼Œé˜æµ®æï¼Œè¿™ä¸ªä¸–ç•Œä¸å¥½ï¼Œå› ä¸ºæˆ‘ä»¬æ„Ÿå—åˆ°çš„äººç”Ÿæ˜¯è‹¦ï¼Œå››è°›ä¸­çš„ç¬¬ä¸€è°›å°±æ˜¯è‹¦è°›ï¼Œæ‰€ä»¥æˆ‘ä»¬æƒ³è¦è„±ç¦»è¿™ä¸ªä¸–ç•Œã€‚å‡€åœŸå®—çš„æ–¹æ³•æ˜¯ç®€æ˜çš„ï¼Œå‡ åå¹´å¦‚ä¸€æ—¥çš„å¿µä½›ï¼Œä»°ä»—ä½›åŠ›ï¼Œæ¨ªè¶…ä¸‰ç•Œã€‚ã€Šå¿ƒç»ã€‹æœ€åçš„å’’ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«ä¸€ç‚¹å¾—åº¦ã€‚æ…§èƒ½ä¹Ÿåœ¨ã€Šå›ç»ã€‹ä¸­å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸è¦å»¶å®•ï¼Œä¸è¦æŠŠè§‰æ‚Ÿè¿™ä»¶äº‹æ¨è¿Ÿåˆ°æ¥ä¸–ã€‚</p><h2 id="èˆ¬è‹¥"><a href="#èˆ¬è‹¥" class="headerlink" title="èˆ¬è‹¥"></a>èˆ¬è‹¥</h2><p>â€œèˆ¬è‹¥â€æ˜¯â€œå¯¹ç©ºçš„é¢†ä¼šâ€ï¼Œâ€œå¯¹è™šæ— çš„é¢†ä¼šâ€ï¼Œâ€œå¯¹ä¸–ç•Œæœ¬ä½“çš„é¢†ä¼šâ€ï¼Œæ˜¯æœ€é«˜çš„æ™ºæ…§ï¼Œå› ä¸ºâ€œç©ºâ€æ˜¯ä¸–ç•Œçš„æœ¬ä½“ï¼Œå› æ­¤åæ¥ä¹Ÿè¯‘æˆâ€œæ™ºæ…§â€äº†ï¼Œä½†è¿™ä¸ªæ™ºæ…§ä¸æ±‰è¯­è¯­å¢ƒä¸‹çš„æ™ºæ…§å¹¶ä¸å®Œå…¨ç›¸åŒã€‚å„’å®¶çš„è§‚ç‚¹æ˜¯ï¼Œâ€œå…­åˆä¹‹å¤–å­˜è€Œä¸è®ºâ€ï¼Œæ¢å¥è¯è¯´ï¼Œå„’å®¶åªè®¨è®ºæˆ‘ä»¬çš„å¨‘å©†ä¸–ç•Œï¼Œé˜æµ®æï¼Œè·Ÿç©ºæ²¡å…³ç³»ï¼›è€Œé“å®¶çš„æ— å’Œä½›å®¶çš„ç©ºï¼Œä¹Ÿä¸ä¸€æ ·ï¼Œé“å®¶çš„æ— æ˜¯å’Œæœ‰ç›¸å¯¹çš„ï¼Œä»¥ä½›å®¶çš„è§‚ç‚¹æ¥çœ‹ï¼Œé“å®¶çš„æœ‰å’Œæ— ï¼Œæœ‰ä¸€ä¸ªæ€»æ ¹æºï¼Œä¹Ÿå°±æ˜¯ä¸–ç•Œä¹‹æœ¬ä½“â€”â€”ç©ºã€‚äººæœ€åˆéƒ½ä¸æƒ³æ­»ï¼Œæƒ³æ°¸ç”Ÿï¼Œè¿™å°±å¼•å‘äº†èˆ¬è‹¥ä¹‹æ™ºã€‚æ…§èƒ½æ›¾è¨€ï¼Œâ€œè©æèˆ¬è‹¥ä¹‹æ™ºï¼Œä¸–äººæœ¬è‡ªæœ‰ä¹‹ï¼Œåªç¼˜å¿ƒè¿·ï¼Œä¸èƒ½è‡ªæ‚Ÿï¼Œéœ€å‡å¤§å–„çŸ¥è¯†ç¤ºå¯¼è§æ€§â€ï¼Œè¿™ä¹Ÿæ˜¯ã€Šå›ç»ã€‹ä¸­ç¬¬äºŒå“ã€Šèˆ¬è‹¥å“ã€‹ä¸€å¼€å¤´çš„è¯ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ä½›ç»ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ä½›ç»</tag>
      
      <tag>å¿ƒç»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Šå¿ƒç»ã€‹ç¬”è®°ä¸€</title>
    <link href="/2025/04/15/%E5%BF%83%E7%BB%8F%E7%AC%94%E8%AE%B0%E4%B8%80/"/>
    <url>/2025/04/15/%E5%BF%83%E7%BB%8F%E7%AC%94%E8%AE%B0%E4%B8%80/</url>
    
    <content type="html"><![CDATA[<h2 id="ã€Šå¿ƒç»ã€‹ä»‹ç»"><a href="#ã€Šå¿ƒç»ã€‹ä»‹ç»" class="headerlink" title="ã€Šå¿ƒç»ã€‹ä»‹ç»"></a>ã€Šå¿ƒç»ã€‹ä»‹ç»</h2><p>ã€Šå¿ƒç»ã€‹æ˜¯æœ€çŸ­çš„ä¸€éƒ¨ä½›ç»ï¼Œä¹Ÿç§°ã€Šèˆ¬ï¼ˆéŸ³åŒæ³¢ï¼‰è‹¥æ³¢ç½—èœœå¤šå¿ƒç»ã€‹ï¼Œå…±260å­—ã€‚ã€Šå¿ƒç»ã€‹ä¸­æœ‰å¾ˆå¤šåå¥ï¼Œâ€œè‰²ä¸å¼‚ç©ºï¼Œç©ºä¸å¼‚è‰²ï¼Œè‰²å³æ˜¯ç©ºï¼Œç©ºå³æ˜¯è‰²â€å°±å‡ºè‡ªäºè¿™ç¯‡ç»æ–‡ã€‚</p><p>ã€Šå¿ƒç»ã€‹å¯¹ä¸­å›½æœ‰é‡è¦å½±å“ã€‚è¿™é‡Œçš„â€œå¿ƒâ€ï¼Œæ˜¯ã€Šå¤§èˆ¬è‹¥ç»ã€‹çš„ç²¾åçº²è¦ï¼Œè€Œã€Šå¤§èˆ¬è‹¥ç»ã€‹åˆ™æ˜¯é‡Šè¿¦æ‘©å°¼ä½›è®²ä½›æ³•49å¹´ï¼Œç•™ä¸‹çš„1000å¤šéƒ¨ä½›ç»ä¸­çš„600éƒ¨çš„æ€»ç§°ï¼Œè¿™600éƒ¨ä½›ç»éƒ½å›´ç»•ç€â€œèˆ¬è‹¥â€è¿™ä¸ªä¸»é¢˜ã€‚ä½›é™€è¯´ä¿®è¡Œçš„å¢ƒç•Œï¼Œè®²çš„æœ€å¤šçš„å°±æ˜¯â€œèˆ¬è‹¥æ™ºæ…§â€ã€‚â€œèˆ¬è‹¥â€è¢«ç§°ä¸ºâ€œè¯¸ä½›ä¹‹æ¯â€ã€‚</p><p>â€œèˆ¬è‹¥â€æ˜¯éŸ³è¯‘è¯ï¼Œä¹‹æ‰€ä»¥éŸ³è¯‘ï¼Œæ˜¯å› ä¸ºå½“æ—¶çš„æ±‰è¯­ä¸­æ²¡æœ‰ä¸€ä¸ªç°æˆçš„è¯è¡¨è¾¾åŒæ ·çš„æ„æ€ã€‚æ‰¾ä¸åˆ°ç°æˆçš„è¯ä¹Ÿè¯´æ˜æˆ‘ä»¬æ°‘æ—å½“æ—¶çš„æ€æƒ³ä¸­ç¼ºå°‘äº†è¿™ä¸€å—ã€‚ä¸­å›½å“²å­¦èµ·æºäºå…ˆç§¦è¯¸å­ç™¾å®¶ï¼Œå„’å®¶è®²æ€§ç†ï¼Œé“å®¶è®²ç„ç†ï¼Œåå®¶è®²åç†ï¼Œä¹Ÿå°±æ˜¯é€»è¾‘ï¼Œä½†å½“æ—¶çš„ä¸­å›½è¯¸å­ç™¾å®¶å“²å­¦ä¸­ç¼ºå°‘äº†â€œç©ºç†â€ï¼Œå› æ­¤å°±åªèƒ½éŸ³è¯‘ä½›ç»ä¸­çš„å¾ˆå¤šè¯ï¼Œç„¶åæ‰å¯¹å…¶æ…¢æ…¢ç†è§£ï¼Œæ…¢æ…¢æ¶ˆåŒ–ï¼Œå°†å…¶èå…¥ä¸­å›½å“²å­¦æ€æƒ³ã€‚</p><p>ç„å¥˜ç¿»è¯‘äº†åƒç™¾éƒ¨ä½›ç»ï¼Œæœ€å¾—æ„çš„å°±æ˜¯ã€Šå¿ƒç»ã€‹ã€‚</p><h2 id="ç¼˜èµ·"><a href="#ç¼˜èµ·" class="headerlink" title="ç¼˜èµ·"></a>ç¼˜èµ·</h2><p>æˆ‘ä»¬ç°åœ¨çœ‹åˆ°çš„ã€Šå¿ƒç»ã€‹å¤§å¤šæ˜¯ç„å¥˜æ‰€è¯‘ï¼Œä½†æ˜¯å¼€ç»éƒ¨åˆ†ï¼ˆè¯´æ˜æ³•ä¼šçš„å› ç”±ï¼‰å’Œç»“ç»éƒ¨åˆ†è¢«çœç•¥æ‰äº†ã€‚</p><p>è¿™éƒ¨ç»çš„ç¼˜èµ·æ˜¯è¿™æ ·çš„ï¼ˆä¸ºä»€ä¹ˆä¼šæœ‰è¿™éƒ¨ç»ï¼‰ï¼šä¸€æ—¥ï¼Œä½›é™€æ­£å‡†å¤‡è¯´ä½›æ³•ï¼Œåœ¨åœºæœ‰ä¸€ä½è§‚è‡ªåœ¨è©è¨ï¼ˆè§‚ä¸–éŸ³è©è¨ï¼‰ï¼Œç«™èµ·æ¥å‘ä½›é™€è¡Œç¤¼ï¼Œå‘ä½›é™€è®²ï¼šâ€œèˆåˆ©å­å‘æˆ‘æå‡ºè¯·æ±‚ï¼Œå¸Œæœ›æˆ‘èƒ½è®²ä¸€è®²è©è¨çš„å¢ƒç•Œã€‚æˆ‘æƒ³è¦åœ¨è¿™é‡Œè®²ä¸€è®²å¾®å¦™çš„ä½›æ³•çš„è¦ä¹‰è¦é¢†â€</p><p>èˆåˆ©å­ï¼Œä¹Ÿå°±æ˜¯èˆåˆ©å¼—ï¼Œä»–çš„æ¯äº²ä¸ºèˆåˆ©ã€‚èˆåˆ©å­æ˜¯ä½›é™€åå¤§å¼Ÿå­ä¹‹ä¸€ï¼Œä»–çš„ç‰¹å¾æ˜¯â€œæ™ºæ…§â€ï¼Œå› æ­¤ç§°ä¸ºâ€œæ™ºæ…§ç¬¬ä¸€â€ï¼Œä½†å½“æ—¶ä»–çš„ä¿®è¡Œè¯å¾—äº†â€œé˜¿ç½—æ±‰æœâ€ã€‚</p><p>èˆåˆ©å­å¾ˆä¸Šè¿›ï¼Œä»–æ»¡è¶³å°ä¹˜çš„å¢ƒç•Œï¼ˆé˜¿ç½—æ±‰å¢ƒç•Œï¼‰ï¼Œä»–æƒ³è¦é€šå¾€å¤§ä¹˜çš„å¢ƒç•Œï¼ˆè©è¨çš„å¢ƒç•Œï¼‰ã€‚ä¿®å°ä¹˜ä½›æ•™è€…æ²¡æœ‰åšè©è¨çš„ç›®æ ‡ï¼Œæƒ³è¦åè©è¨å°±è¦è¿›å…¥å¤§ä¹˜å¢ƒç•Œï¼Œè¦æ™®æ¸¡ä¼—ç”Ÿã€‚èˆåˆ©å­å‘è§‚ä¸–éŸ³è©è¨æå‡ºäº†è¯·æ±‚ï¼Œè§‚ä¸–éŸ³è©è¨å¾—åˆ°äº†ä½›é™€çš„è®¸å¯ï¼Œåœ¨ä½›é™€çš„åŠ æŒã€æŠ¤å¿µä¹‹ä¸‹ï¼Œè¡Œå…¥ç”šæ·±æ³•ç•Œã€‚è¿™ç¯‡ç»æ–‡çš„ç¬¬ä¸€å¥ï¼Œå¯ä»¥çœ‹ä½œåºè¨€ï¼šâ€œè§‚è‡ªåœ¨è©è¨ï¼Œè¡Œæ·±èˆ¬è‹¥æ³¢ç½—èœœå¤šæ—¶ï¼Œç…§è§äº”è•´çš†ç©ºï¼Œåº¦ä¸€åˆ‡è‹¦å„ã€‚â€ï¼Œå…¶æ¥å†å°±æ˜¯å¦‚æ­¤ã€‚</p><p>è§‚è‡ªåœ¨è©è¨åœ¨ä½›é™€çš„åŠ æŒå’ŒæŠ¤å¿µä¸‹ï¼Œç²¾ç¥ä¸Šå…¥å®šï¼Œç„¶åå¯¹ä¸–ç•Œé‡‡å–å¦ä¸€ç§æ€åº¦â€”â€”â€œè§‚ç…§â€ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬å¹³æ—¶å¯¹ä¸–ç•Œçš„æ€åº¦â€”â€”â€œè®¤çŸ¥â€ã€‚ä»â€œè®¤çŸ¥â€åˆ°â€œè§‚ç…§â€æ˜¯ä¸å®¹æ˜“çš„ã€‚â€œè§‚è‡ªåœ¨è©è¨ï¼Œè¡Œæ·±èˆ¬è‹¥æ³¢ç½—èœœå¤šæ—¶ï¼Œç…§è§äº”è•´çš†ç©ºï¼Œåº¦ä¸€åˆ‡è‹¦å„ã€‚â€å¼€å¤´ç¬¬ä¸€ä¸ªå­—å°±æ˜¯â€œè§‚â€ï¼Œå’Œâ€œç…§è§â€ï¼Œåˆèµ·æ¥å°±æ˜¯â€œè§‚ç…§â€ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ä½›ç»ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ä½›ç»</tag>
      
      <tag>å¿ƒç»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸¤é“è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜ 4.15</title>
    <link href="/2025/04/15/%E4%B8%A4%E9%81%93%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98%204.15/"/>
    <url>/2025/04/15/%E4%B8%A4%E9%81%93%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98%204.15/</url>
    
    <content type="html"><![CDATA[<h2 id="HTTP1-0ã€HTTP1-1å’ŒHTTP2çš„åŒºåˆ«"><a href="#HTTP1-0ã€HTTP1-1å’ŒHTTP2çš„åŒºåˆ«" class="headerlink" title="HTTP1.0ã€HTTP1.1å’ŒHTTP2çš„åŒºåˆ«"></a>HTTP1.0ã€HTTP1.1å’ŒHTTP2çš„åŒºåˆ«</h2><h3 id="HTTP1-0-vs-HTTP1-1"><a href="#HTTP1-0-vs-HTTP1-1" class="headerlink" title="HTTP1.0 vs HTTP1.1"></a>HTTP1.0 vs HTTP1.1</h3><ul><li><strong>è¿æ¥æ–¹å¼</strong> : HTTP1.0é»˜è®¤ä¸ºçŸ­é“¾æ¥ï¼Œè€ŒHTTP1.1é»˜è®¤ä¸ºé•¿è¿æ¥</li><li><strong>çŠ¶æ€å“åº”ç </strong>ï¼šHTTP1.1æ–°åŠ å…¥äº†å¤§é‡çš„çŠ¶æ€ç ï¼Œæ¯”å¦‚409è¯·æ±‚ä¸å½“å‰èµ„æºçš„è§„å®šå†²çªï¼Œ410èµ„æºå·²æ°¸ä¹…åˆ é™¤</li><li><strong>è¿ç»­å‘é€è¯·æ±‚</strong>ï¼šHTTP1.1åœ¨é•¿è¿æ¥çš„åŸºç¡€ä¸Šï¼Œå…è®¸è¿ç»­å‘é€å¤šä¸ªè¯·æ±‚è€Œä¸éœ€ç­‰å¾…å“åº”ï¼Œä½†å­˜åœ¨<strong>é˜Ÿå¤´é˜»å¡</strong>é—®é¢˜<ul><li><strong>é˜Ÿå¤´é˜»å¡</strong>ï¼šå¦‚æœç¬¬ä¸€ä¸ªè¯·æ±‚çš„å“åº”è¾ƒæ…¢ï¼ˆå¦‚æœåŠ¡å™¨å¤„ç†æ—¶é—´é•¿æˆ–ç½‘ç»œå»¶è¿Ÿé«˜ï¼‰ï¼Œåç»­è¯·æ±‚å³ä½¿å·²ç»å‡†å¤‡å¥½ï¼Œä¹Ÿå¿…é¡»ç­‰å¾…ç¬¬ä¸€ä¸ªè¯·æ±‚å®Œæˆ</li></ul></li><li><strong>å‹ç¼©æ”¯æŒ</strong>ï¼šHTTP1.0å¯¹Bodyå‹ç¼©æ— æ ‡å‡†æ”¯æŒï¼Œè€ŒHTTP1.1æœ‰æ ‡å‡†çš„Bodyå‹ç¼©æœºåˆ¶ï¼Œåœ¨è¯·æ±‚å¤´çš„Content-Encodingä¸­</li><li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šåœ¨HTTP1.0ä¸­ï¼Œä¸»è¦ä½¿ç”¨Headeré‡Œçš„ If-Modified-Since å’Œ Expiresæ¥åˆ¤æ–­ç¼“å­˜çš„æ•°æ®æ˜¯å¦è¢«ä¿®æ”¹çš„æ ‡å‡†ï¼Œè€ŒHTTP1.1åˆ™å¼•å…¥äº†æ›´å¤šç¼“å­˜æ§åˆ¶ç­–ç•¥ï¼Œå¦‚Entity tagã€If-Matchç­‰</li><li><strong>è¯·æ±‚éƒ¨åˆ†æ•°æ®</strong>ï¼šåœ¨HTTP1.0ä¸­ï¼Œå­˜åœ¨ä¸€äº›æµªè´¹å¸¦å®½çš„ç°è±¡ï¼Œæ¯”å¦‚å®¢æˆ·ç«¯åªéœ€è¦æŸä¸ªå¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯æœåŠ¡å™¨å´æŠŠæ•´ä¸ªå¯¹è±¡é€è¿‡æ¥äº†ï¼Œå¹¶ä¸”ä¸æ”¯æŒæ–­ç‚¹ç»­ä¼ åŠŸèƒ½ï¼›è€ŒHTTP1.1åˆ™åœ¨è¯·æ±‚å¤´ä¸­å¼•å…¥äº†rangeï¼Œä»è€Œå…è®¸åªè¯·æ±‚èµ„æºçš„æŸä¸ªéƒ¨åˆ†ï¼ŒçŠ¶æ€ç ä¸º206éƒ¨åˆ†å†…å®¹ï¼Œä»è€Œå‡å°‘äº†å¯¹å¸¦å®½çš„æµªè´¹ã€‚</li><li><strong>Host å¤´å¤„ç†</strong>ï¼šHTTP1.1å¼•å…¥äº†Hostå¤´å­—æ®µï¼Œå…è®¸åœ¨åŒä¸€IPåœ°å€ä¸Šæ‰˜ç®¡å¤šä¸ªåŸŸåï¼Œä»è€Œæ”¯æŒè™šæ‹Ÿä¸»æœºåŠŸèƒ½</li></ul><h3 id="HTTP1-1-vs-HTTP2-0"><a href="#HTTP1-1-vs-HTTP2-0" class="headerlink" title="HTTP1.1 vs HTTP2.0"></a>HTTP1.1 vs HTTP2.0</h3><ul><li><strong>å¤šè·¯å¤ç”¨</strong>ï¼šHTTP2å¯ä»¥åœ¨åŒä¸€è¿æ¥ä¸ŠåŒæ—¶ä¼ è¾“å¤šä¸ªè¯·æ±‚å’Œå“åº”ï¼Œä¸”å¤šä¸ªè¯·æ±‚ä¹‹é—´äº’ä¸å¹²æ‰°ï¼Œ<strong>è§£å†³äº†HTTP1.1ä¸­çš„é˜Ÿå¤´é˜»å¡é—®é¢˜</strong><ul><li>å®é™…ä¸Šï¼ŒHTTP2ä¹Ÿå­˜åœ¨é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼šHTTP2ä¾ç„¶ä½¿ç”¨TCPå®ç°çš„ï¼Œè€ŒTCP è¦æ±‚æ•°æ®æŒ‰é¡ºåºåˆ°è¾¾ã€‚å¦‚æœæŸä¸ª TCP æ•°æ®åŒ…ä¸¢å¤±ï¼Œåç»­æ‰€æœ‰æ•°æ®ï¼ˆå³ä½¿å±äºä¸åŒ HTTP æµï¼‰å¿…é¡»ç­‰å¾…é‡ä¼ ã€‚</li></ul></li><li><strong>äºŒè¿›åˆ¶å¸§</strong>ï¼šHTTP1.1ä½¿ç”¨æ–‡æœ¬æ ¼å¼çš„æŠ¥æ–‡è¿›è¡Œä¼ è¾“ï¼Œè€ŒHTTP2ä½¿ç”¨äºŒè¿›åˆ¶å¸§è¿›è¡Œæ•°æ®ä¼ è¾“ï¼ŒäºŒè¿›åˆ¶å¸§æ›´åŠ ç´§å‡‘é«˜æ•ˆï¼Œå‡å°‘äº†ä¼ è¾“çš„æ•°æ®é‡å’Œå¸¦å®½æ¶ˆè€—</li><li><strong>å¤´éƒ¨å‹ç¼©</strong>ï¼šHTTP1.1æ”¯æŒå¯¹Bodyå‹ç¼©ï¼Œè€Œä¸æ”¯æŒå¯¹Headerè¿›è¡Œå‹ç¼©ï¼›HTTP2ä¸ä»…æ”¯æŒå¯¹Bodyå‹ç¼©ï¼Œè¿˜æ”¯æŒç”¨HPACKç®—æ³•å¯¹Headerè¿›è¡Œå‹ç¼©</li><li><strong>æœåŠ¡å™¨æ¨é€</strong>ï¼šHTTP2æ”¯æŒæœåŠ¡å™¨æ¨é€ï¼Œå¯ä»¥åœ¨å®¢æˆ·ç«¯è¯·æ±‚ä¸€ä¸ªèµ„æºæ—¶ï¼Œå°†å…¶ä»–ç›¸å…³èµ„æºä¸€å¹¶æ¨é€ç»™å®¢æˆ·ç«¯ï¼Œä»è€Œå‡å°‘äº†è¯·æ±‚æ¬¡æ•°å’Œå»¶è¿Ÿï¼›è€ŒHTTP1.1éœ€è¦å®¢æˆ·ç«¯è‡ªå·±å‘é€è¯·æ±‚æˆ–è®¸ç›¸å…³èµ„æº</li></ul><h2 id="TCPç²˜åŒ…å’Œæ‹†åŒ…é—®é¢˜"><a href="#TCPç²˜åŒ…å’Œæ‹†åŒ…é—®é¢˜" class="headerlink" title="TCPç²˜åŒ…å’Œæ‹†åŒ…é—®é¢˜"></a>TCPç²˜åŒ…å’Œæ‹†åŒ…é—®é¢˜</h2><ul><li><strong>ç²˜åŒ…</strong>ï¼šå¤šä¸ªæ•°æ®åŒ…è¢«åˆå¹¶æˆä¸€ä¸ª TCP æ®µå‘é€ï¼Œæ¥æ”¶æ–¹æ— æ³•æ­£ç¡®åŒºåˆ†åŸå§‹æ•°æ®åŒ…çš„è¾¹ç•Œ</li><li><strong>æ‹†åŒ…</strong>ï¼šä¸€ä¸ªæ•°æ®åŒ…è¢«æ‹†åˆ†æˆå¤šä¸ª TCP æ®µå‘é€ï¼Œæ¥æ”¶æ–¹éœ€è¦æ‹¼æ¥æ‰èƒ½è¿˜åŸå®Œæ•´æ•°æ®ã€‚</li></ul><h3 id="äº§ç”ŸåŸå› "><a href="#äº§ç”ŸåŸå› " class="headerlink" title="äº§ç”ŸåŸå› "></a>äº§ç”ŸåŸå› </h3><ul><li>TCPåè®®æ˜¯é¢å‘å­—èŠ‚æµçš„ï¼Œæ˜¯ä¸ç»´æŠ¤æ•°æ®è¾¹ç•Œçš„ï¼Œåªä¿è¯æ•°æ®å¯ä»¥æœ‰åºåˆ°è¾¾</li><li>å› ä¸ºæ»‘åŠ¨çª—å£çš„å­˜åœ¨ï¼ŒTCPåè®®å¯èƒ½ä¼šæ‹†åˆ†æˆ–åˆå¹¶æ•°æ®</li><li>ä¸ºäº†å‡å°‘ç½‘ç»œå¼€é”€ï¼ŒTCPåè®®é»˜è®¤ä¼šç¼“å­˜å°æ•°æ®åŒ…åˆå¹¶å‘é€</li><li>å¦‚æœæ•°æ®åŒ…è¶…è¿‡ MTUï¼ˆå¦‚ä»¥å¤ªç½‘é»˜è®¤ 1500 å­—èŠ‚ï¼‰ï¼ŒTCP ä¼šè‡ªåŠ¨æ‹†åŒ…</li></ul><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><ul><li><strong>å›ºå®šåŒ…é•¿åº¦</strong>ï¼šç»™æ¯ä¸ªæ•°æ®åŒ…å›ºå®šé•¿åº¦ï¼Œä¸è¶³é•¿åº¦çš„éƒ¨åˆ†è¡¥ç©ºï¼Œæœ‰ç‚¹æ˜¯æ“ä½œç®€å•ï¼Œç¼ºç‚¹æ˜¯å¯¹äºå˜é•¿æ•°æ®ä¼šæµªè´¹å¸¦å®½</li><li><strong>ç‰¹æ®Šå­—ç¬¦åˆ†å‰²</strong>ï¼šç”¨ç‰¹æ®Šå­—ç¬¦æ ‡è®°æ•°æ®åŒ…è¾¹ç•Œï¼Œä¼˜ç‚¹æ˜¯æ“ä½œç®€å•ï¼Œç¼ºç‚¹æ˜¯å¦‚æœæ•°æ®æœ¬èº«åŒ…å«åˆ†éš”ç¬¦ï¼Œåˆ™éœ€è½¬ä¹‰å¤„ç†</li><li><strong>å­—æ®µé•¿åº¦æ³•</strong>ï¼šåœ¨æ•°æ®åŒ…å¤´éƒ¨æ·»åŠ é•¿åº¦å­—æ®µï¼Œæ˜ç¡®æŒ‡å®šæ•°æ®é•¿åº¦ï¼Œä¼˜ç‚¹æ˜¯é«˜æ•ˆã€å¯å¤„ç†ä»»æ„é•¿åº¦æ•°æ®åŒ…ï¼Œç¼ºç‚¹æ˜¯éœ€è¦é¢å¤–è§£æé•¿åº¦å­—æ®µæ‰èƒ½ç¡®å®šå­—æ®µé•¿åº¦</li></ul>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¯¦è§£HashMap</title>
    <link href="/2025/04/14/%E8%AF%A6%E8%A7%A3HashMap/"/>
    <url>/2025/04/14/%E8%AF%A6%E8%A7%A3HashMap/</url>
    
    <content type="html"><![CDATA[<h2 id="åº•å±‚å®ç°"><a href="#åº•å±‚å®ç°" class="headerlink" title="åº•å±‚å®ç°"></a>åº•å±‚å®ç°</h2><h3 id="JDK1-8-ä¹‹å‰"><a href="#JDK1-8-ä¹‹å‰" class="headerlink" title="JDK1.8 ä¹‹å‰"></a>JDK1.8 ä¹‹å‰</h3><p>HashMapçš„åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„å’Œé“¾è¡¨ã€‚</p><p>key çš„ <code>hashcode</code> ç»è¿‡äºŒæ¬¡å“ˆå¸Œå¤„ç†è¿‡åå¾—åˆ° hash å€¼ï¼Œç„¶åé€šè¿‡ <code>(n - 1) &amp; hash</code> åˆ¤æ–­å½“å‰å…ƒç´ å­˜æ”¾çš„ä½ç½®ï¼ˆè¿™é‡Œçš„ n æŒ‡çš„æ˜¯æ•°ç»„çš„é•¿åº¦ï¼‰ï¼Œå¦‚æœå½“å‰ä½ç½®å­˜åœ¨å…ƒç´ çš„è¯ï¼Œå°±åˆ¤æ–­è¯¥å…ƒç´ ä¸è¦å­˜å…¥çš„å…ƒç´ çš„ hash å€¼ä»¥åŠ key æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒçš„è¯ï¼Œç›´æ¥è¦†ç›–ï¼Œä¸ç›¸åŒå°±é€šè¿‡æ‹‰é“¾æ³•è§£å†³å†²çªã€‚</p><p>äºŒæ¬¡å“ˆå¸Œç”¨æ¥ä¼˜åŒ–å“ˆå¸Œå€¼çš„åˆ†å¸ƒï¼Œé€šè¿‡å¯¹åŸå§‹çš„ <code>hashCode()</code> è¿›è¡Œé¢å¤–å¤„ç†ï¼ŒäºŒæ¬¡å“ˆå¸Œå¯ä»¥å‡å°å“ˆå¸Œç¢°æ’ï¼Œä»è€Œæé«˜æ•°æ®çš„åˆ†å¸ƒå‡åŒ€æ€§ã€‚</p><h3 id="JDK1-8ä¹‹å"><a href="#JDK1-8ä¹‹å" class="headerlink" title="JDK1.8ä¹‹å"></a>JDK1.8ä¹‹å</h3><p>HashMapçš„åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„ã€é“¾è¡¨å’Œçº¢é»‘æ ‘ã€‚</p><p>å¦‚æœå½“å‰æ•°ç»„é•¿åº¦å¤§äºç­‰äº64ï¼Œä¸”é“¾è¡¨é•¿åº¦å¤§äºé˜ˆå€¼ï¼ˆé»˜è®¤ä¸º 8ï¼‰æ—¶ï¼Œå°†é“¾è¡¨è½¬åŒ–ä¸ºçº¢é»‘æ ‘ï¼›å¦‚æœæ•°ç»„é•¿åº¦æ²¡åˆ°64ï¼Œåˆ™ä¼šè¿›è¡Œæ‰©å®¹ã€‚æ•°ç»„æ‰©å®¹èƒ½å‡å°‘å“ˆå¸Œå†²çªçš„å‘ç”Ÿæ¦‚ç‡ï¼ˆå³å°†å…ƒç´ é‡æ–°åˆ†æ•£åˆ°æ–°çš„ã€æ›´å¤§çš„æ•°ç»„ä¸­ï¼‰ï¼Œè¿™åœ¨å¤šæ•°æƒ…å†µä¸‹æ¯”ç›´æ¥è½¬æ¢ä¸ºçº¢é»‘æ ‘æ›´é«˜æ•ˆã€‚</p><p>è€Œä¸”ï¼Œè½¬åŒ–ä¸ºçº¢é»‘æ ‘ç›®çš„æ˜¯å‡å°‘æœç´¢æ—¶é—´ï¼Œä½†æ˜¯çº¢é»‘æ ‘éœ€è¦ä¿æŒè‡ªå¹³è¡¡ï¼Œç»´æŠ¤æˆæœ¬è¾ƒé«˜ï¼Œå› æ­¤è¿‡æ—©å¼•å…¥çº¢é»‘æ ‘åè€Œä¼šå¢åŠ å¤æ‚åº¦ï¼ŒèŠ±è´¹æ›´å¤šçš„æ—¶é—´ã€‚</p><h3 id="æ•°ç»„çš„é•¿åº¦ä¸ºä»€ä¹ˆä¸€å®šæ˜¯2çš„xæ¬¡æ–¹"><a href="#æ•°ç»„çš„é•¿åº¦ä¸ºä»€ä¹ˆä¸€å®šæ˜¯2çš„xæ¬¡æ–¹" class="headerlink" title="æ•°ç»„çš„é•¿åº¦ä¸ºä»€ä¹ˆä¸€å®šæ˜¯2çš„xæ¬¡æ–¹"></a>æ•°ç»„çš„é•¿åº¦ä¸ºä»€ä¹ˆä¸€å®šæ˜¯2çš„xæ¬¡æ–¹</h3><p>å› ä¸ºhashå€¼çš„èŒƒå›´æ˜¯-2147483648 ~ 2147483647ï¼Œè¿™ä¸ªèŒƒå›´è¿‡å¤§ï¼Œå› æ­¤éœ€è¦è®©hashå€¼å¯¹æ•°ç»„çš„é•¿åº¦å–æ¨¡è¿ç®—å¾—åˆ°çš„ä½™æ•°ä½œä¸ºå­˜æ”¾çš„ä½ç½®ï¼ˆæ•°ç»„ä¸‹æ ‡ï¼‰ï¼Œä½†æ˜¯å–ä½™(%)æ“ä½œæ˜¯å¤æ‚çš„ã€‚</p><p>å¦‚æœå–ä½™(%)æ“ä½œä¸­å¦‚æœé™¤æ•°æ˜¯ 2 çš„å¹‚æ¬¡åˆ™ç­‰ä»·äºä¸å…¶é™¤æ•°å‡ä¸€çš„ä¸(&amp;)æ“ä½œï¼Œæ¢å¥è¯è¯´ï¼Œ<code>hash % n == hash &amp; (n-1)</code> çš„å……è¦æ¡ä»¶æ˜¯ n æ˜¯ 2 çš„ x æ¬¡æ–¹ã€‚è€Œä¸(&amp;)æ“ä½œæ˜¯æ¯”å–ä½™æ“ä½œç®€å•å¾ˆå¤šçš„ï¼Œæ‰€ä»˜å‡ºçš„ä»£ä»·å¾ˆå°ï¼Œæ•ˆç‡æ›´é«˜ã€‚å› æ­¤ï¼Œæ•°ç»„é•¿åº¦é€‰ç”¨äº†2çš„xæ¬¡æ–¹ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œé•¿åº¦æ˜¯ 2 çš„å¹‚æ¬¡æ–¹ï¼Œå¯ä»¥è®© HashMap åœ¨æ‰©å®¹çš„æ—¶å€™æ›´å‡åŒ€ã€‚è€Œä¸”ï¼Œæ‰©å®¹æœºåˆ¶ä¹Ÿå˜å¾—ç®€å•å’Œé«˜æ•ˆï¼šæ‰©å®¹ååªéœ€æ£€æŸ¥å“ˆå¸Œå€¼é«˜ä½çš„å˜åŒ–æ¥å†³å®šå…ƒç´ çš„æ–°ä½ç½®ï¼Œè¦ä¹ˆä½ç½®ä¸å˜ï¼ˆé«˜ä½ä¸º 0ï¼‰ï¼Œè¦ä¹ˆå°±æ˜¯ç§»åŠ¨åˆ°æ–°ä½ç½®ï¼ˆé«˜ä½ä¸º 1ï¼ŒåŸç´¢å¼•ä½ç½®+åŸå®¹é‡ï¼‰ã€‚</p><h2 id="ä¸ºä»€ä¹ˆHashMapçº¿ç¨‹ä¸å®‰å…¨"><a href="#ä¸ºä»€ä¹ˆHashMapçº¿ç¨‹ä¸å®‰å…¨" class="headerlink" title="ä¸ºä»€ä¹ˆHashMapçº¿ç¨‹ä¸å®‰å…¨"></a>ä¸ºä»€ä¹ˆHashMapçº¿ç¨‹ä¸å®‰å…¨</h2><p>HashMapçº¿ç¨‹ä¸å®‰å…¨ä¸»è¦ä½“ç°åœ¨å› ä¸ºåœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼ŒHashMapä¼šå‘ç”Ÿæ­»å¾ªç¯å’Œæ•°æ®ä¸¢å¤±é—®é¢˜ã€‚</p><h3 id="æ­»å¾ªç¯"><a href="#æ­»å¾ªç¯" class="headerlink" title="æ­»å¾ªç¯"></a>æ­»å¾ªç¯</h3><p>æ­»å¾ªç¯é—®é¢˜å‘ç”Ÿåœ¨JDK1.8ä¹‹å‰çš„HashMapï¼Œå½“ä¸€ä¸ªæ¡¶ä½ä¸­æœ‰å¤šä¸ªå…ƒç´ éœ€è¦è¿›è¡Œæ‰©å®¹æ—¶ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶å¯¹é“¾è¡¨è¿›è¡Œæ“ä½œï¼Œå¤´æ’æ³•å¯èƒ½ä¼šå¯¼è‡´é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æŒ‡å‘é”™è¯¯çš„ä½ç½®ï¼Œä»è€Œå½¢æˆä¸€ä¸ªç¯å½¢é“¾è¡¨ï¼Œè¿›è€Œä½¿å¾—æŸ¥è¯¢å…ƒç´ çš„æ“ä½œé™·å…¥æ­»å¾ªç¯æ— æ³•ç»“æŸã€‚</p><p>JDK1.8å°†å¤´æ’æ³•æ›¿æ¢ä¸ºäº†å°¾æ’æ³•ï¼Œä»è€Œé¿å…äº†æ­»å¾ªç¯é—®é¢˜ã€‚</p><h3 id="æ•°æ®ä¸¢å¤±"><a href="#æ•°æ®ä¸¢å¤±" class="headerlink" title="æ•°æ®ä¸¢å¤±"></a>æ•°æ®ä¸¢å¤±</h3><p>ä¸¤ä¸ªçº¿ç¨‹ 1,2 åŒæ—¶è¿›è¡Œ put æ“ä½œï¼Œå¹¶ä¸”å‘ç”Ÿäº†å“ˆå¸Œå†²çªï¼ˆhash å‡½æ•°è®¡ç®—å‡ºçš„æ’å…¥ä¸‹æ ‡æ˜¯ç›¸åŒçš„ï¼‰ã€‚ä¸åŒçš„çº¿ç¨‹å¯èƒ½åœ¨ä¸åŒçš„æ—¶é—´ç‰‡è·å¾— CPU æ‰§è¡Œçš„æœºä¼šï¼Œå½“å‰çº¿ç¨‹ 1 æ‰§è¡Œå®Œå“ˆå¸Œå†²çªåˆ¤æ–­åï¼Œç”±äºæ—¶é—´ç‰‡è€—å°½æŒ‚èµ·ã€‚çº¿ç¨‹ 2 å…ˆå®Œæˆäº†æ’å…¥æ“ä½œã€‚éšåï¼Œçº¿ç¨‹ 1 è·å¾—æ—¶é—´ç‰‡ï¼Œç”±äºä¹‹å‰å·²ç»è¿›è¡Œè¿‡ hash ç¢°æ’çš„åˆ¤æ–­ï¼Œæ‰€æœ‰æ­¤æ—¶ä¼šç›´æ¥è¿›è¡Œæ’å…¥ï¼Œè¿™å°±å¯¼è‡´çº¿ç¨‹ 2 æ’å…¥çš„æ•°æ®è¢«çº¿ç¨‹ 1 è¦†ç›–äº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸¤é“æ“ä½œç³»ç»Ÿé¢è¯•é¢˜ 4.14</title>
    <link href="/2025/04/14/%E4%B8%A4%E9%81%93%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%9D%A2%E8%AF%95%E9%A2%98%204.14/"/>
    <url>/2025/04/14/%E4%B8%A4%E9%81%93%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%9D%A2%E8%AF%95%E9%A2%98%204.14/</url>
    
    <content type="html"><![CDATA[<h2 id="æ­»é”åŠå…¶äº§ç”Ÿçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#æ­»é”åŠå…¶äº§ç”Ÿçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æ­»é”åŠå…¶äº§ç”Ÿçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ"></a>æ­»é”åŠå…¶äº§ç”Ÿçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><strong>æ­»é”</strong>æ˜¯è¿™æ ·çš„ä¸€ç§æƒ…å†µï¼š<strong>å¤šä¸ªè¿›ç¨‹&#x2F;çº¿ç¨‹åŒæ—¶è¢«é˜»å¡ï¼Œå®ƒä»¬ä¸­çš„ä¸€ä¸ªæˆ–è€…å…¨éƒ¨éƒ½åœ¨ç­‰å¾…æŸä¸ªèµ„æºè¢«é‡Šæ”¾</strong>ã€‚ç”±äºè¿›ç¨‹&#x2F;çº¿ç¨‹è¢«æ— é™æœŸåœ°é˜»å¡ï¼Œå› æ­¤ç¨‹åºä¸å¯èƒ½æ­£å¸¸ç»ˆæ­¢ã€‚</p><p>æ­»é”çš„äº§ç”Ÿæœ‰å››ä¸ª<strong>å¿…è¦æ¡ä»¶</strong>ï¼š</p><ol><li><strong>äº’æ–¥</strong>ï¼šèµ„æºæ˜¯éå…±äº«çš„ï¼Œä¸€ä¸ªèµ„æºä¸€æ¬¡åªèƒ½ç»™ä¸€ä¸ªè¿›ç¨‹&#x2F;çº¿ç¨‹ä½¿ç”¨ï¼Œå¦‚æœä¸€ä¸ªèµ„æºæ­£åœ¨è¢«ä½¿ç”¨ï¼Œå¦ä¸€ä¸ªè¿›ç¨‹&#x2F;çº¿ç¨‹æƒ³è¦ä½¿ç”¨è¿™ä¸ªèµ„æºï¼Œå°±å¿…é¡»ç­‰å¾…ï¼Œç›´åˆ°è¯¥èµ„æºè¢«é‡Šæ”¾</li><li><strong>å æœ‰å¹¶ç­‰å¾…</strong>ï¼šä¸€ä¸ªè¿›ç¨‹&#x2F;çº¿ç¨‹è‡³å°‘åº”è¯¥å æœ‰ä¸€ä¸ªèµ„æºï¼Œå¹¶ç­‰å¾…å¦ä¸€èµ„æºï¼Œè€Œè¯¥èµ„æºè¢«å…¶ä»–è¿›ç¨‹&#x2F;çº¿ç¨‹æ‰€å æœ‰</li><li><strong>éæŠ¢å </strong>ï¼šèµ„æºä¸èƒ½è¢«æŠ¢å ï¼Œåªèƒ½ç”±æŒæœ‰è¯¥èµ„æºçš„è¿›ç¨‹&#x2F;çº¿ç¨‹ä¸»åŠ¨é‡Šæ”¾</li><li><strong>å¾ªç¯ç­‰å¾…</strong>ï¼šä¸€ç»„ç­‰å¾…èµ„æºçš„è¿›ç¨‹&#x2F;çº¿ç¨‹ï¼Œå„è‡ªç­‰å¾…çš„èµ„æºæ˜¯å…¶ä»–è¿›ç¨‹&#x2F;çº¿ç¨‹æ‰€æŒæœ‰çš„</li></ol><p>åªè¦ç ´åäº†ä»¥ä¸Šä»»æ„ä¸€ä¸ªæ¡ä»¶ï¼Œæ­»é”å°±ä¸ä¼šå‘ç”Ÿã€‚</p><h2 id="å¯¹I-Oæ¨¡å‹çš„äº†è§£"><a href="#å¯¹I-Oæ¨¡å‹çš„äº†è§£" class="headerlink" title="å¯¹I&#x2F;Oæ¨¡å‹çš„äº†è§£"></a>å¯¹I&#x2F;Oæ¨¡å‹çš„äº†è§£</h2><ul><li><strong>é˜»å¡I&#x2F;Oæ¨¡å‹</strong>ï¼šåº”ç”¨ç¨‹åºå‘èµ·I&#x2F;Oæ“ä½œåä¼šè¢«é˜»å¡ï¼Œç›´åˆ°æ“ä½œå®Œæˆæ‰è¿”å›ç»“æœã€‚é€‚ç”¨äºå¯¹å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯ã€‚</li><li><strong>éé˜»å¡I&#x2F;Oæ¨¡å‹</strong>ï¼šåº”ç”¨ç¨‹åºå‘èµ·I&#x2F;Oæ“ä½œåç«‹å³è¿”å›ï¼Œä¸ä¼šè¢«é˜»å¡ï¼Œä½†éœ€è¦ä¸æ–­è½®è¯¢æˆ–è€…ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨æ¥æ£€æŸ¥I&#x2F;Oæ“ä½œæ˜¯å¦å®Œæˆã€‚é€‚åˆäºéœ€è¦è¿›è¡Œå¤šè·¯å¤ç”¨çš„åœºæ™¯ï¼Œä¾‹å¦‚éœ€è¦åŒæ—¶å¤„ç†å¤šä¸ªsocketè¿æ¥çš„æœåŠ¡å™¨ç¨‹åºã€‚</li><li><strong>I&#x2F;Oå¤ç”¨æ¨¡å‹</strong>ï¼šé€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼Œåº”ç”¨ç¨‹åºåŒæ—¶ç­‰å¾…å¤šä¸ªI&#x2F;Oæ“ä½œï¼Œå½“å…¶ä¸­ä»»ä½•ä¸€ä¸ªI&#x2F;Oæ“ä½œå‡†å¤‡å°±ç»ªæ—¶ï¼Œåº”ç”¨ç¨‹åºä¼šè¢«é€šçŸ¥ã€‚é€‚åˆäºéœ€è¦åŒæ—¶å¤„ç†å¤šä¸ªI&#x2F;Oæ“ä½œçš„åœºæ™¯ï¼Œæ¯”å¦‚é«˜å¹¶å‘çš„æœåŠ¡ç«¯ç¨‹åºã€‚</li><li><strong>ä¿¡å·é©±åŠ¨I&#x2F;Oæ¨¡å‹</strong>ï¼šåº”ç”¨ç¨‹åºå‘èµ·I&#x2F;Oæ“ä½œåï¼Œå¯ä»¥ç»§ç»­åšå…¶ä»–äº‹æƒ…ï¼Œå½“I&#x2F;Oæ“ä½œå®Œæˆæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå‘åº”ç”¨ç¨‹åºå‘é€ä¿¡å·æ¥é€šçŸ¥å…¶å®Œæˆã€‚é€‚åˆäºéœ€è¦å¼‚æ­¥I&#x2F;Oé€šçŸ¥çš„åœºæ™¯ï¼Œå¯ä»¥æé«˜ç³»ç»Ÿçš„å¹¶å‘èƒ½åŠ›ã€‚</li><li><strong>å¼‚æ­¥I&#x2F;Oæ¨¡å‹</strong>ï¼šåº”ç”¨ç¨‹åºå‘èµ·I&#x2F;Oæ“ä½œåå¯ä»¥ç«‹å³åšå…¶ä»–äº‹æƒ…ï¼Œå½“I&#x2F;Oæ“ä½œå®Œæˆæ—¶ï¼Œåº”ç”¨ç¨‹åºä¼šå¾—åˆ°é€šçŸ¥ã€‚å¼‚æ­¥I&#x2F;Oæ¨¡å‹ç”±æ“ä½œç³»ç»Ÿå†…æ ¸å®ŒæˆI&#x2F;Oæ“ä½œï¼Œåº”ç”¨ç¨‹åºåªéœ€ç­‰å¾…é€šçŸ¥å³å¯ã€‚é€‚åˆäºéœ€è¦å¤§é‡å¹¶å‘è¿æ¥å’Œé«˜æ€§èƒ½çš„åœºæ™¯ï¼Œèƒ½å¤Ÿå‡å°‘ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°ï¼Œæé«˜ç³»ç»Ÿæ•ˆç‡ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ“ä½œç³»ç»Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸¤é“è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜ 4.14</title>
    <link href="/2025/04/14/%E4%B8%A4%E9%81%93%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98%204.14/"/>
    <url>/2025/04/14/%E4%B8%A4%E9%81%93%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98%204.14/</url>
    
    <content type="html"><![CDATA[<h2 id="TLSå››æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹"><a href="#TLSå››æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹" class="headerlink" title="TLSå››æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹"></a>TLSå››æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹</h2><h3 id="ç¬¬ä¸€æ¬¡æ¡æ‰‹"><a href="#ç¬¬ä¸€æ¬¡æ¡æ‰‹" class="headerlink" title="ç¬¬ä¸€æ¬¡æ¡æ‰‹"></a>ç¬¬ä¸€æ¬¡æ¡æ‰‹</h3><p>é¦–å…ˆï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€åŠ å¯†é€šä¿¡è¯·æ±‚ï¼Œè¿™ä¸ªè¯·æ±‚ä¸»è¦åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><ol><li>å®¢æˆ·ç«¯æ”¯æŒçš„ <strong>TLS åè®®ç‰ˆæœ¬</strong></li><li>å®¢æˆ·ç«¯ç”Ÿæˆçš„ä¸€ä¸ª<strong>éšæœºæ•°</strong>ï¼Œè¿™ä¸ªéšæœºæ•°å°†ä¼š<strong>å‚ä¸ç”Ÿæˆ â€œä¼šè¯å¯†é’¥â€</strong></li><li>å®¢æˆ·ç«¯æ”¯æŒçš„<strong>å¯†ç å¥—ä»¶åˆ—è¡¨</strong>ï¼Œå¦‚ RSA åŠ å¯†ç®—æ³•</li></ol><h3 id="ç¬¬äºŒæ¬¡æ¡æ‰‹"><a href="#ç¬¬äºŒæ¬¡æ¡æ‰‹" class="headerlink" title="ç¬¬äºŒæ¬¡æ¡æ‰‹"></a>ç¬¬äºŒæ¬¡æ¡æ‰‹</h3><p>æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œå‘å®¢æˆ·ç«¯å‘å‡ºå“åº”ï¼Œä¸»è¦åŒ…å«å››ä¸ªéƒ¨åˆ†ï¼š</p><ol><li>ç¡®è®¤ <strong>TLS åè®®ç‰ˆæœ¬</strong>ï¼Œå¦‚æœ<strong>æµè§ˆå™¨ä¸æ”¯æŒï¼Œåˆ™å…³é—­åŠ å¯†é€šä¿¡</strong></li><li>æœåŠ¡ç«¯ç”Ÿæˆçš„ä¸€ä¸ª<strong>éšæœºæ•°</strong>ï¼Œè¿™ä¸ªéšæœºæ•°å°†ä¼š<strong>å‚ä¸ç”Ÿæˆ â€œä¼šè¯å¯†é’¥â€</strong></li><li>æœåŠ¡ç«¯æ”¯æŒçš„<strong>å¯†ç å¥—ä»¶åˆ—è¡¨</strong>ï¼Œå¦‚ RSA åŠ å¯†ç®—æ³•</li><li>æœåŠ¡å™¨çš„<strong>æ•°å­—è¯ä¹¦</strong></li></ol><h3 id="ç¬¬ä¸‰æ¬¡æ¡æ‰‹"><a href="#ç¬¬ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ç¬¬ä¸‰æ¬¡æ¡æ‰‹"></a>ç¬¬ä¸‰æ¬¡æ¡æ‰‹</h3><p>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„å›åº”ä¹‹åï¼Œé¦–å…ˆé€šè¿‡æµè§ˆå™¨æˆ–è€…æ“ä½œç³»ç»Ÿä¸­çš„ <strong>CA å…¬é’¥</strong>ï¼Œ<strong>ç¡®è®¤æœåŠ¡å™¨çš„æ•°å­—è¯ä¹¦çš„çœŸå®æ€§</strong>ã€‚</p><p>å¦‚æœè¯ä¹¦æ²¡æœ‰é—®é¢˜ï¼Œå®¢æˆ·ç«¯ä¼š<strong>ä»æ•°å­—è¯ä¹¦ä¸­å–å‡ºæœåŠ¡å™¨çš„å…¬é’¥</strong>ï¼Œç„¶åä½¿ç”¨å®ƒåŠ å¯†æŠ¥æ–‡ï¼Œå‘æœåŠ¡å™¨å‘é€å¦‚ä¸‹ä¿¡æ¯ï¼š</p><ol><li>ä¸€ä¸ªéšæœºæ•°ï¼ˆç¬¬ä¸‰ä¸ªéšæœºæ•°ï¼‰ï¼Œè¿™ä¸ªéšæœºæ•°å°†ä¼š<strong>å‚ä¸ç”Ÿæˆ â€œä¼šè¯å¯†é’¥â€</strong>ï¼Œä¸”è¯¥éšæœºæ•°ä¼š<strong>è¢«æœåŠ¡å™¨å…¬é’¥åŠ å¯†</strong></li><li><strong>å°†åŠ å¯†é€šä¿¡ç®—æ³•æ”¹å˜çš„é€šçŸ¥</strong>ï¼Œå‘Šè¯‰æœåŠ¡ç«¯<strong>éšåçš„ä¿¡æ¯éƒ½å°†ç”¨ä¼šè¯ç§˜é’¥åŠ å¯†é€šä¿¡</strong></li><li><strong>å®¢æˆ·ç«¯æ¡æ‰‹ç»“æŸé€šçŸ¥</strong>ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯çš„æ¡æ‰‹é˜¶æ®µå·²ç»ç»“æŸï¼ŒåŒæ—¶<strong>æŠŠä¹‹å‰æ‰€æœ‰å†…å®¹çš„å‘é€çš„æ•°æ®åšä¸ªæ‘˜è¦ï¼Œç”¨æ¥ä¾›æœåŠ¡ç«¯æ ¡éªŒ</strong></li></ol><p><em>åœ¨ç¬¬ä¸‰æ¬¡æ¡æ‰‹åï¼Œé€šä¿¡åŒæ–¹ç¡®å®šäº†åŠ å¯†ç®—æ³•å’Œä¸‰ä¸ªéšæœºæ•°ï¼Œå› æ­¤å¯ä»¥åˆ†åˆ«ç”ŸæˆåŒæ ·çš„ä¼šè¯å¯†é’¥</em></p><h3 id="ç¬¬å››æ¬¡æ¡æ‰‹"><a href="#ç¬¬å››æ¬¡æ¡æ‰‹" class="headerlink" title="ç¬¬å››æ¬¡æ¡æ‰‹"></a>ç¬¬å››æ¬¡æ¡æ‰‹</h3><p>æœåŠ¡ç«¯å°†ç¬¬ä¸‰ä¸ªéšæœºæ•°ç”¨æœåŠ¡å™¨ç§é’¥è§£å¯†ï¼Œå¹¶è®¡ç®—å‡ºä¼šè¯å¯†é’¥åï¼Œå‘å®¢æˆ·ç«¯å‘é€ä»¥ä¸‹ä¿¡æ¯ï¼š</p><ol><li><strong>å°†åŠ å¯†é€šä¿¡ç®—æ³•æ”¹å˜çš„é€šçŸ¥</strong>ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯<strong>éšåçš„ä¿¡æ¯éƒ½å°†ç”¨ä¼šè¯ç§˜é’¥åŠ å¯†é€šä¿¡</strong></li><li><strong>æœåŠ¡ç«¯æ¡æ‰‹ç»“æŸé€šçŸ¥</strong>ï¼Œè¡¨ç¤ºæœåŠ¡ç«¯çš„æ¡æ‰‹é˜¶æ®µå·²ç»ç»“æŸï¼ŒåŒæ—¶<strong>æŠŠä¹‹å‰æ‰€æœ‰å†…å®¹çš„å‘é€çš„æ•°æ®åšä¸ªæ‘˜è¦ï¼Œç”¨æ¥ä¾›å®¢æˆ·ç«¯æ ¡éªŒ</strong></li></ol><p>æ¥ä¸‹æ¥åŒæ–¹å°±å¯ä»¥ç”¨ä¼šè¯å¯†é’¥æ¥åŠ å¯†é€šä¿¡å•¦ï¼</p><h2 id="HTTPå’ŒRPCçš„åŒºåˆ«"><a href="#HTTPå’ŒRPCçš„åŒºåˆ«" class="headerlink" title="HTTPå’ŒRPCçš„åŒºåˆ«"></a>HTTPå’ŒRPCçš„åŒºåˆ«</h2><ul><li><strong>HTTPæ˜¯åè®®ï¼Œè€ŒRPCä¸æ˜¯åè®®ï¼Œè€Œæ˜¯ä¸€ç§è°ƒç”¨æ–¹å¼</strong>ï¼Œå…¶å…·ä½“å®ç°ï¼Œæ¯”å¦‚gRPCç­‰ï¼Œæ‰æ˜¯å®ç°äº†RPCè°ƒç”¨çš„åè®®ã€‚<strong>PRCå­˜åœ¨çš„ç›®çš„æ˜¯å¸Œæœ›ç¨‹åºå‘˜èƒ½åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•é‚£æ ·æ¥è°ƒç”¨è¿œç«¯çš„æœåŠ¡æ–¹æ³•</strong>ã€‚</li><li><strong>RPC æœ‰å¾ˆå¤šç§å®ç°æ–¹å¼ï¼Œä¸ä¸€å®šéå¾—åŸºäº TCP åè®®</strong>ã€‚</li><li>ä»å‘å±•å†å²æ¥è¯´ï¼Œ<strong>HTTP ä¸»è¦ç”¨äº B&#x2F;S æ¶æ„ï¼Œè€Œ RPC æ›´å¤šç”¨äº C&#x2F;S æ¶æ„</strong>ã€‚ä½†ç°åœ¨å…¶å®å·²ç»æ²¡åˆ†é‚£ä¹ˆæ¸…äº†ï¼ŒB&#x2F;S å’Œ C&#x2F;S åœ¨æ…¢æ…¢èåˆã€‚å¾ˆå¤šè½¯ä»¶åŒæ—¶æ”¯æŒå¤šç«¯ï¼Œæ‰€ä»¥<strong>å¯¹å¤–ä¸€èˆ¬ç”¨ HTTP åè®®</strong>ï¼Œè€Œ<strong>å†…éƒ¨é›†ç¾¤çš„å¾®æœåŠ¡ä¹‹é—´åˆ™é‡‡ç”¨ RPC</strong> è¿›è¡Œé€šè®¯ã€‚</li><li><strong>RPC å‡ºç°æ›´æ—©ï¼Œä¸”æ¯”ç›®å‰ä¸»æµçš„ HTTP&#x2F;1.1 æ€§èƒ½è¦æ›´å¥½</strong>ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†å…¬å¸å†…éƒ¨éƒ½è¿˜åœ¨ä½¿ç”¨ RPCã€‚ä½†æ˜¯<strong>HTTP&#x2F;2.0åœ¨ HTTP&#x2F;1.1çš„åŸºç¡€ä¸Šåšäº†ä¼˜åŒ–ï¼Œæ€§èƒ½å¯èƒ½æ¯”å¾ˆå¤š RPC åè®®éƒ½è¦å¥½</strong>ï¼Œä½†ç”±äºæ˜¯è¿™å‡ å¹´æ‰å‡ºæ¥çš„ï¼Œæ‰€ä»¥ä¹Ÿä¸å¤ªå¯èƒ½å–ä»£æ‰ RPCã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸¤é“mysqlé¢è¯•é¢˜ 4.10</title>
    <link href="/2025/04/10/%E4%B8%A4%E9%81%93%E5%B8%B8%E8%A7%81%E7%9A%84mysql%E9%9D%A2%E8%AF%95%E9%A2%98%204.10/"/>
    <url>/2025/04/10/%E4%B8%A4%E9%81%93%E5%B8%B8%E8%A7%81%E7%9A%84mysql%E9%9D%A2%E8%AF%95%E9%A2%98%204.10/</url>
    
    <content type="html"><![CDATA[<h2 id="äº‹åŠ¡çš„4ä¸ªç‰¹æ€§ï¼ˆACIDï¼‰"><a href="#äº‹åŠ¡çš„4ä¸ªç‰¹æ€§ï¼ˆACIDï¼‰" class="headerlink" title="äº‹åŠ¡çš„4ä¸ªç‰¹æ€§ï¼ˆACIDï¼‰"></a>äº‹åŠ¡çš„4ä¸ªç‰¹æ€§ï¼ˆACIDï¼‰</h2><ul><li><p><strong>åŸå­æ€§ï¼ˆAï¼‰</strong>ï¼šäº‹åŠ¡æ˜¯æœ€å°çš„æ‰§è¡Œå•ä½ï¼Œä¸å¯ä»¥è¢«åˆ†å‰²ï¼ŒåŠ¨ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå®Œå…¨ä¸èµ·ä½œç”¨ã€‚</p></li><li><p><strong>ä¸€è‡´æ€§ï¼ˆCï¼‰</strong>ï¼šæ‰§è¡Œäº‹åŠ¡å‰åï¼Œæ•°æ®ä¿æŒä¸€è‡´ã€‚æ¯”å¦‚è½¬è´¦äº‹åŠ¡ä¸­ï¼Œä¸è®ºäº‹åŠ¡æ˜¯å¦æˆåŠŸï¼Œè½¬è´¦è€…å’Œæ”¶æ¬¾äººé’±çš„æ€»é¢æ˜¯ä¸å˜çš„ã€‚</p></li><li><p><strong>éš”ç¦»æ€§ï¼ˆIï¼‰</strong>ï¼šå¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œä¸€ä¸ªç”¨æˆ·çš„äº‹åŠ¡ä¸ä¼šè¢«å…¶ä»–äº‹åŠ¡æ‰€å¹²æ‰°ï¼Œå„ä¸ªå¹¶å‘äº‹åŠ¡ä¹‹é—´ï¼Œæ•°æ®åº“æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚</p></li><li><p><strong>æŒä¹…æ€§ï¼ˆDï¼‰</strong>ï¼šä¸€ä¸ªäº‹åŠ¡è¢«æäº¤åï¼Œå®ƒå¯¹æ•°æ®åº“çš„å½±å“æ˜¯æŒä¹…çš„ï¼Œå³ä½¿æ•°æ®åº“å‘ç”Ÿæ•…éšœä¹Ÿä¸åº”è¯¥å¯¹å…¶æœ‰å½±å“ã€‚</p></li></ul><p>äº‹åŠ¡çš„åŸå­æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§æ˜¯ä¸ºäº†ä¿è¯äº‹åŠ¡çš„ä¸€è‡´æ€§ã€‚</p><h2 id="äº‹åŠ¡çš„4ç§éš”ç¦»çº§åˆ«"><a href="#äº‹åŠ¡çš„4ç§éš”ç¦»çº§åˆ«" class="headerlink" title="äº‹åŠ¡çš„4ç§éš”ç¦»çº§åˆ«"></a>äº‹åŠ¡çš„4ç§éš”ç¦»çº§åˆ«</h2><p>SQL æ ‡å‡†å®šä¹‰äº†å››ä¸ªéš”ç¦»çº§åˆ«ï¼š</p><ul><li><strong>READ-UNCOMMITTEDï¼ˆè¯»æœªæäº¤ï¼‰</strong>ï¼šæœ€ä½çš„éš”ç¦»çº§åˆ«ï¼Œå…è®¸è¯»å–å°šæœªæäº¤çš„æ•°æ®å˜æ›´ï¼Œå¯èƒ½ä¼šå¯¼è‡´è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»ã€‚</li><li><strong>READ-COMMITTEDï¼ˆè¯»å·²æäº¤ï¼‰</strong>ï¼šå…è®¸è¯»å–å¹¶å‘äº‹åŠ¡å·²ç»æäº¤çš„æ•°æ®ï¼Œå¯ä»¥é˜»æ­¢è„è¯»ï¼Œä½†æ˜¯ä¸å¯é‡å¤è¯»å’Œå¹»è¯»ä»æœ‰å¯èƒ½å‘ç”Ÿã€‚</li><li><strong>REPEATABLE-READï¼ˆå¯é‡å¤è¯»ï¼‰</strong>ï¼šå¯¹åŒä¸€å­—æ®µçš„å¤šæ¬¡è¯»å–ç»“æœéƒ½æ˜¯ä¸€è‡´çš„ï¼Œé™¤éæ•°æ®æ˜¯è¢«æœ¬èº«äº‹åŠ¡è‡ªå·±æ‰€ä¿®æ”¹ï¼Œå¯ä»¥é˜»æ­¢è„è¯»å’Œä¸å¯é‡å¤è¯»ï¼Œä½†å¹»è¯»ä»æœ‰å¯èƒ½å‘ç”Ÿã€‚</li><li>**SERIALIZABLE(ä¸²è¡ŒåŒ–)**ï¼šæœ€é«˜çš„éš”ç¦»çº§åˆ«ï¼Œå®Œå…¨æœä» ACID çš„éš”ç¦»çº§åˆ«ã€‚æ‰€æœ‰çš„äº‹åŠ¡ä¾æ¬¡é€ä¸ªæ‰§è¡Œï¼Œè¿™æ ·äº‹åŠ¡ä¹‹é—´å°±å®Œå…¨ä¸å¯èƒ½äº§ç”Ÿå¹²æ‰°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥çº§åˆ«å¯ä»¥é˜²æ­¢è„è¯»ã€ä¸å¯é‡å¤è¯»ä»¥åŠå¹»è¯»ã€‚</li></ul><p>è¿™é‡Œè¡¥å……è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»ï¼š</p><ul><li><strong>è„è¯»</strong>ï¼šè¯»å–å…¶ä»–äº‹åŠ¡å°šæœªæäº¤çš„æ•°æ®å˜æ›´</li><li><strong>ä¸å¯é‡å¤è¯»</strong>ï¼šåœ¨åŒä¸€äº‹åŠ¡ä¸­ï¼Œå¯¹éè‡ªå·±ä¿®æ”¹çš„æ•°æ®çš„ä¸¤æ¬¡è¯»å–ç»“æœä¸åŒ</li><li><strong>å¹»è¯»</strong>ï¼šåœ¨ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å‡ è¡Œæ•°æ®ï¼Œæ¥ç€å¦ä¸€ä¸ªå¹¶å‘äº‹åŠ¡æ’å…¥äº†ä¸€äº›æ•°æ®ï¼Œåœ¨éšåçš„æŸ¥è¯¢ä¸­ï¼Œç¬¬ä¸€ä¸ªäº‹åŠ¡å°±ä¼šå‘ç°å¤šäº†ä¸€äº›åŸæœ¬ä¸å­˜åœ¨çš„è®°å½•</li></ul><p>åœ¨å¯é‡å¤è¯»çš„éš”ç¦»çº§åˆ«ä¸‹ï¼Œæ˜¯å¯ä»¥è§£å†³ä¸€éƒ¨åˆ†å¹»è¯»é—®é¢˜çš„ï¼š</p><ul><li>ç»™äº‹åŠ¡æ“ä½œçš„è¿™å¼ è¡¨æ·»åŠ è¡¨é”æˆ–è€… <code>Next-key Lock</code></li></ul>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mysql</tag>
      
      <tag>æ•°æ®åº“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸¤é“æ“ä½œç³»ç»Ÿé¢è¯•é¢˜ 4.9</title>
    <link href="/2025/04/09/%E4%B8%A4%E9%81%93%E5%B8%B8%E8%A7%81%E7%9A%84%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%9D%A2%E8%AF%95%E9%A2%98%204.9/"/>
    <url>/2025/04/09/%E4%B8%A4%E9%81%93%E5%B8%B8%E8%A7%81%E7%9A%84%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%9D%A2%E8%AF%95%E9%A2%98%204.9/</url>
    
    <content type="html"><![CDATA[<h2 id="è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h2><ul><li><strong>æœ¬è´¨æ–¹é¢</strong>ï¼Œè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ï¼›çº¿ç¨‹æ˜¯ä»»åŠ¡è°ƒåº¦å’Œæ‰§è¡Œçš„åŸºæœ¬å•ä½</li><li><strong>åœ¨åˆ‡æ¢å¼€é”€æ–¹é¢</strong>ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„ä»£ç å’Œæ•°æ®ç©ºé—´ï¼ˆç¨‹åºä¸Šä¸‹æ–‡ï¼‰ï¼Œè¿›ç¨‹ä¹‹é—´çš„åˆ‡æ¢ä¼šæœ‰è¾ƒå¤§çš„å¼€é”€ï¼›çº¿ç¨‹å¯ä»¥çœ‹åšè½»é‡çº§çš„è¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹ä¹‹é—´å…±äº«ä»£ç å’Œå †ç©ºé—´ï¼ŒåŒä¸€è¿›ç¨‹ä¸­çš„çº¿ç¨‹çš„åˆ‡æ¢ï¼Œåªéœ€è¦åˆ‡æ¢è¿è¡Œæ ˆå’Œç¨‹åºè®¡æ•°å™¨ï¼Œå¼€é”€è¾ƒå°â€˜</li><li><strong>åœ¨ç¨³å®šæ€§æ–¹é¢</strong>ï¼Œå¦‚æœä¸€ä¸ªè¿›ç¨‹å´©æºƒäº†ï¼Œå¾€å¾€ä¸ä¼šå½±å“å…¶ä»–è¿›ç¨‹åŠå…¶å…„å¼Ÿè¿›ç¨‹å’Œçˆ¶è¿›ç¨‹ï¼›å¦‚æœä¸€ä¸ªçº¿ç¨‹å´©æºƒäº†ï¼Œä¼šå½±å“åˆ°æ‰€åœ¨çš„æ•´ä¸ªè¿›ç¨‹</li><li><strong>å†…å­˜åˆ†é…æ–¹é¢</strong>ï¼šç³»ç»Ÿåœ¨è¿è¡Œçš„æ—¶å€™ä¼šä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸åŒçš„å†…å­˜ç©ºé—´ï¼›å¯¹çº¿ç¨‹è€Œè¨€ï¼Œé™¤äº†CPUå¤–ï¼Œç³»ç»Ÿä¸ä¼šä¸ºå…¶åˆ†é…å†…å­˜ï¼Œçº¿ç¨‹æ‰€ä½¿ç”¨çš„èµ„æºæ¥è‡ªå…¶æ‰€å±è¿›ç¨‹çš„èµ„æºï¼ŒåŒä¸€è¿›ç¨‹ä¸­çš„çº¿ç¨‹ä¹‹é—´åªèƒ½å…±äº«èµ„æº</li><li><strong>åŒ…å«å…³ç³»</strong>ï¼šä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹ï¼›ä¸€ä¸ªçº¿ç¨‹ä¼šå±äºä¸€ä¸ªè¿›ç¨‹</li></ul><h2 id="è¿›ç¨‹é—´çš„é€šä¿¡æ–¹å¼ï¼ˆIPCï¼‰æœ‰å“ªäº›ï¼Ÿ"><a href="#è¿›ç¨‹é—´çš„é€šä¿¡æ–¹å¼ï¼ˆIPCï¼‰æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="è¿›ç¨‹é—´çš„é€šä¿¡æ–¹å¼ï¼ˆIPCï¼‰æœ‰å“ªäº›ï¼Ÿ"></a>è¿›ç¨‹é—´çš„é€šä¿¡æ–¹å¼ï¼ˆIPCï¼‰æœ‰å“ªäº›ï¼Ÿ</h2><ul><li><strong>ç®¡é“</strong>ï¼šåŒ…å«åŒ¿åç®¡é“å’Œæœ‰åç®¡é“ã€‚åŒ¿åç®¡é“ä»…ç”¨äºçˆ¶å­è¿›ç¨‹å’Œå…„å¼Ÿè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œæœ‰åç®¡é“å¯ä»¥ä½œä¸ºæ–‡ä»¶å­˜åœ¨ï¼Œå¯ä»¥è®©æ— äº²ç¼˜å…³ç³»çš„è¿›ç¨‹ä¹‹é—´é€šä¿¡ã€‚ç‰¹ç‚¹æ˜¯ç®€å•ä½†å•å‘ï¼Œé€‚åˆå°æ•°æ®æµï¼Œæ•ˆç‡è¾ƒä½ã€‚</li><li><strong>æ¶ˆæ¯é˜Ÿåˆ—</strong>ï¼šå†…æ ¸ç»´æŠ¤çš„æ¶ˆæ¯é“¾è¡¨ï¼Œè¿›ç¨‹é€šè¿‡å”¯ä¸€æ ‡è¯†ç¬¦è®¿é—®ã€‚ç‰¹ç‚¹æ˜¯æ”¯æŒä¸åŒç±»å‹æ¶ˆæ¯ï¼ˆæŒ‰ä¼˜å…ˆçº§æˆ–ç±»å‹è¯»å–ï¼‰ï¼Œä½†æ¶‰åŠå†…æ ¸æ€åˆ‡æ¢ï¼Œæ€§èƒ½ä¸€èˆ¬ã€‚</li><li><strong>å…±äº«å†…å­˜</strong>ï¼šå¤šä¸ªè¿›ç¨‹æ˜ å°„åŒä¸€å—ç‰©ç†å†…å­˜ï¼Œç›´æ¥è¯»å†™æ•°æ®ã€‚ç‰¹ç‚¹æ˜¯é€Ÿåº¦æœ€å¿«ï¼ˆæ— éœ€å¤åˆ¶æ•°æ®ï¼‰ï¼Œä½†éœ€åŒæ­¥æœºåˆ¶ï¼ˆå¦‚ä¿¡å·é‡ï¼‰é¿å…å†²çªã€‚</li><li><strong>ä¿¡å·é‡</strong>ï¼šç”¨äºè¿›ç¨‹åŒæ­¥çš„è®¡æ•°å™¨ï¼Œé€šè¿‡ P()ç­‰å¾… å’Œ V()é‡Šæ”¾æ“ä½œæ§åˆ¶èµ„æºè®¿é—®ã€‚ç‰¹ç‚¹æ˜¯è§£å†³ç«æ€æ¡ä»¶ï¼Œæœ¬èº«ä¸ä¼ é€’æ•°æ®ï¼Œéœ€é…åˆå…¶ä»–IPCä½¿ç”¨ã€‚</li><li><strong>ä¿¡å·</strong>ï¼šå¼‚æ­¥é€šçŸ¥æœºåˆ¶ï¼ˆå¦‚ <code>SIGINT</code> ç»ˆæ­¢è¿›ç¨‹ï¼‰ï¼Œé€šè¿‡ <code>kill</code> å‘½ä»¤æˆ–ç³»ç»Ÿè°ƒç”¨å‘é€ã€‚ç‰¹ç‚¹æ˜¯è½»é‡çº§ï¼Œä»…ä¼ é€’ä¿¡å·ç¼–å·ï¼Œä¸èƒ½ä¼ è¾“å¤æ‚æ•°æ®ã€‚</li><li><strong>å¥—é—´å­—</strong>ï¼šæ”¯æŒè·¨ç½‘ç»œé€šä¿¡ï¼ˆå¦‚TCP&#x2F;UDPï¼‰ï¼Œä¹Ÿå¯ç”¨äºæœ¬åœ°è¿›ç¨‹ã€‚ç‰¹ç‚¹æ˜¯é€šç”¨æ€§å¼ºï¼Œä½†å¼€é”€è¾ƒå¤§ï¼Œé€‚ç”¨åˆ†å¸ƒå¼ç³»ç»Ÿã€‚</li><li><strong>å†…å­˜æ˜ å°„æ–‡ä»¶</strong>ï¼šæ–‡ä»¶æ˜ å°„åˆ°è¿›ç¨‹å†…å­˜ç©ºé—´ï¼Œå¤šä¸ªè¿›ç¨‹å…±äº«åŒä¸€æ–‡ä»¶ã€‚ç‰¹ç‚¹æ˜¯é€‚åˆå¤§æ–‡ä»¶å¤„ç†ï¼Œç±»ä¼¼å…±äº«å†…å­˜ä½†ä¾èµ–æ–‡ä»¶ç³»ç»Ÿã€‚</li></ul><h3 id="é€‰æ‹©ä¾æ®"><a href="#é€‰æ‹©ä¾æ®" class="headerlink" title="é€‰æ‹©ä¾æ®"></a>é€‰æ‹©ä¾æ®</h3><ul><li><strong>é€Ÿåº¦</strong>ï¼šå…±äº«å†…å­˜ &gt; ç®¡é“ &gt; æ¶ˆæ¯é˜Ÿåˆ— &gt; å¥—æ¥å­—ã€‚</li><li><strong>å¤æ‚åº¦</strong>ï¼šå¥—æ¥å­— &gt; å…±äº«å†…å­˜ï¼ˆéœ€åŒæ­¥ï¼‰ &gt; ç®¡é“ã€‚</li><li><strong>åœºæ™¯</strong>ï¼šç®€å•æ•°æ®æµç”¨ç®¡é“ï¼›é«˜æ€§èƒ½ç”¨å…±äº«å†…å­˜ï¼›è·¨æœºå™¨ç”¨å¥—æ¥å­—ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ“ä½œç³»ç»Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸¤é“è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜ 4.9</title>
    <link href="/2025/04/09/%E4%B8%A4%E9%81%93%E5%B8%B8%E8%A7%81%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98%204.9/"/>
    <url>/2025/04/09/%E4%B8%A4%E9%81%93%E5%B8%B8%E8%A7%81%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98%204.9/</url>
    
    <content type="html"><![CDATA[<h2 id="HTTPå’ŒHTTPSçš„åŒºåˆ«"><a href="#HTTPå’ŒHTTPSçš„åŒºåˆ«" class="headerlink" title="HTTPå’ŒHTTPSçš„åŒºåˆ«"></a>HTTPå’ŒHTTPSçš„åŒºåˆ«</h2><p>HTTPæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œé€šä¿¡åè®®ï¼ŒåŸºäºTCPæˆ–UDPï¼ˆHTTP3ï¼‰ï¼Œç”¨æ¥è§„èŒƒè¶…æ–‡æœ¬ï¼ˆç½‘ç»œä¸Šçš„å„ç§ä¿¡æ¯ï¼‰çš„ä¼ è¾“ã€‚é»˜è®¤ç«¯å£å·ä¸º80ã€‚</p><p>HTTPSæ˜¯è¶…æ–‡æœ¬ä¼ è¾“å®‰å…¨åè®®ï¼Œæ˜¯HTTPçš„åŠ å¼ºç‰ˆï¼Œå¯ä»¥è®¤ä¸ºæ˜¯åœ¨HTTPçš„åŸºç¡€ä¸Šï¼Œé¢å¤–ä½¿ç”¨ SSL&#x2F;TLS åè®®ç”¨ä½œåŠ å¯†å’Œå®‰å…¨è®¤è¯ã€‚é»˜è®¤ç«¯å£å·ä¸º443ã€‚</p><h3 id="ä¸»è¦åŒºåˆ«"><a href="#ä¸»è¦åŒºåˆ«" class="headerlink" title="ä¸»è¦åŒºåˆ«"></a>ä¸»è¦åŒºåˆ«</h3><ol><li>HTTPçš„è¿æ¥æ˜¯ç®€å•æ— çŠ¶æ€çš„ï¼ŒHTTPSçš„æ•°æ®ä¼ è¾“æ˜¯ç»è¿‡è¯ä¹¦åŠ å¯†çš„ï¼Œå®‰å…¨æ€§æ›´é«˜</li><li>HTTPæ˜¯å…è´¹çš„ï¼Œè€ŒHTTPSéœ€è¦ç”³è¯·è¯ä¹¦ï¼Œè¿™å¾€å¾€æ˜¯æ”¶è´¹çš„</li><li>HTTPé»˜è®¤æ˜¯80ç«¯å£ï¼ŒHTTPSé»˜è®¤æ˜¯443ç«¯å£ã€‚</li></ol><h3 id="HTTPSçš„ç¼ºç‚¹"><a href="#HTTPSçš„ç¼ºç‚¹" class="headerlink" title="HTTPSçš„ç¼ºç‚¹"></a>HTTPSçš„ç¼ºç‚¹</h3><ol><li>HTTPSçš„æ¡æ‰‹åè®®æ¯”è¾ƒè´¹æ—¶ï¼Œä»è€Œå½±å“äº†æœåŠ¡çš„å“åº”é€Ÿåº¦ä»¥åŠååé‡</li><li>HTTPSçš„è¯ä¹¦ä½“ç³»å¹¶éå®Œå…¨å®‰å…¨</li><li>HTTPSåœ¨é¢å¯¹DDOSæ”»å‡»æ—¶ï¼Œæ— æ³•èµ·åˆ°é˜²å¾¡ä½œç”¨</li><li>è¯ä¹¦éœ€è¦è´¹é’±ï¼ŒåŠŸèƒ½è¶Šå¼ºå¤§çš„è¯ä¹¦èŠ±è´¹è¶Šé«˜</li></ol><h2 id="è®¿é—®ç½‘é¡µçš„å…¨è¿‡ç¨‹"><a href="#è®¿é—®ç½‘é¡µçš„å…¨è¿‡ç¨‹" class="headerlink" title="è®¿é—®ç½‘é¡µçš„å…¨è¿‡ç¨‹"></a>è®¿é—®ç½‘é¡µçš„å…¨è¿‡ç¨‹</h2><ol><li><p>æµè§ˆå™¨é€šè¿‡DNSåè®®ï¼Œè·å–åŸŸåå¯¹åº”çš„IPåœ°å€</p><ul><li>DNS æ˜¯åº”ç”¨å±‚åè®®ï¼ŒåŸºäº UDP åè®®ä¹‹ä¸Šï¼Œç«¯å£ä¸º 53 </li><li>IP åè®®ï¼ˆç½‘é™…åè®®ï¼‰ä¸»è¦ä½œç”¨æ˜¯å®šä¹‰æ•°æ®åŒ…çš„æ ¼å¼ã€å¯¹æ•°æ®åŒ…è¿›è¡Œè·¯ç”±å’Œå¯»å€ï¼Œä»¥ä¾¿å®ƒä»¬å¯ä»¥è·¨ç½‘ç»œä¼ æ’­å¹¶åˆ°è¾¾æ­£ç¡®çš„ç›®çš„åœ°</li><li>ARP åè®®è§£å†³çš„æ˜¯ç½‘ç»œå±‚åœ°å€ï¼ˆIPåœ°å€ï¼‰å’Œé“¾è·¯å±‚åœ°å€ï¼ˆMACåœ°å€ï¼‰ä¹‹é—´çš„è½¬æ¢é—®é¢˜ã€‚</li></ul></li><li><p>æµè§ˆå™¨æ ¹æ® IP åœ°å€å’Œç«¯å£å·ï¼Œå‘ç›®æ ‡æœåŠ¡å™¨å‘èµ·ä¸€ä¸ª TCP&#x2F;UDP è¿æ¥è¯·æ±‚</p><ul><li>TCPï¼ˆä¼ è¾“æ§åˆ¶åè®® ï¼‰æä¾›é¢å‘è¿æ¥çš„ï¼Œå¯é çš„æ•°æ®ä¼ è¾“æœåŠ¡</li><li>UDPï¼ˆç”¨æˆ·æ•°æ®åè®®ï¼‰æä¾›æ— è¿æ¥çš„ï¼Œå°½æœ€å¤§åŠªåŠ›çš„æ•°æ®ä¼ è¾“æœåŠ¡ï¼ˆä¸ä¿è¯æ•°æ®ä¼ è¾“çš„å¯é æ€§ï¼‰ï¼Œç®€å•é«˜æ•ˆ</li></ul></li><li><p>æµè§ˆå™¨åœ¨ TCP&#x2F;UDP è¿æ¥ä¸Šï¼Œå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ª HTTP è¯·æ±‚æŠ¥æ–‡ï¼Œè¯·æ±‚è·å–ç½‘é¡µçš„å†…å®¹</p><ul><li>HTTPæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œé€šä¿¡åè®®ï¼ŒåŸºäºTCPæˆ–UDPï¼ˆHTTP3ï¼‰ï¼Œç”¨æ¥è§„èŒƒè¶…æ–‡æœ¬ï¼ˆç½‘ç»œä¸Šçš„å„ç§ä¿¡æ¯ï¼‰çš„ä¼ è¾“ã€‚é»˜è®¤ç«¯å£å·ä¸º80</li></ul></li><li><p>TCP&#x2F;UDP æŠ¥æ–‡åœ¨ç½‘ç»œå±‚è¿›è¡Œä¼ è¾“ï¼Œè¢«åˆ†ç»„ä¸ºIPæ•°æ®åŒ…</p><ul><li><p>ç½‘ç»œå±‚çš„åŠŸèƒ½æ˜¯è½¬å‘å’Œè·¯ç”±</p></li><li><p>è½¬å‘ï¼šå°†åˆ†ç»„ä»è·¯ç”±å™¨çš„è¾“å…¥ç«¯å£è½¬ç§»åˆ°åˆé€‚çš„è¾“å‡ºç«¯å£</p></li><li><p>è·¯ç”±ï¼šç¡®å®šåˆ†ç»„ä»æºåˆ°ç›®çš„ç»è¿‡çš„è·¯å¾„</p></li></ul></li><li><p>æœåŠ¡å™¨æ”¶åˆ° HTTP è¯·æ±‚æŠ¥æ–‡åï¼Œå¤„ç†è¯·æ±‚ï¼Œå¹¶è¿”å› HTTP å“åº”æŠ¥æ–‡ç»™æµè§ˆå™¨</p></li><li><p>æµè§ˆå™¨æ”¶åˆ° HTTP å“åº”æŠ¥æ–‡åï¼Œè§£æå“åº”ä½“ä¸­çš„ HTML ä»£ç ï¼Œæ¸²æŸ“ç½‘é¡µçš„ç»“æ„å’Œæ ·å¼ï¼ŒåŒæ—¶æ ¹æ® HTML ä¸­çš„å…¶ä»–èµ„æºçš„ URLï¼ˆå¦‚å›¾ç‰‡ã€CSSã€JS ç­‰ï¼‰ï¼Œå†æ¬¡å‘èµ· HTTP è¯·æ±‚ï¼Œè·å–è¿™äº›èµ„æºçš„å†…å®¹ï¼Œç›´åˆ°ç½‘é¡µå®Œå…¨åŠ è½½æ˜¾ç¤º</p></li><li><p>æµè§ˆå™¨åœ¨ä¸éœ€è¦å’ŒæœåŠ¡å™¨é€šä¿¡æ—¶ï¼Œå¯ä»¥ä¸»åŠ¨å…³é—­ TCP è¿æ¥ï¼Œæˆ–è€…ç­‰å¾…æœåŠ¡å™¨çš„å…³é—­è¯·æ±‚</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javaä¸­çš„æ‚²è§‚é”å’Œä¹è§‚é”</title>
    <link href="/2025/04/08/Java%E4%B8%AD%E7%9A%84%E6%82%B2%E8%A7%82%E9%94%81%E5%92%8C%E4%B9%90%E8%A7%82%E9%94%81/"/>
    <url>/2025/04/08/Java%E4%B8%AD%E7%9A%84%E6%82%B2%E8%A7%82%E9%94%81%E5%92%8C%E4%B9%90%E8%A7%82%E9%94%81/</url>
    
    <content type="html"><![CDATA[<h2 id="æ‚²è§‚é”"><a href="#æ‚²è§‚é”" class="headerlink" title="æ‚²è§‚é”"></a>æ‚²è§‚é”</h2><p>æ‚²è§‚é”çš„ä»£è¡¨æ˜¯<code>syschronized</code>å’Œ<code>Lock</code>é”ï¼š</p><ol><li>å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šâ€œçº¿ç¨‹åªæœ‰å æœ‰äº†é”ï¼Œæ‰èƒ½å»æ“ä½œå…±äº«å˜é‡ï¼Œæ¯æ¬¡åªæœ‰ä¸€ä¸ªçº¿ç¨‹ç«™æ‰€æˆåŠŸï¼Œè·å–é”å¤±è´¥çš„çº¿ç¨‹ï¼Œéƒ½å¾—åœä¸‹æ¥ç­‰å¾…â€</li><li>çº¿ç¨‹ä»è¿è¡Œåˆ°é˜»å¡ï¼Œå†ä»é˜»å¡åˆ°å”¤é†’ï¼Œæ¶‰åŠçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå¦‚æœé¢‘ç¹å‘ç”Ÿï¼Œå½±å“æ€§èƒ½</li><li>å®é™…ä¸Šï¼Œçº¿ç¨‹åœ¨è·å–<code>syschronized</code>å’Œ<code>Lock</code>é”æ—¶ï¼Œå¦‚æœé”å·²è¢«å ç”¨ï¼Œéƒ½ä¼šåšå‡ æ¬¡é‡è¯•æ“ä½œï¼Œå‡å°‘é˜»å¡æœºä¼š</li></ol><h2 id="ä¹è§‚é”"><a href="#ä¹è§‚é”" class="headerlink" title="ä¹è§‚é”"></a>ä¹è§‚é”</h2><p>ä¹è§‚é”çš„ä»£è¡¨æ˜¯<code>AtomicInteger</code>ï¼Œä½¿ç”¨casæ¥ä¿è¯åŸå­æ€§ï¼š</p><ol><li>å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šâ€œæ— éœ€åŠ é”ï¼Œæ¯æ¬¡åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æˆåŠŸä¿®æ”¹å…±äº«å˜é‡ï¼Œå…¶ä»–å¤±è´¥çš„çº¿ç¨‹ä¸éœ€è¦åœæ­¢ï¼Œä¸æ–­é‡è¯•ç›´è‡³æˆåŠŸâ€</li><li>ç”±äºçº¿ç¨‹ä¸€ç›´è¿è¡Œï¼Œä¸éœ€è¦é˜»å¡ï¼Œå› æ­¤ä¸æ¶‰åŠçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢</li><li>éœ€è¦å¤šæ ¸cpuæ”¯æŒï¼Œä¸”çº¿ç¨‹é”ä¸åº”è¶…è¿‡cpuæ ¸æ•°</li></ol>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>JUC</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JUCä¹‹volatiteå…³é”®å­—</title>
    <link href="/2025/04/08/JUC%E4%B9%8Bvolatite%E5%85%B3%E9%94%AE%E5%AD%97/"/>
    <url>/2025/04/08/JUC%E4%B9%8Bvolatite%E5%85%B3%E9%94%AE%E5%AD%97/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ä¹‹å‰å¯¹å•ä¾‹æ¨¡å¼çš„ä»‹ç»ä¸­ï¼Œæˆ‘æåˆ°äº†<code>volatite</code>ï¼Œåœ¨é‚£ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>volatite</code>æ˜¯ä¸ºäº†ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œé‚£ä¹ˆ<code>volatite</code>æ˜¯å¦èƒ½å¤Ÿå®Œå…¨ä¿è¯çº¿ç¨‹å®‰å…¨å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œçº¿ç¨‹å®‰å…¨éœ€è¦è€ƒè™‘ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢ï¼š</p><ol><li>å¯è§æ€§ï¼šä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡è¿›è¡Œä¿®æ”¹ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹èƒ½çœ‹åˆ°æœ€æ–°ç»“æœ</li><li>æœ‰åºæ€§ï¼šä¸€ä¸ªçº¿ç¨‹å†…ä»£ç æŒ‰ç¼–å†™é¡ºåºæ‰§è¡Œ</li><li>åŸå­æ€§ï¼šä¸€ä¸ªçº¿ç¨‹å†…å¤šè¡Œä»£ç ä»¥ä¸€ä¸ªæ•´ä½“è¿è¡Œï¼ŒæœŸé—´ä¸èƒ½æœ‰å…¶ä»–çº¿ç¨‹çš„ä»£ç æ’é˜Ÿ</li></ol><p>ç›´æ¥è¯´ç»“è®ºï¼Œ<code>volatite</code>å¯ä»¥ä¿è¯å…±äº«å˜é‡çš„å¯è§æ€§å’Œæœ‰åºæ€§ï¼Œä½†æ˜¯ä¸èƒ½ä¿è¯åŸå­æ€§ã€‚</p><h2 id="ä¸ºä»€ä¹ˆä¸èƒ½ä¿è¯åŸå­æ€§ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¸èƒ½ä¿è¯åŸå­æ€§ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¸èƒ½ä¿è¯åŸå­æ€§ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¸èƒ½ä¿è¯åŸå­æ€§ï¼Ÿ</h2><p>ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹<code>volatite</code>ä¿®é¥°çš„å˜é‡è¿›è¡ŒåŠ æˆ–å‡æ“ä½œæ—¶ï¼Œä¼šè¿›è¡Œå››æ­¥æ“ä½œï¼š</p><ol><li>å–å‡ºè¯¥å˜é‡çš„å€¼</li><li>å–å‡ºè¦å¢åŠ çš„æ•°</li><li>æŠŠä¸¤è€…ç›¸åŠ ï¼ˆå‡ï¼‰ï¼Œä»è€Œå¾—åˆ°å’Œï¼ˆå·®ï¼‰</li><li>æŠŠå’Œï¼ˆå·®ï¼‰èµ‹å€¼ç»™è¯¥å˜é‡</li></ol><p>å¯¹å˜é‡ç”¨<code>volatite</code>ä¿®é¥°ï¼Œå¹¶ä¸èƒ½ä¿è¯è¯¥å˜é‡åœ¨æ‰§è¡ŒåŠ æˆ–è€…å‡æ“ä½œæ—¶ï¼Œå¹¶ä¸èƒ½ä¿è¯å››ä¸ªæ­¥éª¤æ˜¯ä¸€æ¬¡æ€§è¿ç€å®Œæˆçš„ã€‚è¿™å°±æ— æ³•ä¿è¯åŸå­æ€§äº†ã€‚</p><h2 id="volatiteä¿è¯å¯è§æ€§çš„åŸç†"><a href="#volatiteä¿è¯å¯è§æ€§çš„åŸç†" class="headerlink" title="volatiteä¿è¯å¯è§æ€§çš„åŸç†"></a>volatiteä¿è¯å¯è§æ€§çš„åŸç†</h2><p>å½“æˆ‘ä»¬æ²¡æœ‰é€‰æ‹©<code>-Xint</code>é€‰é¡¹æ—¶ï¼ŒJITå¯èƒ½ä¼šå¯¹æˆ‘ä»¬çš„ä»£ç è¿›è¡Œä¼˜åŒ–ã€‚å¦‚æœJITå‘ç°æˆ‘ä»¬é•¿æ—¶é—´ç‰¹åˆ«å¤šæ¬¡åœ°è¯»å–ä¸€ä¸ªå˜é‡çš„å€¼éƒ½ä¸€æ ·ï¼Œå°±ä¼šâ€œå¸®åŠ©â€æˆ‘ä»¬ä¼˜åŒ–è¿™æ®µä»£ç ï¼Œåœ¨è¿™ä¹‹åï¼Œæˆ‘ä»¬å¯¹è¿™ä¸ªå€¼è¿›è¡Œä¿®æ”¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„ä»£ç å°±ä¸ä¸€å®šèƒ½è§åˆ°å€¼çš„ä¿®æ”¹ï¼Œå› ä¸ºJITä»¥åŠä¼˜åŒ–äº†è¿™æ®µä»£ç ï¼Œè¿™ä¸ªå˜é‡åœ¨è¿™æ®µä»£ç çš„æœºå™¨ç ä¸­å¯èƒ½å·²ç»æ˜¯ä¸€ä¸ªå®šå€¼äº†ã€‚è¿™å°±æ— æ³•ä¿è¯å¯è§æ€§äº†ã€‚</p><p>è€Œé€‰æ‹©<code>-Xint</code>ï¼Œåˆ™æ˜¯åœ¨å‘Šè¯‰è™šæ‹Ÿæœºï¼Œæˆ‘åªæƒ³ç”¨è§£é‡Šå™¨ï¼Œè€Œä¸ä½¿ç”¨JITä¼˜åŒ–ï¼Œä»è€Œé¿å…äº†è¿™ä¸ªé—®é¢˜ã€‚</p><p>ä½†æ˜¯é€‰æ‹©<code>-Xint</code>æœ‰ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹æ˜¯ï¼Œè¿™æ„å‘³ç€æ•´ä¸ªä»£ç éƒ½æ²¡æœ‰é€‰ç”¨JITä¼˜åŒ–ï¼Œä»è€Œä¸¥é‡é™ä½äº†ä»£ç çš„æ‰§è¡Œæ•ˆç‡ã€‚</p><p>è¿™ä¸ªæ—¶å€™ï¼Œä½¿ç”¨<code>volatite</code>å…³é”®å­—ä¿®é¥°å˜é‡ï¼Œå°±å¯ä»¥å¾ˆå¥½åœ°è§£å†³è¿™ä¸ªé—®é¢˜ï¼šè¿™æ„å‘³ç€å‘Šè¯‰è™šæ‹Ÿæœºï¼Œé’ˆå¯¹è¿™ä¸ªå˜é‡ï¼Œä¸è¿›è¡ŒJITä¼˜åŒ–ï¼Œè¿™å°±ä¿è¯äº†å¯è§æ€§ï¼Œä¹Ÿä¿è¯äº†æ•ˆç‡ã€‚</p><h2 id="volatiteä¿è¯æœ‰åºæ€§çš„åŸç†"><a href="#volatiteä¿è¯æœ‰åºæ€§çš„åŸç†" class="headerlink" title="volatiteä¿è¯æœ‰åºæ€§çš„åŸç†"></a>volatiteä¿è¯æœ‰åºæ€§çš„åŸç†</h2><p><code>volatite</code>æ˜¯ä½¿ç”¨å†…å­˜å±éšœä¿è¯æœ‰åºæ€§çš„ã€‚ä½¿ç”¨å†…å­˜å±éšœåï¼Œæˆ‘ä»¬å¯ä»¥ä¿è¯å¯¹â€œå†™æ“ä½œâ€ï¼Œâ€œå¯¹ä¿®é¥°çš„å˜é‡çš„å†™æ“ä½œâ€ä¸€å®šæ™šäºâ€œåŸä»£ç ä¸­æ—©äºâ€˜å¯¹ä¿®é¥°çš„å˜é‡çš„å†™æ“ä½œâ€™çš„å†™æ“ä½œâ€ï¼›å¯¹â€œè¯»æ“ä½œâ€ï¼Œâ€œå¯¹ä¿®é¥°å˜é‡çš„è¯»æ“ä½œâ€ä¸€å®šæ—©äºâ€œæºä»£ç ä¸­æ™šäºâ€™å¯¹ä¿®é¥°å˜é‡çš„è¯»æ“ä½œâ€˜çš„è¯»æ“ä½œâ€ã€‚çœ‹èµ·æ¥å¥½åƒæœ‰ç‚¹ç»•å£ï¼Œæˆ‘ä»¬ç”¨ä»£ç ä¸¾ä¸ªä¾‹å­ï¼š</p><p>å‡è®¾æˆ‘ä»¬å¯¹cå˜é‡ç”¨<code>volatite</code>å…³é”®å­—è¿›è¡Œä¿®é¥°ï¼Œè€Œaå’Œbä¸¤ä¸ªå˜é‡åˆ™æ²¡æœ‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">a = <span class="hljs-number">1</span>;<br>b = <span class="hljs-number">2</span>;<br>c = <span class="hljs-number">3</span>;<br></code></pre></td></tr></table></figure><p>ä¸ç®¡<code>a = 1</code>å’Œ<code>b = 2</code>çš„æ‰§è¡Œé¡ºåºæ€ä¹ˆæ ·ï¼Œ<code>c = 3</code>ä¸€å®šåœ¨ä¸¤è€…ä¹‹åæ‰§è¡Œã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">d = c;<br>e = b;<br>f = a;<br></code></pre></td></tr></table></figure><p>ä¸ç®¡<code>e = b</code>å’Œ<code>f = a</code>çš„æ‰§è¡Œé¡ºåºæ€ä¹ˆæ ·ï¼Œ<code>d = c</code>ä¸€å®šåœ¨ä¸¤è€…ä¹‹å‰æ‰§è¡Œã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>JUC</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JUCä¹‹Lock vs synchronized</title>
    <link href="/2025/03/30/synchronized/"/>
    <url>/2025/03/30/synchronized/</url>
    
    <content type="html"><![CDATA[<p>Lockå’Œsynchronizedéƒ½èƒ½å®ç°é”çš„åŠŸèƒ½ï¼Œä½†æ˜¯ä¸¤è€…ä¹‹é—´æœ‰ç€åŒºåˆ«ã€‚</p><h2 id="è¯­æ³•å±‚é¢"><a href="#è¯­æ³•å±‚é¢" class="headerlink" title="è¯­æ³•å±‚é¢"></a>è¯­æ³•å±‚é¢</h2><ul><li><strong>synchronizedæ˜¯å…³é”®å­—</strong>ï¼Œæºç ä½äºjvmï¼Œç”¨cppå®ç°ã€‚</li><li><strong>Lockæ˜¯æ¥å£</strong>ï¼Œæºç ç”±jdkæä¾›ï¼Œç”¨Javaè¯­è¨€å®ç°ã€‚</li><li><strong>ä½¿ç”¨synchronizedæ—¶ï¼Œé€€å‡ºåŒæ­¥ä»£ç å—æ—¶ï¼Œé”ä¼šè‡ªåŠ¨é‡Šæ”¾ï¼›è€Œä½¿ç”¨Lockæ—¶ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è°ƒç”¨unlockæ–¹æ³•é‡Šæ”¾é”ã€‚</strong></li></ul><h2 id="åŠŸèƒ½å±‚é¢"><a href="#åŠŸèƒ½å±‚é¢" class="headerlink" title="åŠŸèƒ½å±‚é¢"></a>åŠŸèƒ½å±‚é¢</h2><ul><li><strong>ä¸¤è€…éƒ½æ˜¯æ‚²è§‚é”ï¼Œéƒ½å…·å¤‡åŸºæœ¬çš„äº’æ–¥ã€åŒæ­¥ã€é”é‡å…¥åŠŸèƒ½ã€‚</strong></li><li><strong>Lockæä¾›äº†è®¸å¤šsynchronizedæ‰€ä¸å…·å¤‡çš„åŠŸèƒ½</strong>ï¼Œæ¯”å¦‚è·å–ç­‰å¾…çŠ¶æ€ã€å…¬å¹³é”ã€å¯æ‰“æ–­ã€å¯è¶…æ—¶ã€å¤šæ¡ä»¶å˜é‡ã€‚<ul><li>Lockæœ‰ç›¸åº”çš„æ–¹æ³•æ¥è·å–é‚£äº›çº¿ç¨‹è¢«é˜»å¡æˆ–ç­‰å¾…ã€‚</li><li>Lockæ”¯æŒå…¬å¹³é”å’Œéå…¬å¹³é”ï¼Œsynchronizedåªæ”¯æŒéå…¬å¹³é”ã€‚å…¬å¹³é”çš„æ„æ€æ˜¯ï¼Œäº‰æŠ¢é”å¤±è´¥çš„çº¿ç¨‹åœ¨ä¸‹æ¬¡äº‰æŠ¢é”æ—¶æ˜¯æŒ‰ç…§å…ˆæ¥å…ˆå¾—çš„ã€ä¸å…è®¸æ’é˜Ÿçš„ï¼Œåä¹‹åˆ™ä¸ºéå…¬å¹³é”ã€‚ï¼ˆä½†å…¶å®å…¬å¹³é”çš„ååé‡å¹¶ä¸å¦‚éå…¬å¹³é”é«˜ï¼‰</li><li>è¿™é‡Œå¯æ‰“æ–­å’Œå¯è¶…æ—¶çš„æ„æ€æ˜¯æŒ‡ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹æƒ³è¦è·å–ä¸€ä¸ªé”çš„æ—¶å€™ï¼Œå¦‚æœé”å·²ç»è¢«å¦ä¸€ä¸ªçº¿ç¨‹å æœ‰äº†ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯synchronizedï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±åªèƒ½ä¸€ç›´ç­‰å¾…åŒæ­¥ä»£ç å—æ‰§è¡Œå®Œæ¯•ï¼ŒåŒæ­¥ä»£ç å—ä¸­é—´ä¸èƒ½è¢«æ‰“æ–­ï¼Œç­‰å¾…é”çš„è¿‡ç¨‹ä¸­æ²¡æœ‰è¶…æ—¶æ—¶é™ï¼›å¯¹äºLocké”ï¼Œæä¾›äº†å¯¹åº”çš„æ–¹æ³•ï¼Œæ¯”å¦‚ä¸€æ®µæ—¶é—´æ²¡ç­‰åˆ°é”ï¼Œå°±ä¸è¦ç­‰ä¸‹å»äº†ã€‚</li><li>Lockè¿˜æ”¯æŒå¤šç»„æ¡ä»¶å˜é‡ä¸”å¯ä»¥æœ‰å¤šä¸ªç­‰å¾…é˜Ÿåˆ—ï¼›è€Œsynchronizedåªèƒ½æ”¯æŒä¸€ç»„æ¡ä»¶å˜é‡ï¼Œåªèƒ½æœ‰ä¸€ä¸ªç­‰å¾…é˜Ÿåˆ—</li></ul></li><li><strong>Lockæœ‰é€‚åˆä¸åŒåœºæ™¯çš„å®ç°</strong>ï¼Œæ¯”å¦‚ReentrantLockï¼ˆå¯é‡å…¥é”ï¼‰ã€ReentrantTReadWriteLockï¼ˆå¯é‡å…¥è¯»å†™é”ï¼Œæ›´é€‚åˆè¯»å¤šå†™å°‘çš„åœºæ™¯ï¼‰ã€‚</li></ul><h2 id="æ€§èƒ½å±‚é¢"><a href="#æ€§èƒ½å±‚é¢" class="headerlink" title="æ€§èƒ½å±‚é¢"></a>æ€§èƒ½å±‚é¢</h2><ul><li><strong>åœ¨æ²¡æœ‰ç«äº‰æˆ–ç«äº‰å¾ˆå°‘çš„æ—¶å€™ï¼Œsynchronized</strong>åšäº†å¾ˆå¤šä¼˜åŒ–ï¼Œå¦‚åå‘é”ã€è½»é‡çº§é”ç­‰ï¼Œ<strong>æ€§èƒ½ä¸é”™</strong>ã€‚</li><li><strong>åœ¨ç«äº‰æ¿€çƒˆçš„æƒ…å†µä¸‹ï¼ŒLockçš„å®ç°é€šå¸¸ä¼šæä¾›æ›´å¥½çš„æ€§èƒ½ã€‚</strong></li></ul>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>JUC</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JUCä¹‹sleep vs wait</title>
    <link href="/2025/03/30/wait/"/>
    <url>/2025/03/30/wait/</url>
    
    <content type="html"><![CDATA[<p>åœ¨<a href="https://flowertea.site/2025/03/29/JUC%E4%B9%8B%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81/">JUCä¹‹çº¿ç¨‹çŠ¶æ€</a>è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘æåˆ°äº†<strong>é™¤äº†è°ƒç”¨é”å¯¹è±¡çš„wait(long)ä¼šè®©çº¿ç¨‹è¿›å…¥æœ‰æ—¶é™ç­‰å¾…å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡è°ƒç”¨sleep(long)æ–¹æ³•ï¼Œæ¥è¿›å…¥æœ‰æ—¶é™ç­‰å¾…çŠ¶æ€ã€‚</strong>åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘å°±è®²è®²ä¸¤è€…çš„å¯¹æ¯”ã€‚</p><h2 id="å…±åŒç‚¹"><a href="#å…±åŒç‚¹" class="headerlink" title="å…±åŒç‚¹"></a>å…±åŒç‚¹</h2><ul><li><strong>wait()ã€wait(long)å’Œsleep(long)çš„æ•ˆæœéƒ½æ˜¯è®©å½“å‰çº¿ç¨‹æš‚æ—¶æ”¾å¼ƒCPUçš„ä½¿ç”¨æƒï¼Œè¿›å…¥é˜»å¡çŠ¶æ€</strong>ã€‚</li><li>ä¸‰è€…éƒ½å¯ä»¥è¢«æ‰“æ–­å”¤é†’ã€‚</li></ul><h2 id="ä¸åŒç‚¹"><a href="#ä¸åŒç‚¹" class="headerlink" title="ä¸åŒç‚¹"></a>ä¸åŒç‚¹</h2><h3 id="æ–¹æ³•å½’å±ä¸åŒ"><a href="#æ–¹æ³•å½’å±ä¸åŒ" class="headerlink" title="æ–¹æ³•å½’å±ä¸åŒ"></a>æ–¹æ³•å½’å±ä¸åŒ</h3><ul><li><strong>sleep(long)æ˜¯Threadçš„é™æ€æ–¹æ³•ã€‚</strong></li><li><strong>wait()ã€wait(long)åˆ™æ˜¯Objectçš„æˆå‘˜æ–¹æ³•</strong>ï¼Œå› æ­¤ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰è¿™ä¸ªæ–¹æ³•ã€‚</li></ul><h3 id="é†’æ¥æ—¶æœºä¸åŒ"><a href="#é†’æ¥æ—¶æœºä¸åŒ" class="headerlink" title="é†’æ¥æ—¶æœºä¸åŒ"></a>é†’æ¥æ—¶æœºä¸åŒ</h3><p>ä¸‰è€…é™¤äº†éƒ½å¯ä»¥è¢«æ‰“æ–­å”¤é†’å¤–ï¼Œé†’æ¥æ—¶æœºè¿˜æœ‰äº›ä¸åŒï¼š</p><ul><li><strong>æ‰§è¡Œwait(long)å’Œsleep(long)çš„çº¿ç¨‹éƒ½ä¼šåœ¨ç­‰å¾…ç›¸åº”æ—¶é—´ï¼ˆå•ä½ä¸ºæ¯«ç§’ï¼‰åé†’æ¥</strong>ï¼Œè€Œwaitåˆ™ä¸ä¼šã€‚</li><li><strong>waitå’Œwait(long)åˆ™è¿˜å¯ä»¥è¢«notifyå”¤é†’</strong>ï¼Œå¹¶ä¸”å¦‚æœæ‰§è¡Œwait()çš„çº¿ç¨‹å¦‚æœä¸è¢«å”¤é†’ï¼Œå°±ä¼šä¸€ç›´ç­‰ä¸‹å»ã€‚</li></ul><h3 id="é”ç‰¹æ€§ä¸åŒ"><a href="#é”ç‰¹æ€§ä¸åŒ" class="headerlink" title="é”ç‰¹æ€§ä¸åŒ"></a>é”ç‰¹æ€§ä¸åŒ</h3><ul><li><strong>waitæ–¹æ³•çš„è°ƒç”¨å¿…é¡»å…ˆè·å–waitå¯¹è±¡çš„é”ï¼Œè€Œsleepåˆ™æ— æ­¤é™åˆ¶</strong>ï¼ˆçº¿ç¨‹æœªå¿…æ˜¯æŒæœ‰é”æ‰èƒ½è¿è¡Œï¼‰ã€‚</li><li><strong>waitæ–¹æ³•æ‰§è¡Œåï¼Œä¼šé‡Šæ”¾å¯¹è±¡é”</strong>ï¼Œå…è®¸å…¶ä»–çº¿ç¨‹è·å¾—è¯¥å¯¹è±¡é”ã€‚ï¼ˆé”æ‰§è¡Œçš„waitï¼Œé”æ˜¯è‡ªç”±çš„ï¼‰ã€‚</li><li><strong>sleepæ–¹æ³•</strong>å¦‚æœåœ¨synchronizedä»£ç å—ä¸­æ‰§è¡Œï¼Œåˆ™<strong>ä¸ä¼šé‡Šæ”¾å¯¹è±¡é”</strong>ã€‚ï¼ˆçº¿ç¨‹æ‰§è¡Œçš„sleepï¼Œå¸¦ç€é”ç¡è§‰ï¼‰ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>JUC</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JUCä¹‹çº¿ç¨‹æ± </title>
    <link href="/2025/03/29/JUC%E4%B9%8B%E7%BA%BF%E7%A8%8B%E6%B1%A0/"/>
    <url>/2025/03/29/JUC%E4%B9%8B%E7%BA%BF%E7%A8%8B%E6%B1%A0/</url>
    
    <content type="html"><![CDATA[<p>çº¿ç¨‹æ± æœ¬è´¨ä¸Šå°±æ˜¯ç®¡ç†ä¸€ç»„çº¿ç¨‹ï¼Œç”¨æ¥å®Œæˆæäº¤ç»™çº¿ç¨‹æ± çš„ä»»åŠ¡ã€‚æäº¤ä»»åŠ¡ï¼Œå¯ä»¥è°ƒç”¨çº¿ç¨‹æ± çš„submitæ–¹æ³•ï¼ŒæŠŠå®ç°äº†Runnableå’ŒCallableçš„ä»»åŠ¡å¯¹è±¡ï¼Œæäº¤ç»™çº¿ç¨‹æ± ï¼›è€Œçº¿ç¨‹æ± å°±å¯ä»¥åˆ›å»ºå‡ºçº¿ç¨‹å¯¹è±¡æ¥æ‰§è¡Œä»»åŠ¡ã€‚</p><p>åˆ›å»ºçš„çº¿ç¨‹åˆ†ä¸ºä¸¤ç±»ï¼šæ ¸å¿ƒçº¿ç¨‹å’Œæ•‘æ€¥çº¿ç¨‹ã€‚æ ¸å¿ƒçº¿ç¨‹å°±æ˜¯ï¼Œå½“çº¿ç¨‹æ‰§è¡Œå®Œä»»åŠ¡ä¹‹åï¼Œä¾ç„¶è¦ä¿ç•™åˆ°çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹ï¼›è€Œæ•‘æ€¥çº¿ç¨‹ï¼Œåˆ™æ˜¯æ‰§è¡Œå®Œä»»åŠ¡ä¹‹åï¼Œå¦‚æœæ²¡æœ‰åˆ«çš„ä»»åŠ¡äº†ï¼Œå°±ä¸éœ€è¦ä¿ç•™åˆ°çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹ã€‚ä¸¤è€…çš„æ•°ç›®å¯ä»¥é€šè¿‡åˆ›å»ºçº¿ç¨‹æ± çš„å‚æ•°è¿›è¡Œæ§åˆ¶ã€‚å½“æ•‘æ€¥çº¿ç¨‹æ‰§è¡Œå®Œä»»åŠ¡ï¼Œç©ºé—²ä¸‹æ¥çš„æ—¶å€™ï¼Œå®ƒä¸ä¼šä¸€ç›´ä¿ç•™åœ¨æ± ä¸­ï¼Œè€Œæ˜¯ç»è¿‡ä¸€æ®µæ—¶é—´ï¼Œå³<code>keepAliveTime</code>ï¼Œå¦‚æœè¿™æ®µæ—¶é—´é‡Œï¼Œè¯¥çº¿ç¨‹æ²¡æœ‰æ¥åˆ°å…¶ä»–ä»»åŠ¡ï¼Œé‚£ä¹ˆå°±ä¼šåœ¨ç»è¿‡è¿™æ®µæ—¶é—´åé”€æ¯ã€‚</p><p><code>workQueue</code>ä»»åŠ¡é˜Ÿåˆ—èµ·åˆ°å¯¹ä»»åŠ¡çš„ç¼“å†²ä½œç”¨ã€‚å½“ä»»åŠ¡æ¥ä¸´ï¼Œçº¿ç¨‹æ± å°±ä¼šé€šè¿‡<code>threadFactory</code>çº¿ç¨‹å·¥å‚æ¥åˆ›å»ºæ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ï¼›å¦‚æœæ ¸å¿ƒçº¿ç¨‹æ•°å·²ç»è¾¾åˆ°<code>corePoolSize</code>ï¼Œè¿™æ—¶å°±ä¼šæŠŠä»»åŠ¡æ”¾åˆ°<code>workQueue</code>ä¸­ï¼Œç­‰åˆ°æ ¸å¿ƒçº¿ç¨‹å®Œæˆäº†å½“å‰çš„ä»»åŠ¡ï¼Œç©ºé—²ä¸‹æ¥äº†ï¼Œå°±ä¼šå¯¹ä»<code>workQueue</code>ä¸­å–å‡ºä»»åŠ¡æ‰§è¡Œï¼›å¦‚æœæŠŠä»»åŠ¡æ”¾åˆ°<code>workQueue</code>æ—¶ï¼Œå‘ç°<code>workQueue</code>ä¸­çš„ä»»åŠ¡æ•°é‡ä»¥è¾¾åˆ°å…¶å®¹é‡ï¼ˆä¸€èˆ¬ï¼Œæˆ‘ä»¬ä¼šå¯¹<code>workQueue</code>çš„å®¹é‡è®¾ç½®ä¸€ä¸ªå¯ä»¥è¾¾åˆ°çš„ä¸Šé™ï¼Œä»è€Œé¿å…å†…å­˜ç´§å¼ ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±ä¼šç”Ÿæˆæ•‘æ€¥çº¿ç¨‹æ¥æ‰§è¡Œï¼›å½“æ•‘æ€¥çº¿ç¨‹æ•°é‡ä¹Ÿè¾¾åˆ°æœ€å¤§çš„æ—¶å€™ï¼Œå³çº¿ç¨‹æ± ä¸­æ‰€æœ‰çº¿ç¨‹çš„æ•°é‡è¾¾åˆ°äº†<code>maximumPoolSize</code>ï¼Œå°±ä¼šæ ¹æ®<code>handler</code>æ‹’ç»ç­–ç•¥è¿›è¡Œå¤„ç†ã€‚</p><h2 id="çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°"><a href="#çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°" class="headerlink" title="çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°"></a>çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°</h2><ol><li><code>corePoolSize </code>æ ¸å¿ƒçº¿ç¨‹æ•°ç›®ï¼šæœ€å¤šä¿ç•™çš„çº¿ç¨‹æ•°</li><li><code>maximumPoolSize</code>æœ€å¤§çº¿ç¨‹æ•°ç›®ï¼šï¼ˆæ ¸å¿ƒçº¿ç¨‹æ•° + æ•‘æ€¥çº¿ç¨‹æ•°ï¼‰çš„æœ€å¤§æ•°ç›®</li><li><code>keepAliveTime</code>ç”Ÿå­˜æ—¶é—´ï¼šé’ˆå¯¹æ•‘æ€¥çº¿ç¨‹</li><li><code>unit</code>ç”Ÿå­˜æ—¶é—´çš„å•ä½ï¼šé’ˆå¯¹æ•‘æ€¥çº¿ç¨‹</li><li><code>workQueue</code>ï¼šé˜»å¡é˜Ÿåˆ—</li><li><code>threadFactory</code>çº¿ç¨‹å·¥å‚ï¼šå¯ä»¥ä¸ºçº¿ç¨‹åˆ›å»ºæ—¶èµ·ä¸ªå¥½åå­—</li><li><code>handler</code>æ‹’ç»ç­–ç•¥ï¼šæœ‰4ç§</li></ol>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>JUC</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JUCä¹‹çº¿ç¨‹çŠ¶æ€</title>
    <link href="/2025/03/29/JUC%E4%B9%8B%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81/"/>
    <url>/2025/03/29/JUC%E4%B9%8B%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81/</url>
    
    <content type="html"><![CDATA[<h2 id="çº¿ç¨‹æœ‰å“ªäº›çŠ¶æ€ï¼ˆå…­ç§çŠ¶æ€ï¼‰"><a href="#çº¿ç¨‹æœ‰å“ªäº›çŠ¶æ€ï¼ˆå…­ç§çŠ¶æ€ï¼‰" class="headerlink" title="çº¿ç¨‹æœ‰å“ªäº›çŠ¶æ€ï¼ˆå…­ç§çŠ¶æ€ï¼‰"></a>çº¿ç¨‹æœ‰å“ªäº›çŠ¶æ€ï¼ˆå…­ç§çŠ¶æ€ï¼‰</h2><p>Javaä¸­çš„çº¿ç¨‹åˆ†ä¸º6ç§çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯<strong>NEW</strong>ï¼ˆæ–°å»ºï¼‰ã€<strong>RUNNABLE</strong>ï¼ˆå¯è¿è¡Œï¼‰ã€<strong>TERMINATED</strong>ï¼ˆç»ˆç»“ï¼‰ã€<strong>BLOCKED</strong>ï¼ˆé˜»å¡ï¼‰ã€<strong>WAITING</strong>ï¼ˆç­‰å¾…ï¼‰ã€<strong>TIMED_WAITING</strong>ï¼ˆæœ‰æ—¶é™ç­‰å¾…ï¼‰ã€‚</p><p>å½“ä½¿ç”¨newå…³é”®å­—åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ä¹‹åï¼Œ<strong>åˆšåˆšåˆ›å»ºå‡ºæ¥çš„çº¿ç¨‹å¯¹è±¡ï¼Œå°±å¤„äºæ–°å»ºçŠ¶æ€</strong>ã€‚<strong>æ–°å»ºçŠ¶æ€ä¸‹çš„çº¿ç¨‹ï¼Œä»…ä»…æ˜¯ä¸€ä¸ªJavaå¯¹è±¡ï¼Œæ²¡æœ‰å’Œæ“ä½œç³»ç»Ÿåº•å±‚çœŸæ­£çš„çº¿ç¨‹å…³è”èµ·æ¥</strong>ï¼Œè¿™æ—¶çš„çº¿ç¨‹ä¸ä¼šè¢«æ“ä½œç³»ç»Ÿåˆ†é…ç»™CPUã€‚<strong>å½“è°ƒç”¨çº¿ç¨‹çš„startæ–¹æ³•æ—¶ï¼Œçº¿ç¨‹ä»NEWå˜ä¸ºäº†RUNNABLEå¯è¿è¡ŒçŠ¶æ€ï¼Œè¿™æ—¶çš„çº¿ç¨‹æ‰ä¼šä¸ä¸€ä¸ªçœŸæ­£çš„çº¿ç¨‹å…³è”èµ·æ¥ã€‚</strong></p><p>å®é™…ä¸Šï¼Œ<strong>åªæœ‰RUNNABLEçŠ¶æ€ä¸‹çš„çº¿ç¨‹ï¼Œæ‰æœ‰èµ„æ ¼è¢«åˆ†é…ç»™CPUæ‰§è¡Œä»£ç </strong>ã€‚å¯è¿è¡ŒçŠ¶æ€ä¸‹çš„çº¿ç¨‹ä¼šåœ¨åˆ†é…ç»™CPUåï¼Œæ‰§è¡Œä»£ç ï¼Œ<strong>å½“ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œçº¿ç¨‹ä¾¿ä¼šè¿›å…¥TERMINATEDç»ˆç»“çŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€æ„å‘³ç€çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸèµ°åˆ°äº†å°½å¤´ã€‚åº•å±‚æ‰€å…³è”çš„çœŸæ­£çš„çº¿ç¨‹å’Œç›¸å…³èµ„æºä¹Ÿä¼šå¾—åˆ°é‡Šæ”¾</strong>ã€‚</p><p>ä»NEWåˆ°RUNNABLEå†åˆ°TERMINATEDï¼Œä¸‰ä¸ªçŠ¶æ€çš„è½¬æ¢åªèƒ½æ˜¯å•é¡¹çš„ã€‚è€Œ<strong>RUNNABLEçŠ¶æ€å¯ä»¥ä¸BLOCKEDã€WAITINGå’ŒTIMED_WAITINGè¿›è¡ŒåŒå‘çš„è½¬æ¢ï¼Œå…¶è¿‡ç¨‹ä¹Ÿä¼šå¤æ‚ä¸€äº›ã€‚</strong></p><p>çº¿ç¨‹åœ¨è¿è¡Œæ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°<strong>å¤šä¸ªçº¿ç¨‹äº‰æŠ¢åŒä¸€æŠŠé”</strong>ï¼Œè€Œé”æ˜¯äº’æ–¥çš„ï¼Œæ‰€ä»¥æœ€ç»ˆåªæœ‰ä¸€ä¸ªçº¿ç¨‹ä¼šæˆåŠŸï¼Œå…¶ä»–çº¿ç¨‹éƒ½ä¼šå¤±è´¥ï¼Œè€Œè¿™äº›<strong>å¤±è´¥çš„çº¿ç¨‹ï¼Œå°±ä¼šç”±å¯è¿è¡ŒçŠ¶æ€è½¬ä¸ºé˜»å¡çŠ¶æ€ã€‚å½“æŒé”çº¿ç¨‹é‡Šæ”¾é”çš„æ—¶å€™ï¼Œå°±ä¼šå”¤é†’å‰è¾¹é˜»å¡çš„çº¿ç¨‹</strong>ï¼Œè®©ä»–ä»¬å»è¿›è¡Œä¸‹ä¸€è½®çš„ç«äº‰é”çš„åŠ¨ä½œï¼Œ<strong>è¿™ä¸€è½®ä¸­ï¼Œç«äº‰é”æˆåŠŸçš„çº¿ç¨‹ï¼Œå°±ä¼šç”±é˜»å¡çŠ¶æ€è½¬å˜ä¸ºå¯è¿è¡ŒçŠ¶æ€ï¼Œå¦‚æœå¤±è´¥äº†ï¼Œåˆ™ç»§ç»­ä¿æŒé˜»å¡çŠ¶æ€ã€‚</strong>è¿™å°±æ˜¯å¯è¿è¡Œå’Œé˜»å¡çŠ¶æ€ä¹‹é—´çš„è½¬æ¢ã€‚</p><p><strong>çº¿ç¨‹äº‰æŠ¢é”æˆåŠŸåï¼Œè¦å‘ä¸‹ç»§ç»­è¿è¡Œä»£ç ï¼Œç»“æœå‘ç°è¿˜éœ€è¦æ»¡è¶³ä¸€äº›ç°åœ¨ä¸æ»¡è¶³çš„æ¡ä»¶ï¼Œè¿™æ—¶å€™è°ƒç”¨é”å¯¹è±¡çš„wait()æ–¹æ³•ï¼ŒæŒé”çº¿ç¨‹å°±ä¼šè¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚</strong>æ‹¿åˆ°é”äº†ï¼Œä½†æ˜¯æ¡ä»¶è¿˜ä¸æ»¡è¶³ï¼Œä¸èƒ½è€å ç€é”ï¼Œå¿…é¡»æŠŠé”ç»™å‡ºå»ï¼Œè®©åˆ«çš„çº¿ç¨‹å»äº‰æŠ¢é”ï¼Œå½“æ¡ä»¶æ»¡è¶³åï¼Œå†å»é‡æ–°è·å¾—è¿™ä¸ªé”ã€‚<strong>WAITINGçŠ¶æ€æƒ³è¦æ¢å¤æˆRUNNABLEçŠ¶æ€ï¼Œå°±è¦è®©å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨é”çš„notify()æ–¹æ³•ï¼ŒæŠŠç­‰å¾…çš„çº¿ç¨‹å”¤é†’ï¼Œè¿™æ—¶å€™ï¼Œè¢«å”¤é†’çš„çº¿ç¨‹è¿˜éœ€è¦é‡æ–°äº‰æŠ¢é”ï¼ŒæˆåŠŸäº†å°±ä¼šæ¢å¤æˆå¯è¿è¡Œçº¿ç¨‹ã€‚</strong></p><p>æœ‰æ—¶é™ç­‰å¾…çš„ç­‰å¾…å’Œç­‰å¾…çš„åŒºåˆ«ä¹‹ä¸€å°±æ˜¯ï¼Œåˆ‡æ¢çŠ¶æ€è°ƒç”¨çš„æ–¹æ³•ä¸ä¸€æ ·ã€‚<strong>å¦‚æœè°ƒç”¨é”å¯¹è±¡çš„wait(long)è€Œä¸æ˜¯wait()æ–¹æ³•ï¼Œé‚£ä¹ˆçº¿ç¨‹å°±ä¼šè¿›å…¥æœ‰æ—¶é™ç­‰å¾…çŠ¶æ€ï¼Œé™¤äº†é€šè¿‡notify()æ–¹æ³•ä¹‹å¤–ï¼Œæœ‰æ—¶é™ç­‰å¾…è¿˜å¯ä»¥é€šè¿‡ç­‰å¾…æ—¶é—´ç»“æŸï¼Œå›åˆ°å¯è¿è¡ŒçŠ¶æ€ã€‚ç­‰å¾…æ—¶é—´ä¸ºwait(long)çš„å‚æ•°ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚é™¤äº†è°ƒç”¨é”å¯¹è±¡çš„wait(long)ä¼šè®©çº¿ç¨‹è¿›å…¥æœ‰æ—¶é™ç­‰å¾…å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡è°ƒç”¨sleep(long)æ–¹æ³•ï¼Œæ¥è¿›å…¥æœ‰æ—¶é™ç­‰å¾…çŠ¶æ€ã€‚å‚æ•°ä¸ºç­‰å¾…æ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’ï¼Œè¶…æ—¶åå°±å¯ä»¥æ¢å¤ä¸ºå¯è¿è¡ŒçŠ¶æ€ã€‚</strong></p><h2 id="çº¿ç¨‹æœ‰å“ªäº›çŠ¶æ€ï¼ˆäº”ç§çŠ¶æ€ï¼‰"><a href="#çº¿ç¨‹æœ‰å“ªäº›çŠ¶æ€ï¼ˆäº”ç§çŠ¶æ€ï¼‰" class="headerlink" title="çº¿ç¨‹æœ‰å“ªäº›çŠ¶æ€ï¼ˆäº”ç§çŠ¶æ€ï¼‰"></a>çº¿ç¨‹æœ‰å“ªäº›çŠ¶æ€ï¼ˆäº”ç§çŠ¶æ€ï¼‰</h2><p>çº¿ç¨‹çš„çŠ¶æ€åœ¨Javaå±‚é¢æ˜¯å…­ç§ï¼Œä½†æ˜¯åœ¨<strong>æ“ä½œç³»ç»Ÿå±‚é¢ï¼Œåˆ™æ˜¯äº”ç§ï¼šæ–°å»ºã€å°±ç»ªã€è¿è¡Œã€ç»ˆç»“ã€é˜»å¡</strong>ã€‚å¯¹æ¯”Javaä¸­çº¿ç¨‹çš„å…­ç§çŠ¶æ€ï¼ŒRUNNABLEçŠ¶æ€å¯¹åº”äº†å°±ç»ªå’Œè¿è¡Œï¼ŒBLOCKEDã€WAITINGã€TIMED_WAITINGä¸‰ç§çŠ¶æ€ï¼Œä»¥åŠé˜»å¡I&#x2F;Oï¼ˆJavaä¸­åŒºåˆ†ä¸äº†è¿™ç§çŠ¶æ€ï¼‰ï¼Œå…±åŒå¯¹åº”äº†é˜»å¡ã€‚</p><p>å¯¹äºæ–°å»ºå’Œç»ˆç»“ï¼Œå’ŒJavaä¸­çš„NEWå’ŒTERMINATEDè¾ƒä¸ºç›¸ä¼¼ï¼Œå†æ¬¡ä¸å¤šèµ˜è¿°ã€‚</p><p><strong>å½“çº¿ç¨‹å¯ä»¥åˆ†åˆ°CPUæ—¶é—´ï¼Œå¹¶ä¸”æ­£åœ¨æ‰§è¡Œï¼Œåˆ™ä¸ºè¿è¡Œæ€ï¼›å½“çº¿ç¨‹æœ‰æœºä¼šåˆ†åˆ°CPUæ—¶é—´ï¼Œä½†æ˜¯å½“å‰å¹¶æœªåˆ†é…åˆ°CPUæ‰§è¡Œæ—¶é—´ï¼Œåˆ™ä¸ºå°±ç»ªæ€ï¼›å½“çº¿ç¨‹ä¸èƒ½åˆ†åˆ°CPUæ—¶é—´ï¼Œåˆ™ä¸ºé˜»å¡æ€ã€‚</strong></p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>JUC</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javaå•ä¾‹æ¨¡å¼</title>
    <link href="/2025/02/23/Java%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
    <url>/2025/02/23/Java%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h2 id="æ–¹å¼ä¸€ï¼šé¥¿æ±‰å¼"><a href="#æ–¹å¼ä¸€ï¼šé¥¿æ±‰å¼" class="headerlink" title="æ–¹å¼ä¸€ï¼šé¥¿æ±‰å¼"></a>æ–¹å¼ä¸€ï¼šé¥¿æ±‰å¼</h2><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>æ‰€è°“é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼ï¼Œå°±æ˜¯<strong>åœ¨ç¬¬ä¸€æ¬¡è·å–å•ä¾‹å¯¹è±¡ä¹‹å‰ï¼ˆè€Œä¸æ˜¯è·å–æ—¶ï¼‰ï¼Œå°±åˆ›å»ºå¥½äº†è¿™ä¸ªå¯¹è±¡</strong>ï¼Œæ¯”å¦‚ä¸‹å›¾çš„ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Singtelon1</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Singtelon1</span> <span class="hljs-variable">INSTANCE</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Singtelon1</span>();<br>    <br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Singtelon1</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Singleton1 is constructed&quot;</span>);<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singtelon1 <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> INSTANCE;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doSomething</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Singleton1 is doing something&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å°†æ„é€ æ–¹æ³•ç§æœ‰å°±æ˜¯ä¸ºäº†é˜²æ­¢å…¶ä»–ç±»è°ƒç”¨ï¼Œä»è€Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šä¿è¯äº†å•ä¾‹ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥åšä¸€ä¸‹æµ‹è¯•ï¼Œçœ‹ä¸‹å¦‚æœæˆ‘å°è¯•é€šè¿‡<code>getInstance</code>è·å–ä¸¤æ¬¡å¯¹è±¡ï¼Œå¯¹è±¡æ˜¯å¦æ˜¯åŒä¸€ä¸ªï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception&#123;<br>        Singtelon1.doSomething();<br>        System.out.println(<span class="hljs-string">&quot;-------------------------------------------&quot;</span>);<br>        System.out.println(Singtelon1.getInstance());<br>        System.out.println(Singtelon1.getInstance());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œå‡ºçš„ç»“æœï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">Singleton1 is constructed<br>Singleton1 is doing something<br>-------------------------------------------<br>Singtelon1@3b07d329<br>Singtelon1@3b07d329<br><br>Process finished with exit code 0<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œä¸¤æ¬¡è°ƒç”¨<code>getInstance</code>è·å–åˆ°çš„å¯¹è±¡çš„å“ˆå¸Œå€¼æ˜¯ä¸€è‡´çš„ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºä»–ä»¬æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚è¿™é‡Œçš„ç»“æœè¿˜è¯´æ˜äº†ï¼Œå¯¹è±¡æ˜¯åœ¨ç±»åŠ è½½ï¼ˆç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨ï¼‰åå°±åˆ›å»ºå‡ºçš„ï¼Œå› ä¸º<code>Singleton1 is constructed</code>åœ¨<code>Singleton1 is doing something</code>ä¹‹å‰ï¼Œè€Œ<code>Singleton1 is doing something</code>ä¸è·å–å¯¹è±¡å’Œä½¿ç”¨å¯¹è±¡éƒ½æ²¡å…³ç³»ã€‚</p><h3 id="ç ´åé¥¿æ±‰å¼å•ä¾‹æ¨¡å¼çš„æ–¹æ³•"><a href="#ç ´åé¥¿æ±‰å¼å•ä¾‹æ¨¡å¼çš„æ–¹æ³•" class="headerlink" title="ç ´åé¥¿æ±‰å¼å•ä¾‹æ¨¡å¼çš„æ–¹æ³•"></a>ç ´åé¥¿æ±‰å¼å•ä¾‹æ¨¡å¼çš„æ–¹æ³•</h3><h4 id="æ–¹æ³•ä¸€ï¼šåå°„"><a href="#æ–¹æ³•ä¸€ï¼šåå°„" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåå°„"></a>æ–¹æ³•ä¸€ï¼šåå°„</h4><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œæˆ‘ä»¬<strong>å¯ä»¥é€šè¿‡åå°„è·å–æ„é€ æ–¹æ³•ï¼Œå¹¶ç»™äºˆå¯æ‰§è¡Œçš„æƒé™ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨åˆ«çš„ç±»ä¸­è°ƒç”¨æ„é€ å‡½æ•°</strong>äº†ï¼å•ä¾‹æ¨¡å¼å°±è¿™ä¹ˆè¢«ç ´åæ‰äº†ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">import</span> java.lang.reflect.Constructor;<br><span class="hljs-keyword">import</span> java.lang.reflect.InvocationTargetException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception&#123;<br>        Singtelon1.doSomething();<br>        System.out.println(<span class="hljs-string">&quot;-------------------------------------------&quot;</span>);<br>        System.out.println(Singtelon1.getInstance());<br>        System.out.println(Singtelon1.getInstance());<br><br>        reflection(Singtelon1.class);<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">reflection</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> <span class="hljs-keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException &#123;<br>        Constructor&lt;?&gt; constructor = clazz.getDeclaredConstructor();<br>        constructor.setAccessible(<span class="hljs-literal">true</span>);<br>        System.out.println(<span class="hljs-string">&quot;åå°„åˆ›å»ºå¯¹è±¡ï¼š&quot;</span> + constructor.newInstance());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Shell">Singleton1 is constructed<br>Singleton1 is doing something<br>-------------------------------------------<br>Singtelon1@3b07d329<br>Singtelon1@3b07d329<br>åå°„åˆ›å»ºå¯¹è±¡ï¼šSingtelon1@3d075dc0<br><br>Process finished with exit code 0<br></code></pre></td></tr></table></figure><p>ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬çš„ç¡®æ„é€ äº†ä¸¤ä¸ªä¸åŒçš„<code>Singleton1</code>å¯¹è±¡ï¼Œè¿™å°±ç ´åäº†å•ä¾‹æ¨¡å¼ã€‚ä½†æ˜¯<strong>åå°„ç ´åçš„å•ä¾‹æ¨¡å¼å¹¶éæ˜¯æ— è§£çš„</strong>ï¼æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆä¿®æ”¹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Singtelon1</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Singtelon1</span> <span class="hljs-variable">INSTANCE</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Singtelon1</span>();<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Singtelon1</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">if</span>(INSTANCE == <span class="hljs-literal">null</span>)<br>            System.out.println(<span class="hljs-string">&quot;Singleton1 is constructed&quot;</span>);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;Singleton1 was constructed!!!&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singtelon1 <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> INSTANCE;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doSomething</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Singleton1 is doing something&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å†æ¥æµ‹è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell">Singleton1 is constructed<br>Singleton1 is doing something<br>-------------------------------------------<br>Singtelon1@3b07d329<br>Singtelon1@3b07d329<br>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException<br>at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)<br>at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)<br>at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)<br>at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)<br>at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)<br>at Main.reflection(Main.java:17)<br>at Main.main(Main.java:11)<br>Caused by: java.lang.RuntimeException: Singleton1 was constructed!!!<br>at Singtelon1.&lt;init&gt;(Singtelon1.java:8)<br>... 7 more<br><br>Process finished with exit code 1<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œå½“æˆ‘ä»¬å°è¯•ä½¿ç”¨åå°„æ¥æ„é€ <code>Singtelon1</code>çš„æ—¶å€™ï¼Œä»£ç æ˜¯æŠ¥é”™äº†çš„ï¼è¿™å°±è§£å†³äº†é—®é¢˜ã€‚</p><h4 id="æ–¹æ³•äºŒï¼šååºåˆ—åŒ–"><a href="#æ–¹æ³•äºŒï¼šååºåˆ—åŒ–" class="headerlink" title="æ–¹æ³•äºŒï¼šååºåˆ—åŒ–"></a>æ–¹æ³•äºŒï¼šååºåˆ—åŒ–</h4><p>å¦‚æœ<code>Singtelon1</code>å®ç°äº†<code>Serializable</code>æ¥å£ï¼Œé‚£ä¹ˆè¿™ä¸ª<code>Singtelon1</code>å°±å¯ä»¥<strong>é€šè¿‡ååºåˆ—åŒ–çš„æ–¹å¼å¾—åˆ°ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç”šè‡³ä¸éœ€è¦æ„é€ æ–¹æ³•</strong>ï¼ååºåˆ—åŒ–æœ‰å¾ˆå¤šåº”ç”¨ï¼Œåœ¨è¿™é‡Œä¸è¿›è¡Œè¯´æ˜ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">import</span> java.io.Serializable;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Singtelon1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Singtelon1</span> <span class="hljs-variable">INSTANCE</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Singtelon1</span>();<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Singtelon1</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Singleton1 is constructed&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singtelon1 <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> INSTANCE;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doSomething</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Singleton1 is doing something&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception&#123;<br>        Singtelon1.doSomething();<br>        System.out.println(<span class="hljs-string">&quot;-------------------------------------------&quot;</span>);<br>        System.out.println(Singtelon1.getInstance());<br>        System.out.println(Singtelon1.getInstance());<br><br>        serialization(Singtelon1.getInstance());<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">serialization</span><span class="hljs-params">(Object instance)</span> <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException &#123;<br>        <span class="hljs-type">ByteArrayOutputStream</span> <span class="hljs-variable">bos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayOutputStream</span>();<br>        <span class="hljs-type">ObjectOutputStream</span> <span class="hljs-variable">oos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectOutputStream</span>(bos);<br>        oos.writeObject(instance);<br>        <span class="hljs-type">ObjectInputStream</span> <span class="hljs-variable">ois</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectInputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayInputStream</span>(bos.toByteArray()));<br>        System.out.println(<span class="hljs-string">&quot;ååºåˆ—åŒ–åˆ›å»ºå¯¹è±¡ï¼š&quot;</span> +  ois.readObject());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Java">Singleton1 is constructed<br>Singleton1 is doing something<br>-------------------------------------------<br>Singtelon1@3b07d329<br>Singtelon1@3b07d329<br>ååºåˆ—åŒ–åˆ›å»ºå¯¹è±¡ï¼šSingtelon1@2957fcb0<br><br>Process finished with exit code <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œååºåˆ—åŒ–ä¸ä»…å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œä¸”è¿˜ä¸éœ€è¦è°ƒç”¨æ„é€ æ–¹æ³•ï¼ï¼ˆå› ä¸ºæˆ‘ä»¬å¾—åˆ°äº†ä¸¤ä¸ª<code>Singleton1</code>å¯¹è±¡ï¼Œä½†æ˜¯</p><p><code>Singleton1 is constructed</code>å´åªè¾“å‡ºäº†ä¸€æ¬¡ï¼‰ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ç§<strong>ç ´åå•ä¾‹æ¨¡å¼çš„æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥è§£å†³çš„</strong>ï¼</p><p>åªéœ€è¦æˆ‘ä»¬åœ¨<code>Singleton1</code>ç±»ä¸­å¢åŠ ä¸€ä¸ª<code>readResolve</code>æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">private</span> Object <span class="hljs-title function_">readResolve</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-keyword">return</span> INSTANCE;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç„¶åé—®é¢˜å°±è¢«è§£å†³äº†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">Singleton1 is constructed<br>Singleton1 is doing something<br>-------------------------------------------<br>Singtelon1@3b07d329<br>Singtelon1@3b07d329<br>ååºåˆ—åŒ–åˆ›å»ºå¯¹è±¡ï¼šSingtelon1@3b07d329<br><br>Process finished with exit code 0<br></code></pre></td></tr></table></figure><p>åŸå› æ˜¯è¿™æ ·ä¼šä½¿<code>ois.readObject()</code>æ‰§è¡Œçš„è¿”å›ç»“æœä¸ºINSTANCE</p><h4 id="æ–¹æ³•ä¸‰ï¼šunsafe"><a href="#æ–¹æ³•ä¸‰ï¼šunsafe" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šunsafe"></a>æ–¹æ³•ä¸‰ï¼šunsafe</h4><p><strong>unsafeæ˜¯jdkä¸­å†…ç½®çš„ä¸€ä¸ªç±»ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½ç›´æ¥è®¿é—®ï¼Œä½†æˆ‘ä»¬å¯ä»¥åˆ©ç”¨åå°„æ¥è®¿é—®</strong>ã€‚è€Œ<strong>unsafeä¹Ÿå¯ä»¥é€šè¿‡ä¸è°ƒç”¨æ„é€ æ–¹æ³•çš„æ–¹å¼å¾—åˆ°å¯¹åº”ç±»çš„å¯¹è±¡</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">import</span> sun.misc.Unsafe;<br><span class="hljs-keyword">import</span> java.lang.reflect.Field;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception&#123;<br>        Singtelon1.doSomething();<br>        System.out.println(<span class="hljs-string">&quot;-------------------------------------------&quot;</span>);<br>        System.out.println(Singtelon1.getInstance());<br>        System.out.println(Singtelon1.getInstance());<br><br>        unsafe(Singtelon1.class);<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">unsafe</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> <span class="hljs-keyword">throws</span> NoSuchFieldException, IllegalAccessException, InstantiationException &#123;<br>        <span class="hljs-type">Field</span> <span class="hljs-variable">field</span> <span class="hljs-operator">=</span> Unsafe.class.getDeclaredField(<span class="hljs-string">&quot;theUnsafe&quot;</span>);<br>        field.setAccessible(<span class="hljs-literal">true</span>);<br>        <span class="hljs-type">Unsafe</span> <span class="hljs-variable">unsafe</span> <span class="hljs-operator">=</span> (Unsafe) field.get(<span class="hljs-literal">null</span>);<br>        <span class="hljs-type">Object</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> unsafe.allocateInstance(clazz);<br>        System.out.println(<span class="hljs-string">&quot;unsafeåˆ›å»ºå¯¹è±¡: &quot;</span> + instance);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">Singleton1 is constructed<br>Singleton1 is doing something<br>-------------------------------------------<br>Singtelon1@3b07d329<br>Singtelon1@3b07d329<br>unsafeåˆ›å»ºå¯¹è±¡: Singtelon1@3b9a45b3<br><br>Process finished with exit code 0<br></code></pre></td></tr></table></figure><p>å¯æƒœçš„æ˜¯ï¼Œè¿™ç§æ–¹æ³•ç›®å‰è¿˜æ²¡æ‰¾åˆ°æ¯”è¾ƒå¥½çš„è§£å†³åŠæ³•ã€‚</p><h2 id="æ–¹å¼äºŒï¼šæšä¸¾ï¼ˆé¥¿æ±‰å¼ï¼‰"><a href="#æ–¹å¼äºŒï¼šæšä¸¾ï¼ˆé¥¿æ±‰å¼ï¼‰" class="headerlink" title="æ–¹å¼äºŒï¼šæšä¸¾ï¼ˆé¥¿æ±‰å¼ï¼‰"></a>æ–¹å¼äºŒï¼šæšä¸¾ï¼ˆé¥¿æ±‰å¼ï¼‰</h2><h3 id="ä»‹ç»-1"><a href="#ä»‹ç»-1" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>æšä¸¾ç±»åœ¨ç¼–è¯‘åçš„å­—èŠ‚ç ä¸­ï¼Œå¯¹æ¯ä¸ªé€‰é¡¹éƒ½è¿›è¡Œäº†é¥¿æ±‰å¼çš„åˆ›å»ºï¼Œå¹¶åœ¨è·å–é€‰é¡¹çš„æ—¶å€™æ˜¯å•ä¾‹çš„ï¼Œå³ä¸ä¼šå†æ¬¡åˆ›å»ºã€‚é‚£ä¹ˆï¼Œå‡å¦‚æˆ‘ä»¬çš„æšä¸¾ç±»ä¸­åªæœ‰ä¸€ä¸ªé€‰é¡¹ï¼Œé‚£ä¹ˆä¸å°±å®ç°äº†å•ä¾‹æ¨¡å¼å—ï¼Ÿè®©æˆ‘ä»¬çœ‹ä¸‹ä¸‹è¾¹çš„ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// å•ä¾‹é›†åˆ</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Singtelon2</span> &#123;<br>    INSTANCE;<br><br>    Singtelon2()&#123; <span class="hljs-comment">// æšä¸¾ç±»çš„æ„é€ å‡½æ•°ï¼Œé»˜è®¤æ˜¯privateçš„ï¼Œæ‰€ä»¥å¯ä»¥å»æ‰</span><br>        System.out.println(<span class="hljs-string">&quot;Singleton2 is constructed&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span>&#123; <span class="hljs-comment">// æ‰“å°æšä¸¾ç±»æ—¶ï¼Œé»˜è®¤ä¼šæ‰“å°ç±»åï¼Œè€Œæ²¡æœ‰hashCodeï¼Œå› æ­¤è¦é‡å†™toString</span><br>        <span class="hljs-keyword">return</span> getClass().getName() + <span class="hljs-string">&quot;@&quot;</span> + Integer.toHexString(hashCode());<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singtelon2 <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> INSTANCE;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doSomething</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Singleton2 is doing something&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//æµ‹è¯•ä»£ç </span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        Singtelon2.doSomething();<br>        System.out.println(<span class="hljs-string">&quot;-------------------------------------------&quot;</span>);<br>        System.out.println(Singtelon2.getInstance());<br>        System.out.println(Singtelon2.getInstance());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">Singleton2 is constructed<br>Singleton2 is doing something<br>-------------------------------------------<br>Singtelon2@3b07d329<br>Singtelon2@3b07d329<br><br>Process finished with exit code 0<br></code></pre></td></tr></table></figure><p>æ˜¾ç„¶ï¼Œä¸¤æ¬¡è·å–çš„å¯¹è±¡æ˜¯åŒä¸€ä¸ªï¼Œå¹¶ä¸”å¯¹è±¡æ˜¯åœ¨ç±»åŠ è½½ï¼ˆç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨ï¼‰åå°±åˆ›å»ºå‡ºçš„ï¼Œä¹Ÿå°±æ˜¯ç”¨é¥¿æ±‰å¼åˆ›å»ºå‡ºçš„ã€‚</p><h3 id="ç ´åæšä¸¾å•ä¾‹æ¨¡å¼çš„æ–¹æ³•"><a href="#ç ´åæšä¸¾å•ä¾‹æ¨¡å¼çš„æ–¹æ³•" class="headerlink" title="ç ´åæšä¸¾å•ä¾‹æ¨¡å¼çš„æ–¹æ³•"></a>ç ´åæšä¸¾å•ä¾‹æ¨¡å¼çš„æ–¹æ³•</h3><p>å› ä¸ºéƒ½æ˜¯é¥¿æ±‰å¼çš„ï¼Œæ‰€ä»¥ç ´åæ–¹å¼ä¹Ÿå’Œæ–¹å¼ä¸€ä¸­çš„ä¸€æ ·ï¼šåå°„ã€ååºåˆ—åŒ–ã€unsafeï¼Œæ˜¯è¿™æ ·çš„å—ï¼Ÿ</p><h4 id="æ–¹æ³•ä¸€ï¼šåå°„ï¼ˆä¸å¯è¡Œï¼‰"><a href="#æ–¹æ³•ä¸€ï¼šåå°„ï¼ˆä¸å¯è¡Œï¼‰" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåå°„ï¼ˆä¸å¯è¡Œï¼‰"></a>æ–¹æ³•ä¸€ï¼šåå°„ï¼ˆä¸å¯è¡Œï¼‰</h4><p>æˆ‘ä»¬å…ˆä»¿ç…§æ–¹å¼ä¸€ä¸­çš„ä»£ç è¯•ä¸€è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">import</span> java.lang.reflect.Constructor;<br><span class="hljs-keyword">import</span> java.lang.reflect.InvocationTargetException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        Singtelon2.doSomething();<br>        System.out.println(<span class="hljs-string">&quot;-------------------------------------------&quot;</span>);<br>        System.out.println(Singtelon2.getInstance());<br>        System.out.println(Singtelon2.getInstance());<br><br>        reflection(Singtelon2.class);<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">reflection</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> <span class="hljs-keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException &#123;<br>        Constructor&lt;?&gt; constructor = clazz.getDeclaredConstructor();<br>        constructor.setAccessible(<span class="hljs-literal">true</span>);<br>        System.out.println(<span class="hljs-string">&quot;åå°„åˆ›å»ºå¯¹è±¡ï¼š&quot;</span> + constructor.newInstance());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell">Singleton2 is constructed<br>Singleton2 is doing something<br>-------------------------------------------<br>Singtelon2@3b07d329<br>Singtelon2@3b07d329<br>Exception in thread &quot;main&quot; java.lang.NoSuchMethodException: Singtelon2.&lt;init&gt;()<br>at java.base/java.lang.Class.getConstructor0(Class.java:3585)<br>at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754)<br>at Main.reflection(Main.java:15)<br>at Main.main(Main.java:11)<br><br>Process finished with exit code 1<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œä»£ç æŠ¥é”™äº†ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨è·å–æ„é€ æ–¹æ³•æ—¶é™¤äº†é—®é¢˜ã€‚æšä¸¾ç±»çš„æ„é€ æ–¹æ³•ï¼Œå®é™…ä¸Šæ˜¯æœ‰ä¸¤ä¸ªå‚æ•°çš„ï¼šæšä¸¾é€‰é¡¹çš„åå­—ï¼ˆStringç±»å‹ï¼‰å’Œé€‰é¡¹çš„ç¼–å·ï¼ˆintç±»å‹ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">reflection</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> <span class="hljs-keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException &#123;<br>    Constructor&lt;?&gt; constructor = clazz.getDeclaredConstructor(String.class,<span class="hljs-type">int</span>.class);<br>    constructor.setAccessible(<span class="hljs-literal">true</span>);<br>    System.out.println(<span class="hljs-string">&quot;åå°„åˆ›å»ºå¯¹è±¡ï¼š&quot;</span> + constructor.newInstance(<span class="hljs-string">&quot;OTHER&quot;</span>,<span class="hljs-number">1</span>));<br>&#125;<br></code></pre></td></tr></table></figure><p>ç„¶è€Œç»“æœä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell">Singleton2 is constructed<br>Singleton2 is doing something<br>-------------------------------------------<br>Singtelon2@3b07d329<br>Singtelon2@3b07d329<br>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot reflectively create enum objects<br>at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:492)<br>at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)<br>at Main.reflection(Main.java:17)<br>at Main.main(Main.java:11)<br><br>Process finished with exit code 1<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œç”¨åå°„æ¥æ„é€ æšä¸¾ç±»ä¸­çš„å¯¹è±¡æ—¶ï¼Œä»£ç ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥åå°„ç ´åä¸äº†æšä¸¾çš„å•ä¾‹æ¨¡å¼ã€‚</p><h4 id="æ–¹æ³•äºŒï¼šååºåˆ—åŒ–ï¼ˆä¸å¯è¡Œï¼‰"><a href="#æ–¹æ³•äºŒï¼šååºåˆ—åŒ–ï¼ˆä¸å¯è¡Œï¼‰" class="headerlink" title="æ–¹æ³•äºŒï¼šååºåˆ—åŒ–ï¼ˆä¸å¯è¡Œï¼‰"></a>æ–¹æ³•äºŒï¼šååºåˆ—åŒ–ï¼ˆä¸å¯è¡Œï¼‰</h4><p>ç›´æ¥ä¸Šæµ‹è¯•ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">import</span> java.io.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception&#123;<br>        Singtelon2.doSomething();<br>        System.out.println(<span class="hljs-string">&quot;-------------------------------------------&quot;</span>);<br>        System.out.println(Singtelon2.getInstance());<br>        System.out.println(Singtelon2.getInstance());<br><br>        serialization(Singtelon2.getInstance());<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">serialization</span><span class="hljs-params">(Object instance)</span> <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException &#123;<br>        <span class="hljs-type">ByteArrayOutputStream</span> <span class="hljs-variable">bos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayOutputStream</span>();<br>        <span class="hljs-type">ObjectOutputStream</span> <span class="hljs-variable">oos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectOutputStream</span>(bos);<br>        oos.writeObject(instance);<br>        <span class="hljs-type">ObjectInputStream</span> <span class="hljs-variable">ois</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectInputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayInputStream</span>(bos.toByteArray()));<br>        System.out.println(<span class="hljs-string">&quot;ååºåˆ—åŒ–åˆ›å»ºå¯¹è±¡ï¼š&quot;</span> +  ois.readObject());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">Singleton2 is constructed<br>Singleton2 is doing something<br>-------------------------------------------<br>Singtelon2@3b07d329<br>Singtelon2@3b07d329<br>ååºåˆ—åŒ–åˆ›å»ºå¯¹è±¡ï¼šSingtelon2@3b07d329<br><br>Process finished with exit code 0<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œè¿™é‡Œçš„ååºåˆ—åŒ–æ²¡æœ‰ç ´åå•ä¾‹æ¨¡å¼ï¼ï¼ï¼</p><h4 id="æ–¹æ³•ä¸‰ï¼šunsafe-1"><a href="#æ–¹æ³•ä¸‰ï¼šunsafe-1" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šunsafe"></a>æ–¹æ³•ä¸‰ï¼šunsafe</h4><p>æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> sun.misc.Unsafe;<br><span class="hljs-keyword">import</span> java.lang.reflect.Field;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception&#123;<br>        Singtelon2.doSomething();<br>        System.out.println(<span class="hljs-string">&quot;-------------------------------------------&quot;</span>);<br>        System.out.println(Singtelon2.getInstance());<br>        System.out.println(Singtelon2.getInstance());<br><br>        unsafe(Singtelon2.class);<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">unsafe</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> <span class="hljs-keyword">throws</span> NoSuchFieldException, IllegalAccessException, InstantiationException &#123;<br>        <span class="hljs-type">Field</span> <span class="hljs-variable">field</span> <span class="hljs-operator">=</span> Unsafe.class.getDeclaredField(<span class="hljs-string">&quot;theUnsafe&quot;</span>);<br>        field.setAccessible(<span class="hljs-literal">true</span>);<br>        <span class="hljs-type">Unsafe</span> <span class="hljs-variable">unsafe</span> <span class="hljs-operator">=</span> (Unsafe) field.get(<span class="hljs-literal">null</span>);<br>        <span class="hljs-type">Object</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> unsafe.allocateInstance(clazz);<br>        System.out.println(<span class="hljs-string">&quot;unsafeåˆ›å»ºå¯¹è±¡: &quot;</span> + instance);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">Singleton2 is constructed<br>Singleton2 is doing something<br>-------------------------------------------<br>Singtelon2@3b07d329<br>Singtelon2@3b07d329<br>unsafeåˆ›å»ºå¯¹è±¡: Singtelon2@5f184fc6<br><br>Process finished with exit code 0<br></code></pre></td></tr></table></figure><p>åŒæ ·çš„ï¼Œè¿™ç§æ–¹æ³•ä¸ä»…å¯ä»¥ç ´åå•ä¾‹ï¼Œè¿˜æ²¡æœ‰æ‰¾åˆ°è§£å†³åŠæ³•ã€‚</p><h2 id="æ–¹å¼ä¸‰ï¼šæ‡’æ±‰å¼"><a href="#æ–¹å¼ä¸‰ï¼šæ‡’æ±‰å¼" class="headerlink" title="æ–¹å¼ä¸‰ï¼šæ‡’æ±‰å¼"></a>æ–¹å¼ä¸‰ï¼šæ‡’æ±‰å¼</h2><h3 id="ä»‹ç»-2"><a href="#ä»‹ç»-2" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼åœ¨ç±»çš„åœ¨ç¬¬ä¸€æ¬¡è·å–å•ä¾‹å¯¹è±¡ä¹‹å‰ï¼ˆè€Œä¸æ˜¯è·å–æ—¶ï¼‰ï¼Œå°±åˆ›å»ºå¥½äº†è¿™ä¸ªå¯¹è±¡ã€‚è€Œå¦‚æœæˆ‘ä»¬ä¸€ç›´æ²¡æœ‰ä½¿ç”¨è·å–è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œé‚£å°±ä¼šé€ æˆå†…å­˜çš„æµªè´¹ï¼Œ<strong>ä¸ºäº†å‡å°‘å†…å­˜çš„æµªè´¹ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨æ‡’æ±‰å¼çš„å•ä¾‹æ¨¡å¼ï¼Œå³å½“ç¬¬ä¸€æ¬¡è·å–å•ä¾‹å¯¹è±¡æ—¶ï¼Œæ‰å»åˆ›å»ºå¯¹è±¡</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Singtelon3</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Singtelon3 INSTANCE;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Singtelon3</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Singleton is constructed&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singtelon3 <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">if</span>(INSTANCE == <span class="hljs-literal">null</span>)<br>            INSTANCE = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Singtelon3</span>();<br>        <span class="hljs-keyword">return</span> INSTANCE;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doSomething</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Singleton3 is doing something&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åšä¸€ä¸ªæµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        Singtelon3.doSomething();<br>        System.out.println(<span class="hljs-string">&quot;-------------------------------------------&quot;</span>);<br>        System.out.println(Singtelon3.getInstance());<br>        System.out.println(Singtelon3.getInstance());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">Singleton3 is doing something<br>-------------------------------------------<br>Singleton3 is constructed<br>Singtelon3@3b07d329<br>Singtelon3@3b07d329<br><br>Process finished with exit code 0<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œè¿™ç§æ–¹å¼çš„ç¡®å¯ä»¥ä¿è¯å•ä¾‹ï¼ˆä¸¤æ¬¡è°ƒç”¨<code>getInstance</code>è·å–å¯¹è±¡çš„å“ˆå¸Œå€¼ä¸€è‡´ï¼‰ï¼Œå¹¶ä¸”ï¼Œç±»åŠ è½½åå¹¶æ²¡æœ‰ç«‹å³åˆ›å»ºå¯¹è±¡ï¼Œè€Œæ˜¯åœ¨ç¬¬ä¸€æ¬¡è·å–å¯¹è±¡çš„æ—¶å€™æ‰å¯¹å¯¹è±¡è¿›è¡Œåˆ›å»ºã€‚è¿™å°±æ˜¯æ‡’æ±‰å¼çš„å•ä¾‹æ¨¡å¼ã€‚</p><h3 id="æ‡’æ±‰å¼åœ¨å¤šçº¿ç¨‹ä¸­çš„é—®é¢˜"><a href="#æ‡’æ±‰å¼åœ¨å¤šçº¿ç¨‹ä¸­çš„é—®é¢˜" class="headerlink" title="æ‡’æ±‰å¼åœ¨å¤šçº¿ç¨‹ä¸­çš„é—®é¢˜"></a>æ‡’æ±‰å¼åœ¨å¤šçº¿ç¨‹ä¸­çš„é—®é¢˜</h3><p>ä½†æ˜¯ï¼Œåœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¸­ï¼Œè¿™ç§æ¨¡å¼å°±æœ‰å¾ˆå¤§çš„é—®é¢˜äº†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">t1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; &#123;<br>            System.out.println(Singtelon3.getInstance());<br>        &#125;);<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">t2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; &#123;<br>            System.out.println(Singtelon3.getInstance());<br>        &#125;);<br>        t1.start();<br>        t2.start();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šè¿°ä»£ç ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">Singleton3 is constructed<br>Singtelon3@63236bfa<br>Singleton3 is constructed<br>Singtelon3@24224129<br><br>Process finished with exit code 0<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œå•ä¾‹æ¨¡å¼è¢«ç ´åäº†ï¼</p><p>åŸå› å¯èƒ½æœ‰å¾ˆå¤šï¼Œæ€»ä½“æ¥è¯´å°±æ˜¯ä¸‹åˆ—ä»£ç ä¸­ï¼Œä¸¤ä¸ªçº¿ç¨‹éƒ½è¿›å…¥äº†ifä¸ºtrueçš„ä»£ç ä¸­ï¼Œç„¶åå„è‡ªåˆ›å»ºäº†å¯¹è±¡ã€‚è€Œå¯¼è‡´ä¸¤ä¸ªçº¿ç¨‹éƒ½è¿›å…¥äº†ifä¸ºtrueçš„ä»£ç ä¸­çš„åŸå› å¯èƒ½æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ä¸€ä¸ªåˆšè¿›å»ï¼Œå°±åˆ‡æ¢åˆ°å¦ä¸€ä¸ªï¼Œè¿™æ—¶è¿˜æ²¡åˆ›å»ºå¥½å¯¹è±¡ï¼Œåˆ¤æ–­ç»“æœè¿˜æ˜¯trueï¼Œå¦ä¸€ä¸ªåˆè¿›å»äº†ï¼›æˆ–è€…æ˜¯ä¸€ä¸ªçº¿ç¨‹åˆšåˆ›å»ºå¥½å¯¹è±¡ï¼Œè¿˜æ²¡èµ‹å€¼ç»™<code>INSTANCE</code>ï¼Œå°±åˆ‡æ¢åˆ°å¦ä¸€ä¸ªçº¿ç¨‹äº†ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹åˆ¤æ–­ç»“æœè¿˜æ˜¯trueï¼Œç„¶ååˆèƒ½æ‰§è¡Œ<code>new Singtelon3()</code>æ“ä½œäº†ï¼Œç­‰ç­‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singtelon3 <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-keyword">if</span>(INSTANCE == <span class="hljs-literal">null</span>)<br>        INSTANCE = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Singtelon3</span>();<br>    <span class="hljs-keyword">return</span> INSTANCE;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="è§£å†³æ–¹æ³•ï¼šåŒé‡æ£€æŸ¥é”"><a href="#è§£å†³æ–¹æ³•ï¼šåŒé‡æ£€æŸ¥é”" class="headerlink" title="è§£å†³æ–¹æ³•ï¼šåŒé‡æ£€æŸ¥é”"></a>è§£å†³æ–¹æ³•ï¼šåŒé‡æ£€æŸ¥é”</h3><p>é—®é¢˜å‡ºåœ¨<code>ä¸¤ä¸ªçº¿ç¨‹éƒ½è¿›å…¥äº†ifä¸ºtrueçš„ä»£ç ä¸­ï¼Œç„¶åå„è‡ªåˆ›å»ºäº†å¯¹è±¡</code>ï¼Œå› æ­¤æˆ‘ä»¬åªè¦ä½¿å¾—ï¼Œä¸¤ä¸ªçº¿ç¨‹é‡Œåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹åˆ›å»ºå¯¹è±¡å°±å¥½äº†ï¼Œå› æ­¤å°±å¾—åˆ°äº†å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singtelon3 <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-keyword">if</span>(INSTANCE == <span class="hljs-literal">null</span>)&#123;<br>        <span class="hljs-keyword">synchronized</span> (Singtelon3.class)&#123;<br>            <span class="hljs-keyword">if</span>(INSTANCE == <span class="hljs-literal">null</span>)<br>                INSTANCE = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Singtelon3</span>();<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> INSTANCE;<br>&#125;<br></code></pre></td></tr></table></figure><p>å½“INSTANCEä¸ä¸ºç©ºï¼šç›´æ¥è¿”å›ï¼›å½“INSTANCEä¸ºç©ºï¼šå…ˆå»å°è¯•è·å¾—é”ï¼Œåœ¨æˆåŠŸè·å¾—é”ä¹‹å‰ï¼Œå¯èƒ½å·²ç»æœ‰å…¶ä»–çº¿ç¨‹è¿›å…¥åŒæ­¥ä»£ç å—åˆ›å»ºå¯¹è±¡äº†ï¼Œå› æ­¤è¿›å…¥åŒæ­¥ä»£ç å—åï¼Œéœ€è¦å†æ¬¡åˆ¤æ–­æ˜¯å¦ä¸ºç©ºã€‚</p><h3 id="ä¸ºä»€ä¹ˆè¦åŠ volatile"><a href="#ä¸ºä»€ä¹ˆè¦åŠ volatile" class="headerlink" title="ä¸ºä»€ä¹ˆè¦åŠ volatile"></a>ä¸ºä»€ä¹ˆè¦åŠ volatile</h3><p>ä½†è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„INSTANCEä¸€å®šå¾—æ˜¯åŠ äº†<code>volatile</code>å…³é”®å­—çš„åŸå› å¦‚ä¸‹ï¼š</p><ol><li><p>ä¸ºäº†ä¿è¯å…±äº«å˜é‡INSTANCEçš„å¯è§æ€§ï¼Œåœ¨ä¸ºINSTANCEèµ‹å€¼åèƒ½è®©å…¶ä»–çº¿ç¨‹ç«‹å³çœ‹åˆ°ã€‚è¿™ä¸ªåŸå› å¹¶ä¸æ˜¯ä¸»è¦åŸå› ï¼Œå› ä¸º<code>INSTANCE == null</code>çš„åˆ¤æ–­ä¼šå»è·å–INSTANCEçš„å€¼ï¼Œæ‰€ä»¥å…¶å®ä¸åŠ <code>volatile</code>å¹¶ä¸ä¼šå‡ºç°å¯è§æ€§çš„é—®é¢˜ã€‚ï¼ˆåšæµ‹è¯•å‘ç°ç¡®å®æ²¡æœ‰å‡ºç°é—®é¢˜ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">Singleton3 is constructed<br>Singtelon3@7a092293<br>Singtelon3@7a092293<br><br>Process finished with exit code 0<br></code></pre></td></tr></table></figure></li><li><p><strong>ä¸ºäº†ä¿è¯ç¼–è¯‘ä»£ç çš„æœ‰åºæ€§</strong>ã€‚è¿™æ˜¯æœ€æ ¸å¿ƒçš„åŸå› ã€‚å¦‚æœä¸åŠ <code>volatile</code>ï¼Œåˆ™<code>INSTANCE = new Singtelon3();</code>çš„ç¼–è¯‘ç»“æœæœªå¿…æ˜¯æˆ‘ä»¬æƒ³çš„é‚£æ ·ã€‚ä½¿ç”¨<code>javap -c -v -p Singtelon3.class</code>æŸ¥çœ‹ä¸€ä¸‹<code>Singtelon3.class</code>çš„åç¼–è¯‘ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">17: new           #22                 // class Singtelon3    åˆ†é…å†…å­˜ç©ºé—´<br>20: dup<br>21: invokespecial #27                 // Method &quot;&lt;init&gt;&quot;:()V    å¯¹è±¡å†…åˆå§‹åŒ–èµ‹å€¼<br>24: putstatic     #21                 // Field INSTANCE:LSingtelon3;æŠŠå¯¹è±¡èµ‹å€¼ç»™INSTANCE<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ä»¥ä¸Šä¸‰æ­¥ï¼Œåˆ†åˆ«æ˜¯åˆ†é…ç©ºé—´ï¼Œç»™å¯¹è±¡åˆå§‹åŒ–èµ‹å€¼ï¼Œå’ŒæŠŠå¯¹è±¡åœ°å€èµ‹å€¼ç»™INSTANCEã€‚<strong>åˆ†é…ç©ºé—´è‚¯å®šæ˜¯ç¬¬ä¸€æ­¥åšçš„ï¼Œä½†æ˜¯åä¸¤æ­¥éƒ½æ˜¯èµ‹å€¼ï¼Œå› æ­¤ç¼–è¯‘çš„ä»£ç å¯èƒ½ä¼šæ”¹å˜ä¸¤è€…çš„é¡ºåºã€‚</strong>è¿™å°±æœ‰é—®é¢˜äº†ï¼šå¦‚æœå…ˆæ‰§è¡Œäº†<code>putstatic</code> ï¼Œç„¶åå¦ä¸€ä¸ªçº¿ç¨‹å°±å»è¿›è¡Œ<code>INSTANCE == null</code>çš„æ£€æµ‹ï¼Œå‘ç°ä¸ä¸ºnullï¼ˆå› ä¸ºå·²ç»èµ‹å€¼ç»™INSTANCEäº†ï¼‰ï¼Œä½†æ­¤æ—¶è¿˜æ²¡æœ‰å¯¹å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ï¼Œé‚£ä¹ˆæ‹¿åˆ°çš„INSTANCEå…¶å®æ˜¯æœ‰é—®é¢˜çš„ï¼Œè¿™å°±å¾ˆå±é™©äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯<code> invokespecial</code>ä¸€å®šåœ¨<code>putstatic</code>ä¹‹å‰æ‰§è¡Œã€‚è€Œå› ä¸ºvolatileæœ‰å†…å­˜å±éšœï¼Œæ‰€ä»¥å¯ä»¥ä¿è¯<code> invokespecial</code>ä¸€å®šåœ¨<code>putstatic</code>ä¹‹å‰æ‰§è¡Œã€‚è¿™æ‰æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ç»™INSTANCEåŠ volatileã€‚</p></li></ol><h2 id="æ–¹å¼å››ï¼šå†…éƒ¨ç±»ï¼ˆæ‡’æ±‰å¼ï¼‰"><a href="#æ–¹å¼å››ï¼šå†…éƒ¨ç±»ï¼ˆæ‡’æ±‰å¼ï¼‰" class="headerlink" title="æ–¹å¼å››ï¼šå†…éƒ¨ç±»ï¼ˆæ‡’æ±‰å¼ï¼‰"></a>æ–¹å¼å››ï¼šå†…éƒ¨ç±»ï¼ˆæ‡’æ±‰å¼ï¼‰</h2><p>æˆ‘ä»¬çŸ¥é“ï¼Œ<code>private static final Singtelon1 INSTANCE = new Singtelon1();</code>è¿™ä¸€æ­¥æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¿™æ˜¯å› ä¸ºè¿™ä¸€æ­¥æ˜¯åœ¨ç±»çš„åˆå§‹åŒ–æ—¶ç»™é™æ€å˜é‡èµ‹å€¼ï¼Œæ˜¯åœ¨é™æ€ä»£ç å—ä¸­æ‰§è¡Œçš„ï¼Œè€Œé™æ€ä»£ç å—ä¼šç»´æŠ¤çº¿ç¨‹å®‰å…¨ï¼Œå› æ­¤åªè¦æˆ‘ä»¬ä¹Ÿèƒ½é€šè¿‡é™æ€ä»£ç å—æ‡’æ±‰å¼åœ°æ„å»ºå¯¹è±¡ï¼Œé‚£ä¹ˆä¸å°±ä¸éœ€è¦åŒé‡æ£€æŸ¥é”äº†å—ï¼Ÿè¦å®ç°è¿™ä»¶äº‹ï¼Œå°±éœ€è¦æˆ‘ä»¬æ‰§è¡Œ<code>private static final Singtelon1 INSTANCE = new Singtelon1()</code>ï¼Œä½†æˆ‘ä»¬åˆä¸å¸Œæœ›åœ¨è¿™ä¹‹å‰æ‰§è¡Œç±»çš„æ–¹æ³•æ—¶å°±å¯¹ç±»åˆå§‹åŒ–ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡å†…éƒ¨ç±»çš„æ–¹å¼æ¥å®ç°è¿™ä¸€ç‚¹ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Singtelon4</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Singtelon4</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Singleton4 is constructed&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Holder</span>&#123;<br>        <span class="hljs-keyword">static</span> <span class="hljs-type">Singtelon4</span> <span class="hljs-variable">INSTANCE</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Singtelon4</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singtelon4 <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> Holder.INSTANCE;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doSomething</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Singleton4 is doing something&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åªè¦æˆ‘ä»¬ä¸å»ä½¿ç”¨<code>getInstance</code>æ–¹æ³•ï¼Œ<code>Holder</code>å°±ä¸ä¼šæ‰§è¡Œç±»åˆå§‹åŒ–ï¼Œä¹Ÿå°±ä¸ä¼šåˆ›å»º<code>Singtelon4</code>å¯¹è±¡ï¼Œè€Œå…¶åˆ›å»º<code>Singtelon4</code>å¯¹è±¡å¹¶å¤åˆ¶çš„è¿‡ç¨‹æ˜¯åœ¨é™æ€ä»£ç å—ä¸­çš„ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤æˆ‘ä»¬è½»æ¾åœ°å®ç°äº†æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼ã€‚</p><p>æµ‹è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        Singtelon4.doSomething();<br>        System.out.println(<span class="hljs-string">&quot;----------------------------------&quot;</span>);<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">t1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; &#123;<br>            System.out.println(Singtelon4.getInstance());<br>        &#125;);<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">t2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; &#123;<br>            System.out.println(Singtelon4.getInstance());<br>        &#125;);<br>        t1.start();<br>        t2.start();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">Singleton4 is doing something<br>----------------------------------<br>Singleton4 is constructed<br>Singtelon4@5635b27f<br>Singtelon4@5635b27f<br><br>Process finished with exit code 0<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œå½“æˆ‘æ‰§è¡Œ<code>doSomething()</code>æ—¶ï¼Œå¹¶ä¸ä¼šå¼•å‘å•ä¾‹å¯¹è±¡çš„æ„å»ºï¼Œè€Œå½“æˆ‘å¤šçº¿ç¨‹åœ°è·å–å•ä¾‹å¯¹è±¡æ—¶ï¼Œå•ä¾‹å¯¹è±¡ä¹Ÿåªè¢«åˆ›å»ºäº†ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ç”¨è¿™ç§æ–¹å¼ï¼Œå®ç°äº†æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼ã€‚</p><h2 id="å•ä¾‹æ¨¡å¼åœ¨JDKä¸­çš„ä½“ç°"><a href="#å•ä¾‹æ¨¡å¼åœ¨JDKä¸­çš„ä½“ç°" class="headerlink" title="å•ä¾‹æ¨¡å¼åœ¨JDKä¸­çš„ä½“ç°"></a>å•ä¾‹æ¨¡å¼åœ¨JDKä¸­çš„ä½“ç°</h2><p>é¡¹ç›®ä¸­ä½¿ç”¨å•ä¾‹æ¨¡å¼æ˜¯å±é™©çš„ï¼Œå› ä¸ºå¯èƒ½ä¼šç”¨é”™ã€‚ä½†æ˜¯æœ‰é“è¿™æ ·çš„é¢è¯•é¢˜ï¼š</p><blockquote><p>åœ¨å“ªé‡Œä½¿ç”¨äº†å•ä¾‹æ¨¡å¼ ï¼Ÿ</p></blockquote><p>æ—¢ç„¶æˆ‘ä»¬æ²¡èƒ½åœ¨é¡¹ç›®ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼Œæˆ‘ä»¬å°±ä¸èƒ½ä¸¾é¡¹ç›®ä¸­çš„ä¾‹å­äº†ã€‚æˆ‘ä»¬å¯ä»¥æŠŠç›®å…‰æŠ•å‘JDKå’Œæ¡†æ¶ä¸Šï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä¼šä»‹ç»å•ä¾‹æ¨¡å¼åœ¨JDKä¸­çš„ä¸€äº›ä½“ç°ã€‚</p><h3 id="ä¾‹ä¸€ï¼šRuntimeç±»"><a href="#ä¾‹ä¸€ï¼šRuntimeç±»" class="headerlink" title="ä¾‹ä¸€ï¼šRuntimeç±»"></a>ä¾‹ä¸€ï¼šRuntimeç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> java.lang;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Runtime</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Runtime</span> <span class="hljs-variable">currentRuntime</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Runtime</span>();<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Version version;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * Returns the runtime object associated with the current Java application.</span><br><span class="hljs-comment">     * Most of the methods of class &#123;<span class="hljs-doctag">@code</span> Runtime&#125; are instance</span><br><span class="hljs-comment">     * methods and must be invoked with respect to the current runtime object.</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>  the &#123;<span class="hljs-doctag">@code</span> Runtime&#125; object associated with the current</span><br><span class="hljs-comment">     *          Java application.</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Runtime <span class="hljs-title function_">getRuntime</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> currentRuntime;<br>    &#125;<br><br>    <span class="hljs-comment">/** Don&#x27;t let anyone else instantiate this class */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Runtime</span><span class="hljs-params">()</span> &#123;&#125;<br></code></pre></td></tr></table></figure><p>ä¸éš¾çœ‹å‡ºï¼ŒJDKé‡Œçš„Runtimeç±»æ˜¯ç”¨äº†å•ä¾‹æ¨¡å¼çš„ï¼Œè€Œä¸”æ˜¯æˆ‘ä»¬æåˆ°çš„é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼ã€‚</p><p>å½“æˆ‘ä»¬è¦é€€å‡ºJVMæ—¶ï¼Œä¼šè°ƒç”¨exitæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯åœ¨Systemç±»ä¸­çš„ï¼Œè¿™ä¸ªæ–¹æ³•çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exit</span><span class="hljs-params">(<span class="hljs-type">int</span> status)</span> &#123;<br>       Runtime.getRuntime().exit(status);<br>   &#125;<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œè¿™é‡Œæ˜¯é€šè¿‡Runtime.getRuntime()è·å–åˆ°çš„Runtimeå•ä¾‹å¯¹è±¡ã€‚</p><p>é™¤äº†exitä¹‹å¤–ï¼ŒSystemç±»ä¸­è¿˜æœ‰å¾ˆå¤šåˆ«çš„æ–¹æ³•ä¹Ÿæ˜¯é€šè¿‡Runtime.getRuntime()è·å–å•ä¾‹å¯¹è±¡æ¥è°ƒç”¨Runtimeç±»ä¸­çš„æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> java.lang;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">System</span> &#123;<br>    ......<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exit</span><span class="hljs-params">(<span class="hljs-type">int</span> status)</span> &#123;<br>        Runtime.getRuntime().exit(status);<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">gc</span><span class="hljs-params">()</span> &#123;<br>        Runtime.getRuntime().gc();<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">runFinalization</span><span class="hljs-params">()</span> &#123;<br>        Runtime.getRuntime().runFinalization();<br>    &#125;<br>    <br>    <span class="hljs-meta">@CallerSensitive</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">load</span><span class="hljs-params">(String filename)</span> &#123;<br>        Runtime.getRuntime().load0(Reflection.getCallerClass(), filename);<br>    &#125;<br>    <br></code></pre></td></tr></table></figure><h3 id="ä¾‹äºŒï¼šConsoleç±»"><a href="#ä¾‹äºŒï¼šConsoleç±»" class="headerlink" title="ä¾‹äºŒï¼šConsoleç±»"></a>ä¾‹äºŒï¼šConsoleç±»</h3><p>åˆšåˆšæåˆ°äº†Systemç±»ï¼Œè¿™ä¸ªç±»æœ‰ä¸ªConsoleå¯¹è±¡ï¼Œä¹Ÿå®ç°äº†å•ä¾‹æ¨¡å¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> Console cons;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Returns the unique &#123;<span class="hljs-doctag">@link</span> java.io.Console Console&#125; object associated</span><br><span class="hljs-comment"> * with the current Java virtual machine, if any.</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span>  The system console, if any, otherwise &#123;<span class="hljs-doctag">@code</span> null&#125;.</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span>   1.6</span><br><span class="hljs-comment"> */</span><br> <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Console <span class="hljs-title function_">console</span><span class="hljs-params">()</span> &#123;<br>     Console c;<br>     <span class="hljs-keyword">if</span> ((c = cons) == <span class="hljs-literal">null</span>) &#123;<br>         <span class="hljs-keyword">synchronized</span> (System.class) &#123;<br>             <span class="hljs-keyword">if</span> ((c = cons) == <span class="hljs-literal">null</span>) &#123;<br>                 cons = c = SharedSecrets.getJavaIOAccess().console();<br>             &#125;<br>         &#125;<br>     &#125;<br>     <span class="hljs-keyword">return</span> c;<br> &#125;<br></code></pre></td></tr></table></figure><p>è¿™æ˜¯æˆ‘èƒ½æ‰¾åˆ°çš„JDKä¸­çš„å”¯ä¸€ä¸€ä¸ªæ‡’æ±‰å¼å•ä¾‹æ¨¡å¼äº†ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„å•ä¾‹å¯¹è±¡æ˜¯Consoleçš„å¯¹è±¡ï¼Œä½†æ˜¯æ˜¯å†™åœ¨Systemä¸­çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¯¹consçš„èµ‹å€¼å¹¶ä¸æ˜¯ç›´æ¥newï¼Œè€Œæ˜¯ä¸€å®šè¦ç”¨<code>SharedSecrets.getJavaIOAccess().console()</code>ã€‚</p><p>åœ¨Consoleç±»ä¸­ï¼ŒConsoleå¯¹è±¡ä¹Ÿæ˜¯å•ä¾‹çš„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Charset CHARSET;<br><span class="hljs-keyword">static</span> &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">csname</span> <span class="hljs-operator">=</span> encoding();<br>    <span class="hljs-type">Charset</span> <span class="hljs-variable">cs</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">if</span> (csname == <span class="hljs-literal">null</span>) &#123;<br>        csname = GetPropertyAction.privilegedGetProperty(<span class="hljs-string">&quot;sun.stdout.encoding&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (csname != <span class="hljs-literal">null</span>) &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            cs = Charset.forName(csname);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception ignored) &#123; &#125;<br>    &#125;<br>    CHARSET = cs == <span class="hljs-literal">null</span> ? Charset.defaultCharset() : cs;<br><br>    <span class="hljs-comment">// Set up JavaIOAccess in SharedSecrets</span><br>    SharedSecrets.setJavaIOAccess(<span class="hljs-keyword">new</span> <span class="hljs-title class_">JavaIOAccess</span>() &#123;<br>        <span class="hljs-keyword">public</span> Console <span class="hljs-title function_">console</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-keyword">if</span> (istty()) &#123;<br>                <span class="hljs-keyword">if</span> (cons == <span class="hljs-literal">null</span>)<br>                    cons = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Console</span>();<br>                <span class="hljs-keyword">return</span> cons;<br>            &#125;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> Charset <span class="hljs-title function_">charset</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-keyword">return</span> CHARSET;<br>        &#125;<br>    &#125;);<br>&#125;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Console cons;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">istty</span><span class="hljs-params">()</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-title function_">Console</span><span class="hljs-params">()</span> &#123;<br></code></pre></td></tr></table></figure><h3 id="ä¾‹ä¸‰ï¼šCollectionsç±»"><a href="#ä¾‹ä¸‰ï¼šCollectionsç±»" class="headerlink" title="ä¾‹ä¸‰ï¼šCollectionsç±»"></a>ä¾‹ä¸‰ï¼šCollectionsç±»</h3><p>Conllectionsç±»æ˜¯ä¸€ä¸ªé›†åˆå·¥å…·ç±»ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªç±»æ¥è·å–ç©ºçš„é›†åˆï¼Œè¿™æ—¶çš„ç©ºé›†åˆå°±ç”¨åˆ°äº†å•ä¾‹æ¨¡å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmptyNavigableSet</span>&lt;E&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">UnmodifiableNavigableSet</span>&lt;E&gt;<br>    <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> &#123;<br>    <span class="hljs-meta">@java</span>.io.Serial<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> -<span class="hljs-number">6291252904449939134L</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">EmptyNavigableSet</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-built_in">super</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeSet</span>&lt;&gt;());<br>    &#125;<br><br>    <span class="hljs-meta">@java</span>.io.Serial<br>    <span class="hljs-keyword">private</span> Object <span class="hljs-title function_">readResolve</span><span class="hljs-params">()</span>        &#123; <span class="hljs-keyword">return</span> EMPTY_NAVIGABLE_SET; &#125;<br>&#125;<br><br><span class="hljs-meta">@SuppressWarnings(&quot;rawtypes&quot;)</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> NavigableSet&lt;?&gt; EMPTY_NAVIGABLE_SET =<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">EmptyNavigableSet</span>&lt;&gt;();<br></code></pre></td></tr></table></figure><p>è€Œä¸”å¯ä»¥çœ‹åˆ°ï¼Œä¸ºäº†ä¿æŠ¤ç±»çš„å•ä¾‹ï¼Œè¿˜å®ç°äº†Serializableï¼Œä»è€Œé¿å…äº†ååºåˆ—åŒ–ç ´åå•ä¾‹ã€‚è¿™ç§è·å–ç©ºé›†åˆçš„æ–¹å¼ï¼Œåœ¨Conllectionsç±»ä¸­è¿˜æœ‰å¾ˆå¤šï¼Œåœ¨æ­¤ä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚</p><p>é™¤äº†ç›´æ¥æŠŠå¯¹è±¡èµ‹å€¼ç»™Conllectionsç±»çš„é™æ€æˆå‘˜å˜é‡ï¼ŒCollectionsç±»å†…éƒ¨è¿˜æœ‰å¾ˆå¤šå†…éƒ¨ç±»ï¼Œè¿™äº›å†…éƒ¨ç±»ä¹Ÿè¿ç”¨äº†å•ä¾‹æ¨¡å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; Iterator&lt;T&gt; <span class="hljs-title function_">emptyIterator</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> (Iterator&lt;T&gt;) EmptyIterator.EMPTY_ITERATOR;<br>&#125;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmptyIterator</span>&lt;E&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Iterator</span>&lt;E&gt; &#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> EmptyIterator&lt;Object&gt; EMPTY_ITERATOR<br>        = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EmptyIterator</span>&lt;&gt;();<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">hasNext</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; &#125;<br>    <span class="hljs-keyword">public</span> E <span class="hljs-title function_">next</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NoSuchElementException</span>(); &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">remove</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(); &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">forEachRemaining</span><span class="hljs-params">(Consumer&lt;? <span class="hljs-built_in">super</span> E&gt; action)</span> &#123;<br>        Objects.requireNonNull(action);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>é¡ºè—¤æ‘¸ç“œï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ‰¾åˆ°æšä¸¾é¥¿æ±‰å¼çš„ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; Comparator&lt;T&gt; <span class="hljs-title function_">reverseOrder</span><span class="hljs-params">()</span> &#123;<br>       <span class="hljs-keyword">return</span> (Comparator&lt;T&gt;) ReverseComparator.REVERSE_ORDER;<br>   &#125;<br></code></pre></td></tr></table></figure><p>Conllectionsç±»ä¸­çš„reverseOrder()æ–¹æ³•ï¼Œè¿”å›å€¼æ˜¯ReverseComparatorç±»çš„REVERSE_ORDERï¼Œè¿™æ˜¯ä¸€ä¸ªå•ä¾‹å¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReverseComparator</span><br>    <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparator</span>&lt;Comparable&lt;Object&gt;&gt;, Serializable &#123;<br><br>    <span class="hljs-meta">@java</span>.io.Serial<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">7207038068494060240L</span>;<br><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ReverseComparator</span> <span class="hljs-variable">REVERSE_ORDER</span><br>        <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReverseComparator</span>();<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Comparable&lt;Object&gt; c1, Comparable&lt;Object&gt; c2)</span> &#123;<br>        <span class="hljs-keyword">return</span> c2.compareTo(c1);<br>    &#125;<br><br>    <span class="hljs-meta">@java</span>.io.Serial<br>    <span class="hljs-keyword">private</span> Object <span class="hljs-title function_">readResolve</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> Collections.reverseOrder(); &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Comparator&lt;Comparable&lt;Object&gt;&gt; <span class="hljs-title function_">reversed</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> Comparator.naturalOrder();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è€ŒComparatorçš„naturalOrderæ–¹æ³•çš„è¿”å›å€¼ï¼Œä¹Ÿæ˜¯å•ä¾‹çš„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Comparable</span>&lt;? <span class="hljs-built_in">super</span> T&gt;&gt; Comparator&lt;T&gt; <span class="hljs-title function_">naturalOrder</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> (Comparator&lt;T&gt;) Comparators.NaturalOrderComparator.INSTANCE;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Comparators</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Comparators</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AssertionError</span>(<span class="hljs-string">&quot;no instances&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * Compares &#123;<span class="hljs-doctag">@link</span> Comparable&#125; objects in natural order.</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> Comparable</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">NaturalOrderComparator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparator</span>&lt;Comparable&lt;Object&gt;&gt; &#123;<br>        INSTANCE;<br><br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Comparable&lt;Object&gt; c1, Comparable&lt;Object&gt; c2)</span> &#123;<br>            <span class="hljs-keyword">return</span> c1.compareTo(c2);<br>        &#125;<br><br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> Comparator&lt;Comparable&lt;Object&gt;&gt; <span class="hljs-title function_">reversed</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-keyword">return</span> Comparator.reverseOrder();<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œè¿™é‡Œçš„INSTANCEæ˜¯æšä¸¾ç±»NaturalOrderComparatorçš„å”¯ä¸€ä¸€ä¸ªé€‰é¡¹ï¼Œè¿™å°±æ˜¯é€šè¿‡æšä¸¾å®ç°é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼çš„ä½“ç°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>è®¾è®¡æ¨¡å¼</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GitåŸºç¡€æ•™ç¨‹</title>
    <link href="/2025/01/31/Git%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/"/>
    <url>/2025/01/31/Git%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆè¦å­¦ä¹ Git"><a href="#ä¸ºä»€ä¹ˆè¦å­¦ä¹ Git" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å­¦ä¹ Git"></a>ä¸ºä»€ä¹ˆè¦å­¦ä¹ Git</h2><p>åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œéœ€è¦å¯¹æ•´ä¸ªå›¢é˜Ÿçš„ä»£ç å’Œæ–‡æ¡£ï¼ˆé¡¹ç›®æˆæœï¼‰è¿›è¡Œç»Ÿä¸€çš„ç®¡ç†ï¼Œè¿™å°±éœ€è¦è½¯ä»¶é…ç½®ç®¡ç†äº†ã€‚è½¯ä»¶é…ç½®ç®¡ç†ï¼ˆSCMï¼‰æ˜¯æŒ‡é€šè¿‡æ‰§è¡Œç‰ˆæœ¬æ§åˆ¶ã€å˜æ›´æ§åˆ¶çš„è§„ç¨‹ï¼Œä»¥åŠä½¿ç”¨åˆé€‚çš„é…ç½®ç®¡ç†è½¯ä»¶ï¼Œæ¥ä¿è¯æ‰€æœ‰é…ç½®é¡¹çš„å®Œæ•´æ€§å’Œå¯è·Ÿè¸ªæ€§ã€‚é…ç½®ç®¡ç†æ˜¯å¯¹å·¥ä½œæˆæœçš„ä¸€ç§æœ‰æ•ˆä¿æŠ¤ã€‚è€ŒGitå°±æ˜¯ä¸€ç§è½¯ä»¶é…ç½®ç®¡ç†è½¯ä»¶ã€‚</p><p>ç›¸æ¯”äºåˆ«çš„è½¯ä»¶é…ç½®ç®¡ç†è½¯ä»¶ï¼ˆå¦‚VSSã€CVSã€Subversionç­‰ï¼‰ï¼ŒGitä½œä¸ºå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥æ›´åŠ æœ‰æ•ˆã€é«˜é€Ÿåœ°å¤„ç†ä»å¾ˆå°åˆ°å¾ˆå¤§çš„é¡¹ç›®ç‰ˆæœ¬æ§åˆ¶ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å­¦ä¹ Gitã€‚</p><h2 id="ä¸€äº›åŸºç¡€æ¦‚å¿µ"><a href="#ä¸€äº›åŸºç¡€æ¦‚å¿µ" class="headerlink" title="ä¸€äº›åŸºç¡€æ¦‚å¿µ"></a>ä¸€äº›åŸºç¡€æ¦‚å¿µ</h2><h3 id="ç‰ˆæœ¬æ§åˆ¶"><a href="#ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="ç‰ˆæœ¬æ§åˆ¶"></a>ç‰ˆæœ¬æ§åˆ¶</h3><p>ç‰ˆæœ¬ï¼šè¯´åˆ°ç‰ˆæœ¬ï¼Œå¤§å®¶éƒ½ä¸å¤ªé™Œç”Ÿã€‚æˆ‘ä»¬å¸¸è¯´çš„æœ‰è½¯ä»¶ç‰ˆæœ¬å’Œæ–‡ä»¶ç‰ˆæœ¬ã€‚å¯¹äºè½¯ä»¶ç‰ˆæœ¬ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„è½¯ä»¶éƒ½æœ‰å…¶ç‰ˆæœ¬ï¼Œæ¯”å¦‚JDKæœ‰1.8ã€11ã€17ç­‰ç‰ˆæœ¬ï¼ŒMysqlæœ‰5.7ã€8.0ç­‰ç‰ˆæœ¬ï¼›è€Œæ–‡ä»¶ç‰ˆæœ¬åˆ™æ˜¯ç”¨äºä¿å­˜é‡è¦çš„å†å²è®°å½•ï¼Œä¸”å¯ä»¥ç”¨æ¥æ¢å¤æ•°æ®è€Œäº§ç”Ÿçš„ï¼Œæ¯”å¦‚ä½ å¯¹æŸä¸ªæ–‡ä»¶å»ºç«‹äº†ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶åå»ä¿®æ”¹åŸæ–‡ä»¶ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªæ–‡ä»¶çš„æ–‡ä»¶ç‰ˆæœ¬å°±æ˜¯ä¸åŒçš„ã€‚</p><p>ç”±æ­¤å¯è§ï¼Œå¯¹æ–‡ä»¶ç‰ˆæœ¬çš„æ§åˆ¶æ˜¯é‡è¦çš„ï¼Œè€Œæ‰‹åŠ¨è¿›è¡Œæ¯ä¸€ä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬æ§åˆ¶æ˜¯è´¹æ—¶è´¹åŠ›çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶æ¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å¯¹ç‰ˆæœ¬è¿›è¡Œæ§åˆ¶ã€‚</p><p>ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶çš„åŸºç¡€åŠŸèƒ½æœ‰ï¼š</p><ol><li>ä¿å­˜å’Œç®¡ç†è½¯ä»¶</li><li>æä¾›å®¢æˆ·ç«¯å·¥å…·è¿›è¡Œè®¿é—®</li><li>æä¾›ä¸åŒç‰ˆæœ¬æ–‡ä»¶çš„æ¯”å¯¹åŠŸèƒ½</li></ol><h3 id="é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶"><a href="#é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶"></a>é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶</h3><p>è¦å¯¹ç‰ˆæœ¬è¿›è¡Œæ§åˆ¶ï¼Œæœ€å®¹æ˜“æƒ³åˆ°çš„åŠæ³•å°±æ˜¯æœ‰ä¸€ä¸ªé›†ä¸­ç®¡ç†è½¯ä»¶ç‰ˆæœ¬çš„ä¸­å¤®æœåŠ¡å™¨ï¼Œç„¶åæ¯ä¸ªå¼€å‘è€…éƒ½ä»è¿™ä¸ªæœåŠ¡å™¨è·å–æœ€æ–°ä»£ç å¹¶å¯¹å…¶è¿›è¡Œæ›´æ–°ã€‚</p><p><img src="https://flowertea.site/img/%E9%9B%86%E4%B8%AD%E5%BC%8F%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6.png?raw=true" alt="é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶"></p><p>è¿™ä¹ˆåšè™½ç„¶å¯ä»¥å®ç°å¤šäººåä½œå¼€å‘ä¸­å¯¹ç‰ˆæœ¬çš„æ§åˆ¶ï¼Œä½†æ˜¯å­˜åœ¨ç€ä¸€äº›é—®é¢˜ï¼š</p><ol><li>æ–‡ä»¶å†²çªé—®é¢˜ï¼šå¦‚æœå‡ ä¸ªå¼€å‘è€…éƒ½å…ˆä¸‹è½½äº†åŒä¸€ç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œå¹¶åˆ†åˆ«å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œé‚£ä¹ˆæœ€ç»ˆï¼ŒæœåŠ¡å™¨æœ€æ–°ç‰ˆæœ¬çš„æ–‡ä»¶åªèƒ½æ˜¯æœ€åä¸€åä¸Šä¼ è€…æ‰€ä¿®æ”¹çš„æ–‡ä»¶ï¼Œè€Œä¹‹å‰çš„ä¸Šä¼ è€…ä¸Šä¼ çš„æ–‡ä»¶éƒ½ä¼šè¢«è¦†ç›–æ‰ã€‚å¯¹äºä¸åŒçš„é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ï¼Œè§£å†³æ–¹æ³•ä¸å®Œå…¨ç›¸åŒï¼Œæ¯”å¦‚å¯¹æ–‡ä»¶è¿›è¡ŒåŠ é”ç­‰ï¼Œä½†è¿™æ ·æ˜¾ç„¶ä¼šé™ä½å¼€å‘æ•ˆç‡ã€‚ä¸è¿‡å¯ä»¥ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶çš„ä¸åŒç‰ˆæœ¬æ–‡ä»¶æ¯”å¯¹åŠŸèƒ½ï¼Œæ¥æ¯”å¯¹ä¿®æ”¹çš„å†…å®¹ï¼Œå¹¶å¯¹æ¯ä¸ªå¼€å‘è€…çš„ä¿®æ”¹è¿›è¡Œåˆå¹¶ï¼Œä½†è¿™éš¾å…é‡åˆ°å†²çªé—®é¢˜ã€‚</li><li>å•ç‚¹æ•…éšœé—®é¢˜ï¼šå¦‚æœä¸­å¤®æœåŠ¡å™¨å¯„äº†ï¼Œæˆ–è€…ç½‘ç»œä¸é€šäº†ï¼Œè¿™æ ·å¯¹æ–‡ä»¶çš„ä¸‹è½½å’Œä¸Šä¼ å°±æ— æ³•è¿›è¡Œï¼å¼€å‘æµç¨‹å°±ä¼šè¢«å¡ä½ï¼Œè¿™å¾ˆå½±å“å¼€å‘æ•ˆç‡ï¼Œå¹¶ä¸”æ­¤æ—¶è¿˜æœ‰æ–‡ä»¶ä¸¢å¤±æ— æ³•æ‰¾å›çš„é£é™©ï¼</li></ol><p>ä¸ºäº†è§£å†³å•ç‚¹å†²çªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ã€‚</p><h3 id="åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶"><a href="#åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶"></a>åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶</h3><p>å¦‚æœæ¯ä¸ªå¼€å‘è€…åœ¨æœ¬åœ°éƒ½å°†ä¸­å¤®æœåŠ¡å™¨çš„èµ„æºä¸‹è½½äº†ä¸€ä»½ï¼Œè¿™æ ·ï¼Œå½“ä¸­å¤®æœåŠ¡å™¨å¯„äº†ï¼Œæˆ–è€…ç½‘ç»œä¸é€šäº†ï¼Œå¼€å‘è€…ç…§æ ·å¯ä»¥é€šè¿‡æœ¬åœ°çš„èµ„æºè¿›è¡Œæ–‡ä»¶çš„ä¸‹è½½å’Œä¸Šä¼ ã€‚å½“ä¸­å¤®æœåŠ¡å™¨å’Œç½‘ç»œæ¢å¤åï¼Œå†å°†å¯¹æœ¬åœ°èµ„æºåº“çš„ä¿®æ”¹ä¸Šä¼ åˆ°ä¸­å¤®æœåŠ¡å™¨å³å¯ã€‚</p><p><img src="https://flowertea.site/img/%E5%88%86%E5%B8%83%E5%BC%8F%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6.png?raw=true" alt="åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶"></p><h2 id="å®‰è£…Git"><a href="#å®‰è£…Git" class="headerlink" title="å®‰è£…Git"></a>å®‰è£…Git</h2><p>æƒ³è¦å®‰è£…Gitï¼Œå¯ä»¥è®¿é—®Gitå®˜æ–¹ç½‘ç«™ï¼š<a href="https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%AE%89%E8%A3%85-Git">Git - å®‰è£… Git (git-scm.com)</a></p><p>è¿™ä¸ªç½‘ç«™ä¸­ä¹Ÿå¯¹Gitæœ‰å……åˆ†çš„ä»‹ç»ï¼Œå¯ä»¥ä½œä¸ºæœ¬æ•™ç¨‹çš„è¿›é˜¶ä½¿ç”¨ã€‚</p><p>åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å®‰è£…Github Desktopï¼š<a href="https://github.com/apps/desktop">GitHub Desktop | Simple collaboration from your desktop</a></p><p><img src="https://flowertea.site/img/%E5%AE%89%E8%A3%85GithubDesktop.png?raw=true" alt="å®‰è£…GithubDesktop"></p><p>å…³äºGithub Desktopçš„ä½¿ç”¨ï¼Œåœ¨è¿™é‡Œä¸å¤šèµ˜è¿°ï¼Œä½œä¸ºä¸€ä¸ªGitçš„å›¾å½¢åŒ–ç•Œé¢ï¼ŒGithub Desktopçš„ä½¿ç”¨æ˜¯è¾ƒä¸ºç®€å•çš„ï¼Œå¾ˆå¿«å°±èƒ½ä¸Šæ‰‹ã€‚</p><h2 id="GitåŸºç¡€æ“ä½œ"><a href="#GitåŸºç¡€æ“ä½œ" class="headerlink" title="GitåŸºç¡€æ“ä½œ"></a>GitåŸºç¡€æ“ä½œ</h2><p>æˆ‘ä»¬å¯ä»¥ç”¨Gitæ¥<strong>åˆ›å»ºä»“åº“</strong>ã€‚å½“æˆ‘ä»¬åˆ›å»ºå¥½ä¸€ä¸ªä»“åº“ï¼Œä¼šå‘ç°æŒ‡å®šçš„æ–‡ä»¶å¤¹ï¼ˆå·¥ä½œåŒºï¼‰ä¸­æœ‰ä¸€ä¸ª.gitæ–‡ä»¶å¤¹ï¼ˆå¯èƒ½ä¼šè¢«éšè—ï¼‰ï¼Œè¿™é‡Œçš„.gitæ–‡ä»¶å¤¹å°±ç›¸å½“äºå½“å‰çš„æœ¬åœ°ä»“åº“ï¼Œè€Œæˆ‘ä»¬åœ¨å·¥ä½œåŒºä¸­è¿›è¡Œæ–‡ä»¶æ“ä½œï¼Œä¼šé€šè¿‡ä¸.gitæ–‡ä»¶å¤¹è¿›è¡Œæ¯”å¯¹ï¼Œä»è€Œå®ç°ä¸åŒç‰ˆæœ¬æ–‡ä»¶çš„æ¯”å¯¹åŠŸèƒ½ã€‚</p><p>å‡å¦‚æˆ‘ä»¬åœ¨å·¥ä½œåŒºæ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªa.txtæ–‡ä»¶ï¼Œæˆ‘ä»¬çš„æœ¬åœ°ä»“åº“å…¶å®æ˜¯æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶çš„ï¼Œæƒ³è¦è®©æœ¬åœ°ä»“åº“æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œå°±éœ€è¦<strong>æäº¤ï¼ˆcommitï¼‰</strong>æ¥æŠŠæ–‡ä»¶ä¸Šä¼ åˆ°æœ¬åœ°ä»“åº“ã€‚</p><p>æœ¬åœ°ä»“åº“ä¸­ä¼šè®°å½•ä¸åŒç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œæ¯ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶éƒ½ä¼šæœ‰å¯¹åº”çš„ç‰ˆæœ¬å·ï¼Œå½“æˆ‘ä»¬commitä¹‹åï¼Œæˆ‘ä»¬çœ‹åˆ°çš„æ–‡ä»¶å°±æ˜¯æœ¬åœ°ä»“åº“ä¸­æœ€æ–°ç‰ˆæœ¬çš„æ–‡ä»¶ã€‚è¦åŒºåˆ†ä¸åŒæ–‡ä»¶ç‰ˆæœ¬ï¼Œå°±éœ€è¦<strong>ç‰ˆæœ¬å·</strong>ï¼Œç‰ˆæœ¬å·æ˜¯ç”±40ä¸ª16è¿›åˆ¶çš„æ•°å­—ï¼ˆ0åˆ°fï¼‰ç»„æˆçš„ï¼Œå› ä¸ºäº§ç”Ÿäºæäº¤æ—¶ï¼Œæ‰€ä»¥åˆå«æäº¤ç ã€‚ç‰ˆæœ¬å·ä¸ä»…å¯ä»¥æŒ‡æ˜æ–‡ä»¶çš„ç‰ˆæœ¬ï¼Œè¿˜å¯ä»¥ç”¨æ¥æŸ¥è¯¢æäº¤ä¿¡æ¯ã€å®šä½æ–‡ä»¶åœ¨ä»“åº“ä¸­çš„ä½ç½®ã€‚</p><p>å‡è®¾ç°åœ¨æœ‰å¤šä¸ªå¼€å‘è€…æ¥å…±åŒå¼€å‘ä¸€ä¸ªè½¯ä»¶ï¼Œä½†æ˜¯ä»–ä»¬å¼€å‘çš„æ˜¯ä¸åŒçš„æ¨¡å—ã€‚ç”±äºå¼€å‘è¿‡ç¨‹ä¸­éœ€è¦å¤šæ¬¡æäº¤ï¼Œè€Œæ¯ä¸ªäººçš„æäº¤é¡ºåºåˆæ˜¯ä¸å›ºå®šçš„ï¼Œæ‰€ä»¥è¿™æ—¶æˆ‘ä»¬çš„æäº¤å°±æ²¡æœ‰ä»€ä¹ˆè§„å¾‹å¯è¨€ï¼Œå½“æˆ‘ä»¬æƒ³è¦å®šä½åˆ°æŸä¸€æ¬¡æäº¤çš„å…·ä½“å†…å®¹ï¼Œå°±å¾ˆéš¾æ‰¾åˆ°äº†ï¼Œå¦å¤–ï¼Œå¤šä¸ªå¼€å‘è€…å¯èƒ½ä¼šä¿®æ”¹åŒä¸€ä»½æ–‡ä»¶ï¼Œè¿™å°±ä¼šå¯¼è‡´æ–‡ä»¶çš„å†²çªï¼Œä»è€Œå¸¦æ¥é£é™©ã€‚åŒæ—¶ï¼Œé¢‘ç¹çš„æäº¤è¿˜ä¼šå¯¼è‡´ä»“åº“è¶Šæ¥è¶Šå¤§ï¼Œè¿™æ ·å°±ä¼šé™ä½ä¸åŒç‰ˆæœ¬æ–‡ä»¶æ¯”å¯¹çš„æ•ˆç‡ã€‚</p><p><img src="https://flowertea.site/img/%E5%88%86%E6%94%AF%E5%89%8D.png?raw=true" alt="åˆ†æ”¯å‰"></p><p>è¦è§£å†³ä»¥ä¸Šçš„ä¸‰ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©Gitçš„<strong>åˆ†æ”¯ï¼ˆbranchï¼‰</strong>åŠŸèƒ½ã€‚æ¯ä¸ªåˆ†æ”¯éƒ½æ˜¯å½“å‰ç‰ˆæœ¬åº“çš„å‰¯æœ¬ï¼Œæ¯ä¸ªå¼€å‘è€…éƒ½åœ¨è¿™ä¸ªå‰¯æœ¬ä¸Šè¿›è¡Œæ“ä½œï¼Œæœ€åå†æŠŠä¸åŒçš„å‰¯æœ¬è¿›è¡Œ<strong>åˆå¹¶ï¼ˆmergeï¼‰</strong>å³å¯ã€‚å½“æˆ‘ä»¬åœ¨useråˆ†æ”¯åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤æ–‡ä»¶å¹¶commitåï¼Œorderåˆ†æ”¯çš„ä»“åº“æ˜¯çœ‹ä¸åˆ°çš„ï¼Œæƒ³è¦è®©orderçš„åº“ä¸­ä¹Ÿæœ‰æ“ä½œè¿‡çš„æ–‡ä»¶ï¼Œå°±éœ€è¦è¿›è¡Œåˆå¹¶ã€‚</p><p><img src="https://flowertea.site/img/%E5%88%86%E6%94%AF%E5%90%8E.png?raw=true" alt="åˆ†æ”¯å"></p><p>å½“æˆ‘ä»¬å¯¹åŒä¸€ä»½æ–‡ä»¶è¿›è¡Œåˆå¹¶ï¼Œå…¶å†…å®¹å¯èƒ½æ˜¯æœ‰å†²çªçš„ï¼Œè¿™ç§æ—¶å€™ï¼ŒGitä¼šç»™å‡ºåŒºåˆ«ï¼Œå¹¶è®©ä½ è‡ªå·±é€‰æ‹©æœ€ç»ˆå†…å®¹ä»è€Œè§£å†³å†²çªï¼Œç„¶åå°±å¯ä»¥ç»§ç»­åˆå¹¶äº†ã€‚</p><p>å¯ä»¥é€šè¿‡.gitæ–‡ä»¶å¤¹ä¸­çš„HEADï¼ŒæŸ¥çœ‹ä¿å­˜å½“å‰æœ€æ–°ç‰ˆæœ¬å·çš„æ–‡ä»¶çš„ä½ç½®ï¼ŒåŒæ—¶è¯¥æ–‡ä»¶åå³å½“å‰çš„åˆ†æ”¯åã€‚</p><p>åœ¨æäº¤æ—¶ï¼Œéœ€è¦å¼€å‘è€…ç»™å‡ºæäº¤çš„æè¿°ä¿¡æ¯ï¼Œè€Œåœ¨åˆå¹¶æ—¶ï¼Œä¼šGitè‡ªåŠ¨ç»™å‡ºæè¿°ä¿¡æ¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è‡ªå·±æ·»åŠ æè¿°ä¿¡æ¯ï¼Œåˆ™å¯ä»¥ä½¿ç”¨<strong>æ ‡ç­¾ï¼ˆtagï¼‰</strong>ã€‚</p><p>ä¸Šè¾¹çš„æ“ä½œæ˜¯é’ˆå¯¹æœ¬åœ°ä»“åº“çš„ï¼Œè€Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨è¿œç¨‹ä»“åº“ï¼Œæ¯•ç«ŸGitæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ï¼Œæ˜¯éœ€è¦æœ‰ä¸€ä¸ªä¸­å¤®æœåŠ¡å™¨æ¥ä¿å­˜èµ„æºçš„ã€‚å¯æ˜¯æˆ‘ä»¬è‡ªå·±æ­å»ºè¿œç¨‹ä»“åº“ï¼Œæˆæœ¬è¿˜æ˜¯è¾ƒå¤§çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€‰æ‹©ç¬¬ä¸‰æ–¹çš„ä»£ç æ‰˜ç®¡å¹³å°ï¼Œæ¯”å¦‚Githubã€Giteeç­‰ï¼Œå®ƒä»¬å¯ä»¥ä¸ºæˆ‘ä»¬æä¾›è¿œç¨‹ä»“åº“æœåŠ¡ã€‚å½“æˆ‘ä»¬åˆ›å»ºå¥½è¿œç¨‹ä»“åº“ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<strong>clone</strong>æ“ä½œæ¥è·å–è¿œç¨‹ä»“åº“çš„å†…å®¹ã€‚å½“æˆ‘ä»¬commitåï¼Œæˆ‘ä»¬ä¿®æ”¹åçš„æ–‡ä»¶å°±ä¼šåˆ°è¾¾æœ¬åœ°ä»“åº“ï¼Œä½†è¿˜æ²¡æœ‰åˆ°è¾¾è¿œç¨‹ä»“åº“ï¼Œæƒ³è¦ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“éœ€è¦è¿›è¡Œ<strong>push</strong>æ“ä½œï¼Œæ¥æŠŠæœ¬åœ°åº“çš„å†…å®¹æ¨åˆ°è¿œç¨‹åº“ã€‚</p><p><strong>READMEæ–‡ä»¶</strong>å¯ä»¥ä½œä¸ºä»“åº“èµ„æºä¿¡æ¯çš„ä»‹ç»ï¼Œå› æ­¤åœ¨æˆ‘ä»¬å¯¹é¡¹ç›®è¿›è¡Œä¿®æ”¹çš„è¿‡ç¨‹ä¸­ï¼ŒREADMEæ–‡ä»¶ä¹Ÿè¦è¿›è¡Œå¯¹åº”çš„ä¿®æ”¹ã€‚</p><p>å¯ä»¥ä½¿ç”¨**.gitignoreæ–‡ä»¶**æ¥è®©Gitå¿½ç•¥æ‰æŒ‡å®šæ–‡ä»¶çš„ä¿®æ”¹ã€‚</p><h2 id="Gitå¸¸ç”¨æŒ‡ä»¤"><a href="#Gitå¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="Gitå¸¸ç”¨æŒ‡ä»¤"></a>Gitå¸¸ç”¨æŒ‡ä»¤</h2><p>Gitæœ‰å¾ˆå¤šå¸¸ç”¨çš„æŒ‡ä»¤ï¼Œä¸‹å›¾æ˜¯ä¸€å¼ å¯¹Gitå¸¸ç”¨æŒ‡ä»¤çš„æ¦‚æ‹¬å›¾ã€‚</p><p><img src="https://flowertea.site/img/%E5%B8%B8%E8%A7%81%E6%8C%87%E4%BB%A4.png?raw=true" alt="å¸¸è§æŒ‡ä»¤"></p><h3 id="Gité…ç½®"><a href="#Gité…ç½®" class="headerlink" title="Gité…ç½®"></a>Gité…ç½®</h3><h4 id="æŸ¥çœ‹Gitç‰ˆæœ¬"><a href="#æŸ¥çœ‹Gitç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹Gitç‰ˆæœ¬"></a>æŸ¥çœ‹Gitç‰ˆæœ¬</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git -v<br></code></pre></td></tr></table></figure><h4 id="é…ç½®Gitçš„ç”¨æˆ·åç§°å’Œé‚®ç®±"><a href="#é…ç½®Gitçš„ç”¨æˆ·åç§°å’Œé‚®ç®±" class="headerlink" title="é…ç½®Gitçš„ç”¨æˆ·åç§°å’Œé‚®ç®±"></a>é…ç½®Gitçš„ç”¨æˆ·åç§°å’Œé‚®ç®±</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config user.name &lt;ç”¨æˆ·åç§°&gt;<br>git config user.email &lt;ç”¨æˆ·é‚®ç®±&gt;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ä¿®æ”¹.gitæ–‡ä»¶å¤¹é‡Œçš„configæ–‡ä»¶æ¥å®Œæˆä¿®æ”¹é…ç½®ã€‚å¹¶ä¸”å¯ä»¥åœ¨å‘½ä»¤ä¸­æ·»åŠ  <code>  --global</code>æ¥è¿›è¡Œå…¨å±€æ“ä½œï¼Œç„¶åä¼šå‘ç°æˆ‘ä»¬çš„ç”¨æˆ·ç›®å½•ä¸‹ä¼šæœ‰ä¸€ä¸ª.gitconfigæ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶æ¥å®Œæˆå…¨å±€é…ç½®ã€‚åœ¨Github Desktopä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨å›¾å½¢åŒ–ç•Œé¢è®¾ç½®å½“å‰æ“ä½œçš„ç”¨æˆ·åç§°å’Œç”¨æˆ·é‚®ç®±ã€‚</p><h3 id="ä»“åº“æŒ‡ä»¤"><a href="#ä»“åº“æŒ‡ä»¤" class="headerlink" title="ä»“åº“æŒ‡ä»¤"></a>ä»“åº“æŒ‡ä»¤</h3><h4 id="åˆå§‹åŒ–æœ¬åœ°ä»“åº“"><a href="#åˆå§‹åŒ–æœ¬åœ°ä»“åº“" class="headerlink" title="åˆå§‹åŒ–æœ¬åœ°ä»“åº“"></a>åˆå§‹åŒ–æœ¬åœ°ä»“åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git init<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œè¿™ä¸ªæŒ‡ä»¤åï¼Œæ–‡ä»¶å¤¹ä¸­å°±ä¼šæœ‰.gitæ–‡ä»¶å¤¹ã€‚</p><p>ç”¨Github Desktopå’Œç”¨å‘½ä»¤ç›´æ¥åˆ›å»ºçš„ä»“åº“æœ‰ä¸€äº›åŒºåˆ«ï¼Œæ¯”å¦‚ç”¨Github Desktopåˆ›å»ºçš„ä»“åº“ä¸­ï¼Œåˆå§‹ä¼šæœ‰.gitattributesæ–‡ä»¶ã€‚å¹¶ä¸”ç”¨å‘½ä»¤è¡Œåˆ›å»ºä»“åº“åœ¨åˆå§‹åŒ–å®Œæˆè€Œæ²¡æœ‰å…¶ä»–æ“ä½œçš„æ—¶å€™ï¼ŒHEADæ–‡ä»¶ä¼šè¡¨æ˜å½“å‰åœ¨masteråˆ†æ”¯ï¼Œä¸”æˆ‘ä»¬å»HEADæ–‡ä»¶ä¸­ç»™å‡ºçš„è·¯å¾„å»å¯»æ‰¾ç‰ˆæœ¬å·ï¼Œä¼šå‘ç°æ²¡æœ‰æ­¤æ–‡ä»¶ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰è¿›è¡Œè¿‡æäº¤ã€‚è€Œç”¨Github Desktopåˆ›å»ºçš„ä»“åº“ä¸­ï¼Œä¸€å¼€å§‹ä¾¿ä¼šæœ‰ä¸€æ¬¡æäº¤ï¼ˆæäº¤äº†.gitattributesæ–‡ä»¶ï¼‰ï¼Œæ‰€ä»¥ä¸€å¼€å§‹å°±æœ‰ç‰ˆæœ¬å·ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥è‡ªå·±åœ¨å®¢æˆ·ç«¯ä¸­é€‰æ‹©åˆ†æ”¯åï¼ˆmasterã€mainæˆ–è€…å…¶ä»–ï¼‰ã€‚</p><h4 id="å…‹éš†è¿œç¨‹ä»“åº“"><a href="#å…‹éš†è¿œç¨‹ä»“åº“" class="headerlink" title="å…‹éš†è¿œç¨‹ä»“åº“"></a>å…‹éš†è¿œç¨‹ä»“åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> &lt;è¿œç¨‹ä»“åº“è·¯å¾„&gt; &lt;æœ¬åœ°åç§°&gt;<br></code></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬å…‹éš†è¿œç¨‹ä»“åº“ä¹‹åï¼Œæˆ‘ä»¬æœ¬åœ°ä¼šæœ‰è¿œç¨‹ä»“åº“çš„æ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä¹‹å‰çš„æäº¤è®°å½•ç­‰ã€‚</p><h3 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h3><h4 id="æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº"><a href="#æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº" class="headerlink" title="æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº"></a>æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add &lt;file&gt;        <span class="hljs-comment"># æ·»åŠ æŒ‡å®šæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Œæ¯”å¦‚git add *.txtå°±æ˜¯æ·»åŠ æ‰€æœ‰ä»¥.txtç»“å°¾çš„æ–‡ä»¶</span><br>git add .             <span class="hljs-comment"># æ·»åŠ æ‰€æœ‰ä¿®æ”¹</span><br>git add &lt;directory&gt;/  <span class="hljs-comment"># æ·»åŠ æŸä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰ä¿®æ”¹</span><br>git add -p   <span class="hljs-comment"># äº¤äº’æ¨¡å¼ï¼ˆé€ä¸ªé€‰æ‹©ä¿®æ”¹ç‰‡æ®µï¼‰</span><br></code></pre></td></tr></table></figure><ul><li><code>-u</code> æˆ– <code>--update</code>ï¼šä»…æ·»åŠ å·²è·Ÿè¸ªï¼ˆå·²çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼‰çš„æ–‡ä»¶çš„ä¿®æ”¹ï¼ˆä¸åŒ…å«æ–°å¢æ–‡ä»¶ï¼‰</li><li><code>-A</code> æˆ– <code>--all</code>ï¼šæ·»åŠ æ‰€æœ‰ä¿®æ”¹ï¼ˆåŒ…æ‹¬æœªè·Ÿè¸ªçš„æ–°æ–‡ä»¶ï¼‰</li><li><code>-i</code> æˆ– <code>--interactive</code>ï¼šè¿›å…¥äº¤äº’å¼æš‚å­˜æ¨¡å¼ï¼ˆç»†åˆ†ä¿®æ”¹å—ï¼‰</li></ul><h4 id="ä»ç‰ˆæœ¬æ§åˆ¶ä¸­ç§»é™¤æ–‡ä»¶"><a href="#ä»ç‰ˆæœ¬æ§åˆ¶ä¸­ç§»é™¤æ–‡ä»¶" class="headerlink" title="ä»ç‰ˆæœ¬æ§åˆ¶ä¸­ç§»é™¤æ–‡ä»¶"></a>ä»ç‰ˆæœ¬æ§åˆ¶ä¸­ç§»é™¤æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">rm</span> &lt;file&gt;  <span class="hljs-comment"># åˆ é™¤æ–‡ä»¶ï¼ˆåŒæ—¶ä»å·¥ä½œåŒºå’Œæš‚å­˜åŒºç§»é™¤ï¼‰</span><br>git <span class="hljs-built_in">rm</span> --cached &lt;file&gt;  <span class="hljs-comment"># ä»…ä»æš‚å­˜åŒºåˆ é™¤ï¼Œä¿ç•™å·¥ä½œåŒºæ–‡ä»¶ï¼ˆæ–‡ä»¶å˜ä¸ºæœªè·Ÿè¸ªçŠ¶æ€ï¼‰</span><br></code></pre></td></tr></table></figure><p>å¦‚æœæ–‡ä»¶å·²è¢«ä¿®æ”¹ä½†æœªæäº¤ï¼Œç›´æ¥ä½¿ç”¨ <code>git rm</code> ä¼šå¤±è´¥ï¼ˆéœ€å…ˆæäº¤æˆ–å¼ºåˆ¶åˆ é™¤ï¼‰ã€‚è‹¥æ–‡ä»¶å·²æ‰‹åŠ¨åˆ é™¤ï¼Œç›´æ¥è¿è¡Œ <code>git add &lt;file&gt;</code> æˆ– <code>git rm &lt;file&gt;</code> æ•ˆæœç›¸åŒã€‚</p><h4 id="æäº¤åˆ°æœ¬åœ°ä»“åº“"><a href="#æäº¤åˆ°æœ¬åœ°ä»“åº“" class="headerlink" title="æäº¤åˆ°æœ¬åœ°ä»“åº“"></a>æäº¤åˆ°æœ¬åœ°ä»“åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git commit -m <span class="hljs-string">&quot;æäº¤è¯´æ˜&quot;</span><br>git commit  <span class="hljs-comment"># è‡ªåŠ¨æ‰“å¼€ç¼–è¾‘å™¨ç¼–å†™æäº¤ä¿¡æ¯ï¼ˆæ”¯æŒå¤šè¡Œè¯´æ˜ï¼‰</span><br></code></pre></td></tr></table></figure><ul><li><code>-a</code> æˆ– <code>--all</code>ï¼šè‡ªåŠ¨æš‚å­˜æ‰€æœ‰å·²è·Ÿè¸ªæ–‡ä»¶çš„ä¿®æ”¹ï¼ˆè·³è¿‡ <code>git add</code>ï¼‰ã€‚</li><li><code>--amend</code>ï¼šä¿®æ­£ä¸Šä¸€æ¬¡æäº¤ï¼ˆä¿®æ”¹æäº¤ä¿¡æ¯æˆ–è¿½åŠ æ–‡ä»¶ï¼‰ã€‚</li><li><code>--no-edit</code>ï¼šä¸ <code>--amend</code> é…åˆä½¿ç”¨ï¼Œä¿ç•™åŸæäº¤ä¿¡æ¯ã€‚</li></ul><h4 id="æ¢å¤è¯¯åˆ é™¤çš„æ–‡ä»¶"><a href="#æ¢å¤è¯¯åˆ é™¤çš„æ–‡ä»¶" class="headerlink" title="æ¢å¤è¯¯åˆ é™¤çš„æ–‡ä»¶"></a>æ¢å¤è¯¯åˆ é™¤çš„æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git restore &lt;file&gt;<br></code></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ä¸å°å¿ƒåˆ é™¤äº†æŸä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä»æœ€æ–°æäº¤ä¸­æ¢å¤å®ƒã€‚ä½†å¦‚æœæœ€æ–°æäº¤ä¸­æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å°±æ— æ³•æ¢å¤å®ƒã€‚ä½†æ˜¯æˆ‘ä»¬è¿‡å»æäº¤è¿‡è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡resetæ¥æŠŠç‰ˆæœ¬åº“é‡ç½®åˆ°æœ‰è¿™ä¸ªæ–‡ä»¶çš„é‚£ä¸€æ¬¡æäº¤ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git reset &lt;ç›®æ ‡æäº¤ç‰ˆæœ¬å·å‰ä¸ƒä½&gt;<br></code></pre></td></tr></table></figure><ul><li><code>--soft</code> ï¼šHEADæŒ‡é’ˆå›é€€åˆ°ç›®æ ‡æäº¤ï¼Œå¹¶ä¸”æš‚å­˜åŒºå’Œå·¥ä½œåŒºä¿ç•™ä¿®æ”¹ï¼Œä¿®æ”¹å¤„äºå·²æš‚å­˜çŠ¶æ€ã€‚</li><li><code>--mixed</code>ï¼šHEADæŒ‡é’ˆå›é€€åˆ°ç›®æ ‡æäº¤ï¼Œæš‚å­˜åŒºè¢«é‡ç½®ï¼Œå·¥ä½œåŒºä¿ç•™ä¿®æ”¹ï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦é‡æ–°addï¼Œè¿™ä¹Ÿæ˜¯é»˜è®¤çš„resetæ¨¡å¼ã€‚</li><li><code>--hard </code>ï¼šHEADæŒ‡é’ˆå›é€€åˆ°ç›®æ ‡æäº¤ï¼Œä½†æ˜¯æš‚å­˜åŒºå’Œå·¥ä½œåŒºå®Œå…¨é‡ç½®ï¼Œä¼šä¸¢å¼ƒæ‰€æœ‰ä¿®æ”¹ï¼Œéœ€è¦æ…ç”¨ï¼</li></ul><p>å¦‚æœæˆ‘ä»¬ä¸æƒ³å¤±å»ä¹‹å‰çš„æäº¤è®°å½•ï¼Œé‚£ä¹ˆå°±ä¸åº”è¯¥ç”¨resetï¼Œè€Œæ˜¯ç”¨revertã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git revert &lt;ç›®æ ‡æäº¤ç‰ˆæœ¬å·å‰ä¸ƒä½&gt; <br></code></pre></td></tr></table></figure><p>è¿™ä¹ˆåšä¼šå›é€€åˆ°ç›®æ ‡ç‰ˆæœ¬å·ä¹‹å‰çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¹¶ä¸”å¾€æäº¤å†å²ä¸­æ–°å¢ä¸€æ¡revertçš„è®°å½•ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¸¢æ‰ä¹‹å‰çš„è®°å½•ã€‚</p><h4 id="æŸ¥çœ‹çŠ¶æ€"><a href="#æŸ¥çœ‹çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹çŠ¶æ€"></a>æŸ¥çœ‹çŠ¶æ€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git status<br></code></pre></td></tr></table></figure><ul><li>Changes to be committedï¼šå·²æš‚å­˜ä½†æœªæäº¤çš„æ–‡ä»¶ï¼ˆç»¿è‰²ï¼‰ã€‚</li><li>Changes not staged for commitï¼šå·²ä¿®æ”¹ä½†æœªæš‚å­˜çš„æ–‡ä»¶ï¼ˆçº¢è‰²ï¼‰ã€‚</li><li>Untracked filesï¼šæœªè¢« Git è·Ÿè¸ªçš„æ–°æ–‡ä»¶ï¼ˆçº¢è‰²ï¼‰ã€‚</li></ul><h4 id="æŸ¥çœ‹æ–‡ä»¶å·®å¼‚"><a href="#æŸ¥çœ‹æ–‡ä»¶å·®å¼‚" class="headerlink" title="æŸ¥çœ‹æ–‡ä»¶å·®å¼‚"></a>æŸ¥çœ‹æ–‡ä»¶å·®å¼‚</h4><table><thead><tr><th><strong>åœºæ™¯</strong></th><th><strong>å‘½ä»¤</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>å·¥ä½œåŒº vs æš‚å­˜åŒº</td><td><code>git diff</code></td><td>é»˜è®¤è¡Œä¸ºï¼ŒæŸ¥çœ‹æœªæš‚å­˜çš„ä¿®æ”¹ï¼ˆå·¥ä½œåŒºä¸æš‚å­˜åŒºçš„å·®å¼‚ï¼‰</td></tr><tr><td>æš‚å­˜åŒº vs æœ€æ–°æäº¤</td><td><code>git diff --staged</code>ï¼ˆæˆ– <code>--cached</code>ï¼‰</td><td>æŸ¥çœ‹å·²æš‚å­˜ä½†æœªæäº¤çš„ä¿®æ”¹</td></tr><tr><td>æ¯”è¾ƒä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚</td><td><code>git diff &lt;commit1&gt; &lt;commit2&gt;</code></td><td>å¯¹æ¯”ä¸¤ä¸ªæäº¤çš„å·®å¼‚</td></tr><tr><td>æ¯”è¾ƒä¸åŒåˆ†æ”¯çš„å·®å¼‚</td><td><code>git diff &lt;branch1&gt;..&lt;branch2&gt;</code></td><td>æ˜¾ç¤ºä¸¤ä¸ªåˆ†æ”¯æœ€æ–°æäº¤çš„å·®å¼‚</td></tr><tr><td>æŸ¥çœ‹æŸæ¬¡æäº¤çš„ä¿®æ”¹å†…å®¹</td><td><code>git diff &lt;commit&gt;^!</code></td><td><code>^!</code> è¡¨ç¤ºå¯¹æ¯”è¯¥æäº¤ä¸å…¶çˆ¶æäº¤çš„å·®å¼‚</td></tr></tbody></table><table><thead><tr><th><strong>é€‰é¡¹</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><code>--color-words</code></td><td>é«˜äº®æ˜¾ç¤ºå•è¯çº§å·®å¼‚ï¼ˆè€Œéè¡Œçº§ï¼‰</td></tr><tr><td><code>--stat</code></td><td>ä»…æ˜¾ç¤ºä¿®æ”¹ç»Ÿè®¡ï¼ˆæ–‡ä»¶åˆ—è¡¨å’Œå¢åˆ è¡Œæ•°ï¼‰</td></tr><tr><td><code>-w</code></td><td>å¿½ç•¥ç©ºæ ¼å˜åŒ–ï¼ˆé€‚åˆæ ¼å¼åŒ–è°ƒæ•´çš„åœºæ™¯ï¼‰</td></tr><tr><td><code>-- &lt;file&gt;</code></td><td>ä»…æ¯”è¾ƒæŒ‡å®šæ–‡ä»¶ï¼ˆå¦‚ <code>git diff HEAD -- README.md</code>ï¼‰</td></tr></tbody></table><h3 id="åˆ†æ”¯æ“ä½œ"><a href="#åˆ†æ”¯æ“ä½œ" class="headerlink" title="åˆ†æ”¯æ“ä½œ"></a>åˆ†æ”¯æ“ä½œ</h3><h4 id="åˆ›å»ºåˆ†æ”¯"><a href="#åˆ›å»ºåˆ†æ”¯" class="headerlink" title="åˆ›å»ºåˆ†æ”¯"></a>åˆ›å»ºåˆ†æ”¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git branch &lt;åˆ†æ”¯å&gt;<br></code></pre></td></tr></table></figure><p>ä½ å¯ä»¥é€šè¿‡è¿™ä¸ªå‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†æ˜¯åœ¨åˆ›å»ºåˆ†æ”¯å‰ï¼Œéœ€è¦æäº¤ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ ä¸å¯ä»¥åˆšinitå®Œï¼Œä»€ä¹ˆéƒ½æ²¡æäº¤ï¼Œå°±åˆ›å»ºåˆ†æ”¯ï¼ˆåˆ†æ”¯æ˜¯åŸºäºæäº¤çš„ï¼‰ã€‚</p><h4 id="æŸ¥çœ‹åˆ†æ”¯"><a href="#æŸ¥çœ‹åˆ†æ”¯" class="headerlink" title="æŸ¥çœ‹åˆ†æ”¯"></a>æŸ¥çœ‹åˆ†æ”¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git branch <span class="hljs-comment"># æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯ä¼šä»¥ * æ ‡è®°</span><br></code></pre></td></tr></table></figure><ul><li><code>-a</code>ï¼šæŸ¥çœ‹åŒ…æ‹¬è¿œç¨‹åˆ†æ”¯åœ¨å†…çš„æ‰€æœ‰åˆ†æ”¯</li><li><code>-v</code>ï¼šæŸ¥çœ‹å„ä¸ªåˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤ä¿¡æ¯</li></ul><h4 id="åˆ‡æ¢åˆ†æ”¯"><a href="#åˆ‡æ¢åˆ†æ”¯" class="headerlink" title="åˆ‡æ¢åˆ†æ”¯"></a>åˆ‡æ¢åˆ†æ”¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git checkout &lt;åˆ†æ”¯å&gt;<span class="hljs-comment"># åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯</span><br>git checkout -b &lt;åˆ†æ”¯å&gt; <span class="hljs-comment"># åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯</span><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨switchï¼ŒGit 2.23+çš„ç‰ˆæœ¬å¯ç”¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git switch &lt;åˆ†æ”¯å&gt;<span class="hljs-comment"># åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯</span><br>git switch -c &lt;åˆ†æ”¯å&gt; <span class="hljs-comment"># åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯</span><br></code></pre></td></tr></table></figure><h4 id="åˆ é™¤åˆ†æ”¯"><a href="#åˆ é™¤åˆ†æ”¯" class="headerlink" title="åˆ é™¤åˆ†æ”¯"></a>åˆ é™¤åˆ†æ”¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git branch -d &lt;åˆ†æ”¯å&gt;<span class="hljs-comment"># åˆ é™¤æœ¬åœ°åˆ†æ”¯</span><br>git branch -D &lt;åˆ†æ”¯å&gt; <span class="hljs-comment"># è‹¥åˆ†æ”¯æœªåˆå¹¶ï¼Œåˆ™éœ€è¦ç”¨-Dè¿›è¡Œå¼ºåˆ¶åˆ é™¤</span><br>git push origin --delete &lt;åˆ†æ”¯å&gt;<span class="hljs-comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span><br></code></pre></td></tr></table></figure><h4 id="é‡å‘½ååˆ†æ”¯"><a href="#é‡å‘½ååˆ†æ”¯" class="headerlink" title="é‡å‘½ååˆ†æ”¯"></a>é‡å‘½ååˆ†æ”¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git branch -m &lt;æ–°åˆ†æ”¯å&gt;<span class="hljs-comment"># é‡å‘½åå½“å‰åˆ†æ”¯</span><br>git branch -m &lt;æ—§åˆ†æ”¯å&gt; &lt;æ–°åˆ†æ”¯å&gt;<span class="hljs-comment"># é‡å‘½åæŒ‡å®šåˆ†æ”¯</span><br></code></pre></td></tr></table></figure><h4 id="åˆå¹¶åˆ†æ”¯"><a href="#åˆå¹¶åˆ†æ”¯" class="headerlink" title="åˆå¹¶åˆ†æ”¯"></a>åˆå¹¶åˆ†æ”¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git merge &lt;åˆ†æ”¯å&gt;<span class="hljs-comment"># æŠŠæŒ‡å®šåˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯</span><br></code></pre></td></tr></table></figure><p>å½“åˆå¹¶åˆ†æ”¯å‘ç”Ÿå†²çªæ—¶ï¼Œåˆ†æ”¯ä¼šè¿›å…¥MERGINGï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è§£å†³å†²çªï¼Œç„¶åè¿›è¡Œæäº¤ï¼Œè¿™æ ·å°±å¯ä»¥å®Œæˆmergeã€‚</p><h3 id="æ ‡ç­¾æ“ä½œ"><a href="#æ ‡ç­¾æ“ä½œ" class="headerlink" title="æ ‡ç­¾æ“ä½œ"></a>æ ‡ç­¾æ“ä½œ</h3><p>ç›´æ¥æ“ä½œç‰ˆæœ¬å·ä¼šæœ‰ä¸€äº›ä¸æ–¹ä¾¿ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ ‡ç­¾tag</p><h4 id="æŸ¥çœ‹æ ‡ç­¾"><a href="#æŸ¥çœ‹æ ‡ç­¾" class="headerlink" title="æŸ¥çœ‹æ ‡ç­¾"></a>æŸ¥çœ‹æ ‡ç­¾</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git tag<span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾</span><br></code></pre></td></tr></table></figure><h4 id="è®¾ç½®æ ‡ç­¾"><a href="#è®¾ç½®æ ‡ç­¾" class="headerlink" title="è®¾ç½®æ ‡ç­¾"></a>è®¾ç½®æ ‡ç­¾</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git tag&lt;æ ‡ç­¾å†…å®¹&gt; &lt;ç‰ˆæœ¬å·&gt;<span class="hljs-comment"># ä¸ºæŒ‡å®šç‰ˆæœ¬å·è®¾ç½®æ ‡ç­¾</span><br></code></pre></td></tr></table></figure><p>ç”¨Github Desktopä¹Ÿå¯ä»¥è®¾ç½®æ ‡ç­¾</p><h3 id="æ—¥å¿—æ“ä½œ"><a href="#æ—¥å¿—æ“ä½œ" class="headerlink" title="æ—¥å¿—æ“ä½œ"></a>æ—¥å¿—æ“ä½œ</h3><table><thead><tr><th><strong>åœºæ™¯</strong></th><th><strong>å‘½ä»¤</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>æŸ¥çœ‹å®Œæ•´æäº¤æ—¥å¿—</td><td><code>git log</code></td><td>é»˜è®¤æŒ‰æ—¶é—´å€’åºæ˜¾ç¤ºæ‰€æœ‰æäº¤</td></tr><tr><td>ç®€æ´å•è¡Œæ˜¾ç¤º</td><td><code>git log --oneline</code></td><td>æ¯ä¸ªæäº¤æ˜¾ç¤ºä¸ºä¸€è¡Œ</td></tr><tr><td>å›¾å½¢åŒ–åˆ†æ”¯æ—¥å¿—</td><td><code>git log --graph --oneline</code></td><td>ç”¨ ASCII å›¾å½¢å±•ç¤ºåˆ†æ”¯åˆå¹¶æ—¥å¿—</td></tr><tr><td>æŒ‰æ—¶é—´è¿‡æ»¤æäº¤</td><td><code>git log --since=&quot;yyyy-mm-dd&quot; --until=&quot;yyyy-mm-dd&quot;</code></td><td>æ˜¾ç¤ºæŒ‡å®šæ—¶é—´èŒƒå›´å†…çš„æäº¤</td></tr><tr><td>æŒ‰ä½œè€…è¿‡æ»¤æäº¤</td><td><code>git log --author=&quot;ä½œè€…å&quot;</code></td><td>æ˜¾ç¤ºç‰¹å®šä½œè€…çš„æäº¤</td></tr><tr><td>æŒ‰å…³é”®è¯æœç´¢æäº¤ä¿¡æ¯</td><td><code>git log --grep=&quot;å…³é”®è¯&quot;</code></td><td>æŸ¥æ‰¾æäº¤ä¿¡æ¯ä¸­åŒ…å«å…³é”®è¯çš„æäº¤</td></tr><tr><td>æŸ¥çœ‹æŸæ–‡ä»¶çš„ä¿®æ”¹æ—¥å¿—</td><td><code>git log -- &lt;file&gt;</code></td><td>æ˜¾ç¤ºå½±å“æŒ‡å®šæ–‡ä»¶çš„æ‰€æœ‰æäº¤</td></tr><tr><td>ç”¨è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼æŸ¥çœ‹</td><td><code>git log --pretty=format:&quot;æ ¼å¼&quot;</code></td><td>æŒ‰ç…§è¾“å…¥çš„æ ¼å¼æŸ¥çœ‹æäº¤æ—¥å¿—</td></tr><tr><td>æŸ¥çœ‹æŸä¸€ç‰ˆæœ¬çš„æäº¤å†å²</td><td><code>git log &lt;ç‰ˆæœ¬å·&gt;</code></td><td>æŸ¥çœ‹æŒ‡å®šç‰ˆæœ¬å·åŠå…¶ä¹‹å‰çš„æäº¤</td></tr></tbody></table><h3 id="è¿œç¨‹ä»“åº“æŒ‡ä»¤"><a href="#è¿œç¨‹ä»“åº“æŒ‡ä»¤" class="headerlink" title="è¿œç¨‹ä»“åº“æŒ‡ä»¤"></a>è¿œç¨‹ä»“åº“æŒ‡ä»¤</h3><p>å½“æˆ‘ä»¬æŸ¥çœ‹configæ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°remoteçš„ä¿¡æ¯ï¼Œremoteå³è¾¹çš„å°±æ˜¯è¿œç¨‹ä»“åº“çš„åç§°ï¼Œå®ƒå¯ä»¥åœ¨æ“ä½œä¸­ä»£æ›¿ä¸‹æ–¹çš„urlã€‚</p><h4 id="æ·»åŠ è¿œç¨‹ä»“åº“"><a href="#æ·»åŠ è¿œç¨‹ä»“åº“" class="headerlink" title="æ·»åŠ è¿œç¨‹ä»“åº“"></a>æ·»åŠ è¿œç¨‹ä»“åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git remote add &lt;è¿œç¨‹ä»“åº“å&gt; &lt;è¿œç¨‹ä»“åº“è·¯å¾„ï¼ˆurlï¼‰&gt;<br></code></pre></td></tr></table></figure><h4 id="åˆ é™¤è¿œç¨‹ä»“åº“"><a href="#åˆ é™¤è¿œç¨‹ä»“åº“" class="headerlink" title="åˆ é™¤è¿œç¨‹ä»“åº“"></a>åˆ é™¤è¿œç¨‹ä»“åº“</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">git remote <span class="hljs-built_in">remove</span> &lt;è¿œç¨‹ä»“åº“å&gt;<br></code></pre></td></tr></table></figure><h4 id="é‡å‘½åè¿œç¨‹ä»“åº“"><a href="#é‡å‘½åè¿œç¨‹ä»“åº“" class="headerlink" title="é‡å‘½åè¿œç¨‹ä»“åº“"></a>é‡å‘½åè¿œç¨‹ä»“åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git remote rename &lt;æ—§å&gt; &lt;æ–°å&gt;<br></code></pre></td></tr></table></figure><h4 id="æŠŠæœ¬åœ°ä»“åº“çš„å†…å®¹æ¨é€åˆ°è¿œç¨‹ä»“åº“"><a href="#æŠŠæœ¬åœ°ä»“åº“çš„å†…å®¹æ¨é€åˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="æŠŠæœ¬åœ°ä»“åº“çš„å†…å®¹æ¨é€åˆ°è¿œç¨‹ä»“åº“"></a>æŠŠæœ¬åœ°ä»“åº“çš„å†…å®¹æ¨é€åˆ°è¿œç¨‹ä»“åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git push &lt;è¿œç¨‹ä»“åº“å&gt;<br></code></pre></td></tr></table></figure><h4 id="ä»è¿œç¨‹ä»“åº“æ‹‰å–æœ€æ–°ç‰ˆæœ¬"><a href="#ä»è¿œç¨‹ä»“åº“æ‹‰å–æœ€æ–°ç‰ˆæœ¬" class="headerlink" title="ä»è¿œç¨‹ä»“åº“æ‹‰å–æœ€æ–°ç‰ˆæœ¬"></a>ä»è¿œç¨‹ä»“åº“æ‹‰å–æœ€æ–°ç‰ˆæœ¬</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git pull &lt;è¿œç¨‹ä»“åº“å&gt;<br></code></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹Gitå¯¹è±¡ä¿¡æ¯"><a href="#æŸ¥çœ‹Gitå¯¹è±¡ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹Gitå¯¹è±¡ä¿¡æ¯"></a>æŸ¥çœ‹Gitå¯¹è±¡ä¿¡æ¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git cat-file &lt;ç±»å‹æˆ–é€‰é¡¹&gt; &lt;ç‰ˆæœ¬å·&gt;<br></code></pre></td></tr></table></figure><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-t</code></td><td>æŸ¥çœ‹å¯¹è±¡çš„ç±»å‹ï¼ˆå¦‚ <code>blob</code>ã€<code>tree</code>ã€<code>commit</code>ã€<code>tag</code>ï¼‰</td></tr><tr><td><code>-s</code></td><td>æŸ¥çœ‹å¯¹è±¡çš„å¤§å°ï¼ˆå­—èŠ‚æ•°ï¼‰</td></tr><tr><td><code>-p</code></td><td>ä»¥å‹å¥½æ ¼å¼æ‰“å°å¯¹è±¡å†…å®¹ï¼ˆæœ€å¸¸ç”¨ï¼‰</td></tr><tr><td><code>-e</code></td><td>ä»…æ£€æŸ¥å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼ˆé™é»˜æ¨¡å¼ï¼Œæ— è¾“å‡ºï¼‰</td></tr></tbody></table><p>å¯ä»¥é€šè¿‡æ­¤å‘½ä»¤æ¥æŸ¥çœ‹Gitå¯¹è±¡ä¿¡æ¯ï¼Œæ¯”å¦‚æäº¤ã€æ ‘ã€æ ‡ç­¾ã€æ–‡ä»¶å†…å®¹ç­‰ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‚ä¸é¡¹ç›®æ±‡æ€»</title>
    <link href="/2025/01/28/%E5%8F%82%E4%B8%8E%E9%A1%B9%E7%9B%AE%E6%B1%87%E6%80%BB/"/>
    <url>/2025/01/28/%E5%8F%82%E4%B8%8E%E9%A1%B9%E7%9B%AE%E6%B1%87%E6%80%BB/</url>
    
    <content type="html"><![CDATA[<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><h3 id="å°è¯•å¼€å‘ä¸€ä¸ªç®€å•çš„MCPé¡¹ç›®"><a href="#å°è¯•å¼€å‘ä¸€ä¸ªç®€å•çš„MCPé¡¹ç›®" class="headerlink" title="å°è¯•å¼€å‘ä¸€ä¸ªç®€å•çš„MCPé¡¹ç›®"></a>å°è¯•å¼€å‘ä¸€ä¸ªç®€å•çš„MCPé¡¹ç›®</h3><p>é¡¹ç›®ç®€ä»‹ï¼šå¤§ä¸‰ä¸‹å­¦æœŸæ¥è§¦mcpåï¼Œå¤„äºå¯¹mcpçš„å¥½å¥‡ï¼Œå†™äº†ä¸€ä¸ªæœ¬åœ°æ™ºèƒ½èˆ†æƒ…åˆ†æçš„ç³»ç»Ÿï¼Œç”¨æˆ·åªä¸å®¢æˆ·ç«¯å¯¹è¯ï¼Œå°±å¯ä»¥å®Œæˆæ–°é—»æ£€ç´¢ã€èˆ†æƒ…åˆ†æã€é‚®ä»¶å‘é€ã€æ–‡ä»¶ä¿å­˜ç­‰å¤šä¸ªåŠŸèƒ½ã€‚</p><p>é¡¹ç›®é“¾æ¥ï¼š<a href="https://github.com/JLQusername/make-a-simple-mcp-server">JLQusername&#x2F;make-a-simple-mcp-server: æœ¬é¡¹ç›®æ—¨åœ¨æ„å»ºä¸€ä¸ªæœ¬åœ°æ™ºèƒ½èˆ†æƒ…åˆ†æç³»ç»Ÿï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€å¤„ç†ä¸å¤šå·¥å…·å†™ä½œï¼Œå®ç°ç”¨æˆ·æŸ¥è¯¢æ„å›¾çš„è‡ªåŠ¨ç†è§£ã€æ–°é—»æ£€ç´¢ã€æƒ…ç»ªåˆ†æã€ç»“æ„åŒ–è¾“å‡ºä¸é‚®ä»¶æ¨é€ã€‚ (github.com)</a></p><h2 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h2><h3 id="ç¨‹åºè®¾è®¡èŒƒå¼è¯¾ç¨‹é¡¹ç›®"><a href="#ç¨‹åºè®¾è®¡èŒƒå¼è¯¾ç¨‹é¡¹ç›®" class="headerlink" title="ç¨‹åºè®¾è®¡èŒƒå¼è¯¾ç¨‹é¡¹ç›®"></a>ç¨‹åºè®¾è®¡èŒƒå¼è¯¾ç¨‹é¡¹ç›®</h3><p>é¡¹ç›®ç®€ä»‹ï¼šç¨‹åºè®¾è®¡èŒƒå¼çš„æœŸæœ«é¡¹ç›®ï¼Œç”¨C++å’ŒUE5è€Œåˆ¶ä½œçš„åŸåˆ›æ¸¸æˆMana-Towerï¼Œååˆ†æœ‰è¶£ã€‚</p><p>é¡¹ç›®é“¾æ¥ï¼š<a href="https://github.com/IcySugar000/Mana-Tower">IcySugar000&#x2F;Mana-Tower: Mana Tower, Mana Power! (github.com)</a></p><h2 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h2><h3 id="ä¸“ä¸šå®ä¹ ï¼ˆæ’ç”Ÿç”µå­è®­ç»ƒè¥ï¼‰è¯¾ç¨‹é¡¹ç›®"><a href="#ä¸“ä¸šå®ä¹ ï¼ˆæ’ç”Ÿç”µå­è®­ç»ƒè¥ï¼‰è¯¾ç¨‹é¡¹ç›®" class="headerlink" title="ä¸“ä¸šå®ä¹ ï¼ˆæ’ç”Ÿç”µå­è®­ç»ƒè¥ï¼‰è¯¾ç¨‹é¡¹ç›®"></a>ä¸“ä¸šå®ä¹ ï¼ˆæ’ç”Ÿç”µå­è®­ç»ƒè¥ï¼‰è¯¾ç¨‹é¡¹ç›®</h3><p>é¡¹ç›®ç®€ä»‹ï¼šæ’ç”Ÿç”µå­è®­ç»ƒè¥çš„é¡¹ç›®ï¼Œåç«¯ä½¿ç”¨Spring Bootå’ŒMybatisï¼Œä½†å¯æƒœå‰ç«¯æœªèƒ½å®Œæˆã€‚</p><p>é¡¹ç›®é“¾æ¥ï¼š<a href="https://gitee.com/AngelaGYY/tlfs">TLFS: TongLi Financial System (gitee.com)</a></p><h3 id="è½¯ä»¶å·¥ç¨‹è¯¾ç¨‹è®¾è®¡é¡¹ç›®"><a href="#è½¯ä»¶å·¥ç¨‹è¯¾ç¨‹è®¾è®¡é¡¹ç›®" class="headerlink" title="è½¯ä»¶å·¥ç¨‹è¯¾ç¨‹è®¾è®¡é¡¹ç›®"></a>è½¯ä»¶å·¥ç¨‹è¯¾ç¨‹è®¾è®¡é¡¹ç›®</h3><p>é¡¹ç›®ç®€ä»‹ï¼šè½¯ä»¶å·¥ç¨‹çš„è¯¾ç¨‹è®¾è®¡é¡¹ç›®ï¼Œè¿ç”¨äº†åœ¨æ’ç”Ÿç”µå­è®­ç»ƒè¥å­¦åˆ°çš„åŸºé‡‘ä¸šåŠ¡çŸ¥è¯†ï¼Œå¹¶ä½¿ç”¨äº†å¾®æœåŠ¡æ¶æ„ã€‚åç«¯ä½¿ç”¨Spring Cloudã€Mybatis Plusç­‰ï¼Œå‰ç«¯ä½¿ç”¨Vue3ï¼Œæ˜¯ä¸€ä¸ªè¾ƒä¸ºå®Œå–„çš„é¡¹ç›®ï¼Œä½†æ˜¯ä¹Ÿæœ‰ç€è¾ƒå¼ºçš„å¯æ‰©å±•æ–°ã€‚</p><p>é¡¹ç›®é“¾æ¥ï¼š<a href="https://github.com/JLQusername/fund-trading-system">JLQusername&#x2F;fund-trading-system: åŒæµå¤§å­¦è½¯ä»¶å·¥ç¨‹å¤§ä¸‰è¯¾ç¨‹é¡¹ç›®ï¼ŒåŸºäºå¾®æœåŠ¡æ¶æ„çš„åŸºé‡‘é”€å”®ç³»ç»Ÿ (github.com)</a></p><h3 id="æ–‡ä»¶ç®¡ç†å·¥å…·é¡¹ç›®"><a href="#æ–‡ä»¶ç®¡ç†å·¥å…·é¡¹ç›®" class="headerlink" title="æ–‡ä»¶ç®¡ç†å·¥å…·é¡¹ç›®"></a>æ–‡ä»¶ç®¡ç†å·¥å…·é¡¹ç›®</h3><p>é¡¹ç›®ç®€ä»‹ï¼šåœ¨å¤§ä¸‰ä¸Šå­¦æœŸçš„è¯¾ä½™æ—¶é—´ï¼Œæƒ³è¦ç»ƒä¹ ä¸€ä¸‹Javaä¸­çš„æ–‡ä»¶IOç›¸å…³å†…å®¹ï¼Œå› æ­¤åšäº†è¿™ä¸ªé¡¹ç›®ï¼Œä¸»è¦èµ·åˆ°ç»ƒä¹ ä½œç”¨ã€‚</p><p>é¡¹ç›®é“¾æ¥ï¼š<a href="https://github.com/JLQusername/FileManagementTool">JLQusername&#x2F;FileManagementTool (github.com)</a></p><h2 id="C-1"><a href="#C-1" class="headerlink" title="C#"></a>C#</h2><h3 id="æ•°æ®åº“è¯¾ç¨‹è®¾è®¡"><a href="#æ•°æ®åº“è¯¾ç¨‹è®¾è®¡" class="headerlink" title="æ•°æ®åº“è¯¾ç¨‹è®¾è®¡"></a>æ•°æ®åº“è¯¾ç¨‹è®¾è®¡</h3><p>é¡¹ç›®ç®€ä»‹ï¼šæ•°æ®åº“è¯¾ç¨‹è®¾è®¡é¡¹ç›®ï¼Œåç«¯è¢«è¦æ±‚ä½¿ç”¨C#ï¼Œæ•°æ®åº“è¢«è¦æ±‚ä½¿ç”¨Oracleï¼Œå‰ç«¯é€‰ç”¨äº†Vue3æ¡†æ¶ï¼Œè™½ç„¶è¾ƒä¸ºå®Œå–„ï¼Œä½†æ˜¯åç«¯ä»£ç å¯ä»¥æ”¹è¿›çš„åœ°æ–¹å¾ˆå¤šï¼Œæ•´ä¸ªé¡¹ç›®çš„ä¸šåŠ¡é€»è¾‘ä¹Ÿè¿‡äºç®€å•ã€‚</p><p>é¡¹ç›®é“¾æ¥ï¼š<a href="https://github.com/Haookok/FlowersWhispering">Haookok&#x2F;FlowersWhispering: Database course design for the second semester of the sophomore year in 2024, School of Software, Tongji University (github.com)</a></p><h2 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h2><p>é¡¹ç›®ç®€ä»‹ï¼šåœ¨å¤§ä¸‰ä¸Šå­¦æœŸçš„è¯¾ä½™æ—¶é—´ï¼Œæƒ³è¦ç»ƒä¹ ä¸€ä¸‹å‰ç«¯ï¼Œå› æ­¤åšäº†è¿™ä¸ªé¡¹ç›®ï¼Œä½¿ç”¨äº†Nuxt3ã€UnoCssã€MongoDBç­‰ï¼Œä¸»è¦èµ·åˆ°ç»ƒä¹ ä½œç”¨ã€‚</p><p>é¡¹ç›®é“¾æ¥ï¼š<a href="https://github.com/JLQusername/WriteAPersonalBlog">JLQusername&#x2F;WriteAPersonalBlog (github.com)</a></p>]]></content>
    
    
    <categories>
      
      <category>å‚ä¸é¡¹ç›®</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é¡¹ç›®ç»å†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ShellåŸºç¡€ç¼–ç¨‹å­¦ä¹ </title>
    <link href="/2024/12/16/Shell%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    <url>/2024/12/16/Shell%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h2 id="Shell-å˜é‡"><a href="#Shell-å˜é‡" class="headerlink" title="Shell å˜é‡"></a>Shell å˜é‡</h2><p>å®šä¹‰å˜é‡æ—¶ï¼Œå˜é‡åä¸åŠ ç¾å…ƒç¬¦å·ï¼Œ<strong>å˜é‡åå’Œç­‰å·ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">your_name=&quot;b907&quot;<br></code></pre></td></tr></table></figure><p>å˜é‡åçš„å‘½åé¡»éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š</p><ul><li>åªåŒ…å«æ•°å­—ã€å­—æ¯å’Œä¸‹åˆ’çº¿</li><li>ä¸èƒ½ä»¥æ•°å­—å¼€å¤´</li><li>é¿å…ä½¿ç”¨Shellå…³é”®å­—</li><li>ä½¿ç”¨å¤§å†™å­—æ¯è¡¨ç¤ºå¸¸é‡</li><li>é¿å…ä½¿ç”¨ç©ºæ ¼</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell">FLOWER=&quot;www.flowertea.site&quot;<br>LD_LIBRARY_PATH=&quot;/bin/&quot;<br>_var=&quot;123&quot;<br>var2=&quot;abc&quot;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">é”™è¯¯ç¤ºä¾‹ï¼š</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">é¿å…ä½¿ç”¨<span class="hljs-keyword">if</span>ä½œä¸ºå˜é‡å</span><br>if=&quot;some_value&quot;<br><span class="hljs-meta prompt_"># </span><span class="language-bash">é¿å…ä½¿ç”¨ $ ç­‰ç‰¹æ®Šç¬¦å·</span><br><span class="hljs-meta prompt_">variable_with_$</span><span class="language-bash">=42</span><br>?var=123<br>user*name=bbb<br><span class="hljs-meta prompt_"># </span><span class="language-bash">é¿å…ç©ºæ ¼</span><br>variable with space=&quot;value&quot;<br><span class="hljs-meta prompt_"># </span><span class="language-bash">æœ‰å¯èƒ½ä¼šå¯¼è‡´é”™è¯¯</span><br>variable_name = value<br></code></pre></td></tr></table></figure><p>é™¤äº†æ˜¾å¼åœ°ç›´æ¥èµ‹å€¼ï¼Œè¿˜å¯ä»¥ç”¨è¯­å¥ç»™å˜é‡èµ‹å€¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Shell">for file in `ls /etc`<br>æˆ–<br>for file in $(ls /etc)<br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨å˜é‡"><a href="#ä½¿ç”¨å˜é‡" class="headerlink" title="ä½¿ç”¨å˜é‡"></a>ä½¿ç”¨å˜é‡</h3><p>ä½¿ç”¨ä¸€ä¸ªå®šä¹‰è¿‡çš„å˜é‡ï¼Œåªè¦åœ¨å˜é‡åå‰é¢åŠ ç¾å…ƒç¬¦å·å³å¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">your_name=&quot;b907&quot;<br>echo $your_name<br>echo $&#123;your_name&#125;<br></code></pre></td></tr></table></figure><p>å˜é‡åå¤–é¢çš„èŠ±æ‹¬å·æ˜¯å¯é€‰çš„ï¼ŒåŠ ä¸åŠ éƒ½è¡Œï¼ŒåŠ èŠ±æ‹¬å·æ˜¯ä¸ºäº†å¸®åŠ©è§£é‡Šå™¨è¯†åˆ«å˜é‡çš„è¾¹ç•Œï¼Œ<strong>æ¨èç»™æ‰€æœ‰å˜é‡åŠ ä¸ŠèŠ±æ‹¬å·</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Shell">for skill in Ada Coffe Action Java; do<br>    echo &quot;I am good at $&#123;skill&#125;Script&quot;<br>done<br></code></pre></td></tr></table></figure><p>å¦‚æœä¸ç»™skillå˜é‡åŠ èŠ±æ‹¬å·ï¼Œå†™æˆ<code>echo &quot;I am good at $skillScript&quot;</code>ï¼Œè§£é‡Šå™¨å°±ä¼šæŠŠ<code>$skillScript</code>å½“æˆä¸€ä¸ªå˜é‡ï¼ˆå…¶å€¼ä¸ºç©ºï¼‰</p><p>å·²å®šä¹‰çš„å˜é‡ï¼Œå¯ä»¥è¢«é‡æ–°å®šä¹‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">your_name=&quot;b907&quot;<br>echo $your_name<br>your_name=&quot;flowertea&quot;<br>echo $your_name<br></code></pre></td></tr></table></figure><p>ç¬¬äºŒæ¬¡èµ‹å€¼çš„æ—¶å€™ä¸èƒ½å†™<code>$your_name=&quot;flowertea&quot;</code>ï¼Œä½¿ç”¨å˜é‡çš„æ—¶å€™æ‰åŠ ç¾å…ƒç¬¦ï¼ˆ$ï¼‰</p><h3 id="åªè¯»å˜é‡"><a href="#åªè¯»å˜é‡" class="headerlink" title="åªè¯»å˜é‡"></a>åªè¯»å˜é‡</h3><p>ä½¿ç”¨ <code>readonly </code>å‘½ä»¤å¯ä»¥å°†å˜é‡å®šä¹‰ä¸ºåªè¯»å˜é‡ï¼Œåªè¯»å˜é‡çš„å€¼ä¸èƒ½è¢«æ”¹å˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span><br><br>myUrl=&quot;https://www.google.com&quot;<br>readonly myUrl<br>myUrl=&quot;https://www.flowertea.site&quot;<br></code></pre></td></tr></table></figure><p>è¿è¡Œè„šæœ¬ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Shell">/bin/sh: NAME: This variable is read only.<br></code></pre></td></tr></table></figure><h3 id="åˆ é™¤å˜é‡"><a href="#åˆ é™¤å˜é‡" class="headerlink" title="åˆ é™¤å˜é‡"></a>åˆ é™¤å˜é‡</h3><p>ä½¿ç”¨ <code>unset</code> å‘½ä»¤å¯ä»¥åˆ é™¤å˜é‡ï¼Œå˜é‡è¢«åˆ é™¤åä¸èƒ½å†æ¬¡ä½¿ç”¨ï¼Œ<code>unset </code>å‘½ä»¤ä¸èƒ½åˆ é™¤åªè¯»å˜é‡</p><h3 id="å˜é‡ç±»å‹"><a href="#å˜é‡ç±»å‹" class="headerlink" title="å˜é‡ç±»å‹"></a>å˜é‡ç±»å‹</h3><p>ä¸€äº›ä¸»è¦çš„ç±»å‹åŒ…æ‹¬ï¼š</p><h4 id="å­—ç¬¦ä¸²å˜é‡"><a href="#å­—ç¬¦ä¸²å˜é‡" class="headerlink" title="å­—ç¬¦ä¸²å˜é‡"></a>å­—ç¬¦ä¸²å˜é‡</h4><p>åœ¨ Shellä¸­ï¼Œå˜é‡é€šå¸¸è¢«è§†ä¸ºå­—ç¬¦ä¸²ï¼Œæœ€å¸¸ç”¨æœ€æœ‰ç”¨çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å· <strong>â€˜</strong> æˆ–åŒå¼•å· <strong>â€œ</strong> æ¥å®šä¹‰å­—ç¬¦ä¸²</p><p>å­—ç¬¦ä¸²å¯ä»¥ç”¨å•å¼•å·ï¼Œä¹Ÿå¯ä»¥ç”¨åŒå¼•å·ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨å¼•å·</p><h5 id="å•å¼•å·"><a href="#å•å¼•å·" class="headerlink" title="å•å¼•å·"></a>å•å¼•å·</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Shell">str=&#x27;this is a string&#x27;<br></code></pre></td></tr></table></figure><p>å•å¼•å·å­—ç¬¦ä¸²çš„é™åˆ¶ï¼š</p><ul><li>å•å¼•å·é‡Œçš„ä»»ä½•å­—ç¬¦éƒ½ä¼šåŸæ ·è¾“å‡ºï¼Œå•å¼•å·å­—ç¬¦ä¸²ä¸­çš„å˜é‡æ˜¯æ— æ•ˆçš„ï¼ˆå­—ç¬¦ä¸²æ‹¼æ¥é™¤å¤–ï¼‰</li><li>å•å¼•å·å­—ç¬¦ä¸²ä¸­ä¸èƒ½å‡ºç°å•ç‹¬ä¸€ä¸ªçš„å•å¼•å·ï¼ˆå¯¹å•å¼•å·ä½¿ç”¨è½¬ä¹‰ç¬¦åä¹Ÿä¸è¡Œï¼‰ï¼Œä½†å¯æˆå¯¹å‡ºç°ï¼Œä½œä¸ºå­—ç¬¦ä¸²æ‹¼æ¥ä½¿ç”¨</li></ul><h5 id="åŒå¼•å·"><a href="#åŒå¼•å·" class="headerlink" title="åŒå¼•å·"></a>åŒå¼•å·</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">your_name=&quot;b907&quot;<br>str=&quot;Hello, I know you are \&quot;$your_name\&quot;! \n&quot;<br>echo -e $str<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">Hello, I know you are &quot;b907&quot;! <br></code></pre></td></tr></table></figure><p>åŒå¼•å·çš„ä¼˜ç‚¹ï¼š</p><ul><li>åŒå¼•å·é‡Œå¯ä»¥æœ‰å˜é‡</li><li>åŒå¼•å·é‡Œå¯ä»¥å‡ºç°è½¬ä¹‰å­—ç¬¦</li></ul><h5 id="æ‹¼æ¥å­—ç¬¦ä¸²"><a href="#æ‹¼æ¥å­—ç¬¦ä¸²" class="headerlink" title="æ‹¼æ¥å­—ç¬¦ä¸²"></a>æ‹¼æ¥å­—ç¬¦ä¸²</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">your_name=&quot;flower&quot;<br><span class="hljs-meta prompt_"># </span><span class="language-bash">ä½¿ç”¨åŒå¼•å·æ‹¼æ¥</span><br>greeting=&quot;hello, &quot;$your_name&quot; !&quot;<br>greeting_1=&quot;hello, $&#123;your_name&#125; !&quot;<br>echo $greeting  $greeting_1<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ä½¿ç”¨å•å¼•å·æ‹¼æ¥</span><br>greeting_2=&#x27;hello, &#x27;$your_name&#x27; !&#x27;<br>greeting_3=&#x27;hello, $&#123;your_name&#125; !&#x27;<br>echo $greeting_2  $greeting_3<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">hello, flower ! hello, flower !<br>hello, flower ! hello, $&#123;your_name&#125; !<br></code></pre></td></tr></table></figure><h5 id="è·å–å­—ç¬¦ä¸²é•¿åº¦"><a href="#è·å–å­—ç¬¦ä¸²é•¿åº¦" class="headerlink" title="è·å–å­—ç¬¦ä¸²é•¿åº¦"></a>è·å–å­—ç¬¦ä¸²é•¿åº¦</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">string=&quot;abcd&quot;<br>echo $&#123;#string&#125;   # è¾“å‡º 4<br></code></pre></td></tr></table></figure><p>å˜é‡ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œ<code>$&#123;#string&#125;</code> ç­‰ä»·äº <code>$&#123;#string[0]&#125;</code>:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">string=&quot;abcd&quot;<br>echo $&#123;#string[0]&#125;   # è¾“å‡º 4<br></code></pre></td></tr></table></figure><h5 id="æå–å­å­—ç¬¦ä¸²"><a href="#æå–å­å­—ç¬¦ä¸²" class="headerlink" title="æå–å­å­—ç¬¦ä¸²"></a>æå–å­å­—ç¬¦ä¸²</h5><p>ä»å­—ç¬¦ä¸²ç¬¬ 2 ä¸ªå­—ç¬¦å¼€å§‹æˆªå– 4 ä¸ªå­—ç¬¦ï¼šï¼ˆç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•å€¼ä¸º0ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">string=&quot;flower is a great site&quot;<br>echo $&#123;string:1:4&#125; # è¾“å‡º lowe<br></code></pre></td></tr></table></figure><h5 id="æŸ¥æ‰¾å­å­—ç¬¦ä¸²"><a href="#æŸ¥æ‰¾å­å­—ç¬¦ä¸²" class="headerlink" title="æŸ¥æ‰¾å­å­—ç¬¦ä¸²"></a>æŸ¥æ‰¾å­å­—ç¬¦ä¸²</h5><p>æŸ¥æ‰¾å­—ç¬¦ <strong>i</strong> æˆ– <strong>o</strong> çš„ä½ç½®(å“ªä¸ªå­—æ¯å…ˆå‡ºç°å°±è®¡ç®—å“ªä¸ª)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Shell">string=&quot;flower is a great site&quot;<br>echo `expr index &quot;$string&quot; io`  # è¾“å‡º 3<br></code></pre></td></tr></table></figure><h4 id="æ•´æ•°å˜é‡"><a href="#æ•´æ•°å˜é‡" class="headerlink" title="æ•´æ•°å˜é‡"></a>æ•´æ•°å˜é‡</h4><p>åœ¨ä¸€äº›Shellä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>declare</code> æˆ– <code>typeset</code> å‘½ä»¤æ¥å£°æ˜æ•´æ•°å˜é‡ï¼Œè¿™æ ·çš„å˜é‡åªåŒ…å«æ•´æ•°å€¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Shell">declare -i my_integer=42<br></code></pre></td></tr></table></figure><p>è¿™æ ·çš„å£°æ˜å‘Šè¯‰ Shell å°† my_integer è§†ä¸ºæ•´æ•°ï¼Œå¦‚æœå°è¯•å°†éæ•´æ•°å€¼èµ‹ç»™å®ƒï¼ŒShellä¼šå°è¯•å°†å…¶è½¬æ¢ä¸ºæ•´æ•°</p><h4 id="æ•°ç»„å˜é‡"><a href="#æ•°ç»„å˜é‡" class="headerlink" title="æ•°ç»„å˜é‡"></a>æ•°ç»„å˜é‡</h4><p>Shell ä¹Ÿæ”¯æŒæ•°ç»„ï¼Œå…è®¸åœ¨ä¸€ä¸ªå˜é‡ä¸­å­˜å‚¨å¤šä¸ªå€¼ï¼Œbashæ”¯æŒä¸€ç»´æ•°ç»„ï¼ˆä¸æ”¯æŒå¤šç»´æ•°ç»„ï¼‰ï¼Œå¹¶ä¸”æ²¡æœ‰é™å®šæ•°ç»„çš„å¤§å°</p><p>ç±»ä¼¼äº C è¯­è¨€ï¼Œæ•°ç»„å…ƒç´ çš„ä¸‹æ ‡ç”± 0 å¼€å§‹ç¼–å·ã€‚è·å–æ•°ç»„ä¸­çš„å…ƒç´ è¦åˆ©ç”¨ä¸‹æ ‡ï¼Œä¸‹æ ‡å¯ä»¥æ˜¯æ•´æ•°æˆ–ç®—æœ¯è¡¨è¾¾å¼ï¼Œå…¶å€¼åº”å¤§äºæˆ–ç­‰äº 0</p><p>æ•°ç»„å¯ä»¥æ˜¯æ•´æ•°ç´¢å¼•æ•°ç»„æˆ–å…³è”æ•°ç»„ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„æ•´æ•°ç´¢å¼•æ•°ç»„çš„ä¾‹å­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Shell">my_array=(1 2 3 4 5)<br></code></pre></td></tr></table></figure><p>æˆ–è€…å…³è”æ•°ç»„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Shell">declare -A associative_array<br>associative_array[&quot;name&quot;]=&quot;B907&quot;<br>associative_array[&quot;age&quot;]=30<br></code></pre></td></tr></table></figure><h5 id="å®šä¹‰æ•°ç»„"><a href="#å®šä¹‰æ•°ç»„" class="headerlink" title="å®šä¹‰æ•°ç»„"></a>å®šä¹‰æ•°ç»„</h5><p>åœ¨ Shell ä¸­ï¼Œç”¨æ‹¬å·æ¥è¡¨ç¤ºæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ç”¨â€ç©ºæ ¼â€ç¬¦å·åˆ†å‰²å¼€ã€‚å®šä¹‰æ•°ç»„çš„ä¸€èˆ¬å½¢å¼ä¸ºï¼š<code>array_name=(value0 value1 value2 value3)</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">array_name=(value0 value1 value2 value3)<br><span class="hljs-meta prompt_"># </span><span class="language-bash">æˆ–è€…</span><br>array_name=(<br>value0<br>value1<br>value2<br>value3<br>)<br></code></pre></td></tr></table></figure><p>è¿˜å¯ä»¥å•ç‹¬å®šä¹‰æ•°ç»„çš„å„ä¸ªåˆ†é‡ï¼šï¼ˆå¯ä»¥ä¸ä½¿ç”¨è¿ç»­çš„ä¸‹æ ‡ï¼Œè€Œä¸”ä¸‹æ ‡çš„èŒƒå›´æ²¡æœ‰é™åˆ¶ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">array_name[0]=value0<br>array_name[1]=value1<br>array_name[n]=valuen<br></code></pre></td></tr></table></figure><h5 id="å…³è”æ•°ç»„"><a href="#å…³è”æ•°ç»„" class="headerlink" title="å…³è”æ•°ç»„"></a>å…³è”æ•°ç»„</h5><p>Bash æ”¯æŒå…³è”æ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨ä»»æ„çš„å­—ç¬¦ä¸²ã€æˆ–è€…æ•´æ•°ä½œä¸ºä¸‹æ ‡æ¥è®¿é—®æ•°ç»„å…ƒç´ ï¼Œå…³è”æ•°ç»„ä½¿ç”¨ <code>declare</code>å‘½ä»¤æ¥å£°æ˜ï¼Œè¯­æ³•æ ¼å¼ä¸º<code>declare -A array_name</code>,<code>-A</code> é€‰é¡¹å°±æ˜¯ç”¨äºå£°æ˜ä¸€ä¸ªå…³è”æ•°ç»„ï¼Œå…³è”æ•°ç»„çš„é”®æ˜¯å”¯ä¸€çš„</p><p>åˆ›å»ºä¸€ä¸ªå…³è”æ•°ç»„ <strong>site</strong>ï¼Œå¹¶åˆ›å»ºä¸åŒçš„é”®å€¼ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">declare -A site=([&quot;google&quot;]=&quot;www.google.com&quot; [&quot;flowertea&quot;]=&quot;www.flowertea.site&quot; [&quot;taobao&quot;]=&quot;www.taobao.com&quot;)<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥å…ˆå£°æ˜ä¸€ä¸ªå…³è”æ•°ç»„ï¼Œç„¶åå†è®¾ç½®é”®å’Œå€¼ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">declare -A site<br>site[&quot;google&quot;]=&quot;www.google.com&quot;<br>site[&quot;flowertea&quot;]=&quot;www.flowertea.site&quot;<br>site[&quot;taobao&quot;]=&quot;www.taobao.com&quot;<br></code></pre></td></tr></table></figure><p>è®¿é—®å…³è”æ•°ç»„å…ƒç´ å¯ä»¥ä½¿ç”¨æŒ‡å®šçš„é”®ï¼Œæ ¼å¼ä¸º<code>array_name[&quot;index&quot;]</code></p><h5 id="è¯»å–æ•°ç»„"><a href="#è¯»å–æ•°ç»„" class="headerlink" title="è¯»å–æ•°ç»„"></a>è¯»å–æ•°ç»„</h5><p>è¯»å–æ•°ç»„å…ƒç´ å€¼çš„ä¸€èˆ¬æ ¼å¼æ˜¯ï¼š<code>$&#123;æ•°ç»„å[ä¸‹æ ‡]&#125;</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">valuen=$&#123;array_name[n]&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ @ æˆ– * å¯ä»¥è·å–æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span><br><br>my_array[0]=A<br>my_array[1]=B<br>my_array[2]=C<br>my_array[3]=D<br><br>echo &quot;æ•°ç»„çš„å…ƒç´ ä¸º: $&#123;my_array[*]&#125;&quot;<br>echo &quot;æ•°ç»„çš„å…ƒç´ ä¸º: $&#123;my_array[@]&#125;&quot;<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">chmod</span> +x test.sh</span> <br><span class="hljs-meta prompt_">$ </span><span class="language-bash">./test.sh</span><br>æ•°ç»„çš„å…ƒç´ ä¸º: A B C D<br>æ•°ç»„çš„å…ƒç´ ä¸º: A B C D<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">declare -A site<br>site[&quot;google&quot;]=&quot;www.google.com&quot;<br>site[&quot;flowertea&quot;]=&quot;www.flowertea.site&quot;<br>site[&quot;taobao&quot;]=&quot;www.taobao.com&quot;<br><br>echo &quot;æ•°ç»„çš„å…ƒç´ ä¸º: $&#123;site[*]&#125;&quot;<br>echo &quot;æ•°ç»„çš„å…ƒç´ ä¸º: $&#123;site[@]&#125;&quot;<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">chmod</span> +x test.sh</span> <br><span class="hljs-meta prompt_">$ </span><span class="language-bash">./test.sh</span><br>æ•°ç»„çš„å…ƒç´ ä¸º: www.google.com www.flowertea.site www.taobao.com<br>æ•°ç»„çš„å…ƒç´ ä¸º: www.google.com www.flowertea.site www.taobao.com<br></code></pre></td></tr></table></figure><p>åœ¨æ•°ç»„å‰åŠ ä¸€ä¸ªæ„Ÿå¹å· ! å¯ä»¥è·å–æ•°ç»„çš„æ‰€æœ‰é”®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">declare -A site<br>site[&quot;google&quot;]=&quot;www.google.com&quot;<br>site[&quot;flowertea&quot;]=&quot;www.flowertea.site&quot;<br>site[&quot;taobao&quot;]=&quot;www.taobao.com&quot;<br><br>echo &quot;æ•°ç»„çš„é”®ä¸º: $&#123;!site[*]&#125;&quot;<br>echo &quot;æ•°ç»„çš„é”®ä¸º: $&#123;!site[@]&#125;&quot;<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">æ•°ç»„çš„é”®ä¸º: google flowertea taobao<br>æ•°ç»„çš„é”®ä¸º: google flowertea taobao<br></code></pre></td></tr></table></figure><h5 id="è·å–æ•°ç»„é•¿åº¦"><a href="#è·å–æ•°ç»„é•¿åº¦" class="headerlink" title="è·å–æ•°ç»„é•¿åº¦"></a>è·å–æ•°ç»„é•¿åº¦</h5><p>æ–¹æ³•ä¸è·å–å­—ç¬¦ä¸²é•¿åº¦çš„æ–¹æ³•ç›¸åŒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">å–å¾—æ•°ç»„å…ƒç´ çš„ä¸ªæ•°</span><br>length=$&#123;#array_name[@]&#125;<br><span class="hljs-meta prompt_"># </span><span class="language-bash">æˆ–è€…</span><br>length=$&#123;#array_name[*]&#125;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">å–å¾—æ•°ç»„å•ä¸ªå…ƒç´ çš„é•¿åº¦</span><br>length=$&#123;#array_name[n]&#125;<br></code></pre></td></tr></table></figure><h4 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h4><p>ç”±æ“ä½œç³»ç»Ÿæˆ–ç”¨æˆ·è®¾ç½®çš„ç‰¹æ®Šå˜é‡ï¼Œç”¨äºé…ç½® Shell çš„è¡Œä¸ºå’Œå½±å“å…¶æ‰§è¡Œç¯å¢ƒï¼Œå¦‚ PATH å˜é‡åŒ…å«äº†æ“ä½œç³»ç»Ÿæœç´¢å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Shell">echo $PATH<br></code></pre></td></tr></table></figure><h4 id="ç‰¹æ®Šå˜é‡"><a href="#ç‰¹æ®Šå˜é‡" class="headerlink" title="ç‰¹æ®Šå˜é‡"></a>ç‰¹æ®Šå˜é‡</h4><p>æœ‰ä¸€äº›ç‰¹æ®Šå˜é‡åœ¨ Shell ä¸­å…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œä¾‹å¦‚ <code>$0</code> è¡¨ç¤ºè„šæœ¬çš„åç§°ï¼Œ<code>$1</code>, <code>$2</code>, ç­‰è¡¨ç¤ºè„šæœ¬çš„å‚æ•°ï¼Œ<code>$#</code>è¡¨ç¤ºä¼ é€’ç»™è„šæœ¬çš„å‚æ•°æ•°é‡ï¼Œ<code>$?</code> è¡¨ç¤ºä¸Šä¸€ä¸ªå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ç­‰</p><h3 id="Shell-æ³¨é‡Š"><a href="#Shell-æ³¨é‡Š" class="headerlink" title="Shell æ³¨é‡Š"></a>Shell æ³¨é‡Š</h3><p>ä»¥ # å¼€å¤´çš„è¡Œå°±æ˜¯æ³¨é‡Šï¼Œä¼šè¢«è§£é‡Šå™¨å¿½ç•¥ï¼Œé€šè¿‡æ¯ä¸€è¡ŒåŠ ä¸€ä¸ª # å·è®¾ç½®å¤šè¡Œæ³¨é‡Š</p><p>æ¯ä¸€è¡ŒåŠ ä¸ª#ç¬¦å·å¤ªè´¹åŠ›äº†ï¼Œå¯ä»¥æŠŠè¿™ä¸€æ®µè¦æ³¨é‡Šçš„ä»£ç ç”¨ä¸€å¯¹èŠ±æ‹¬å·æ‹¬èµ·æ¥ï¼Œå®šä¹‰æˆä¸€ä¸ªå‡½æ•°ï¼Œæ²¡æœ‰åœ°æ–¹è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œè¿™å—ä»£ç å°±ä¸ä¼šæ‰§è¡Œï¼Œè¾¾åˆ°äº†å’Œæ³¨é‡Šä¸€æ ·çš„æ•ˆæœ</p><p>å¤šè¡Œæ³¨é‡Šè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼ˆä½¿ç”¨ Here æ–‡æ¡£ï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">:&lt;&lt;EOF<br>æ³¨é‡Šå†…å®¹...<br>æ³¨é‡Šå†…å®¹...<br>æ³¨é‡Šå†…å®¹...<br>EOF<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šä¾‹å­ä¸­ï¼Œ: æ˜¯ä¸€ä¸ªç©ºå‘½ä»¤ï¼Œç”¨äºæ‰§è¡Œåé¢çš„ Here æ–‡æ¡£ï¼Œ<code>&lt;&lt;&#39;EOF&#39; </code>è¡¨ç¤ºå¼€å¯ Here æ–‡æ¡£ï¼Œ<code>COMMENT</code> æ˜¯ Here æ–‡æ¡£çš„æ ‡è¯†ç¬¦ï¼Œåœ¨è¿™ä¸¤ä¸ªæ ‡è¯†ç¬¦ä¹‹é—´çš„å†…å®¹éƒ½ä¼šè¢«è§†ä¸ºæ³¨é‡Šï¼Œä¸ä¼šè¢«æ‰§è¡Œ</p><p>EOF ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–ç¬¦å·:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell">: &lt;&lt;&#x27;COMMENT&#x27;<br>è¿™æ˜¯æ³¨é‡Šçš„éƒ¨åˆ†ã€‚<br>å¯ä»¥æœ‰å¤šè¡Œå†…å®¹ã€‚<br>COMMENT<br><br>:&lt;&lt;&#x27;<br>æ³¨é‡Šå†…å®¹...<br>æ³¨é‡Šå†…å®¹...<br>æ³¨é‡Šå†…å®¹...<br>&#x27;<br><br>:&lt;&lt;!<br>æ³¨é‡Šå†…å®¹...<br>æ³¨é‡Šå†…å®¹...<br>æ³¨é‡Šå†…å®¹...<br>!<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨äº†å†’å· <strong>:</strong> å‘½ä»¤ï¼Œå¹¶ç”¨å•å¼•å· <strong>â€˜</strong> å°†å¤šè¡Œå†…å®¹æ‹¬èµ·æ¥</p><p>ç”±äºå†’å·æ˜¯ä¸€ä¸ªç©ºå‘½ä»¤ï¼Œè¿™äº›å†…å®¹ä¸ä¼šè¢«æ‰§è¡Œï¼Œæ ¼å¼ä¸ºï¼š<code>: + ç©ºæ ¼ + å•å¼•å·</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">: &#x27;<br>è¿™æ˜¯æ³¨é‡Šçš„éƒ¨åˆ†ã€‚<br>å¯ä»¥æœ‰å¤šè¡Œå†…å®¹ã€‚<br>&#x27;<br></code></pre></td></tr></table></figure><h2 id="Shell-ä¼ é€’å‚æ•°"><a href="#Shell-ä¼ é€’å‚æ•°" class="headerlink" title="Shell ä¼ é€’å‚æ•°"></a>Shell ä¼ é€’å‚æ•°</h2><p>å¯ä»¥åœ¨æ‰§è¡Œ Shell è„šæœ¬æ—¶ï¼Œå‘è„šæœ¬ä¼ é€’å‚æ•°ï¼Œè„šæœ¬å†…è·å–å‚æ•°çš„æ ¼å¼ä¸º <code>$n</code>ï¼Œn ä»£è¡¨ä¸€ä¸ªæ•°å­—ï¼Œ1 ä¸ºæ‰§è¡Œè„šæœ¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ2 ä¸ºæ‰§è¡Œè„šæœ¬çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚</p><p>ä¾‹å¦‚å¯ä»¥ä½¿ç”¨ <code>$1ã€$2</code> ç­‰æ¥å¼•ç”¨ä¼ é€’ç»™è„šæœ¬çš„å‚æ•°ï¼Œå…¶ä¸­ <code>$1</code> è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ<code>$2</code> è¡¨ç¤ºç¬¬äºŒä¸ªå‚æ•°ï¼Œä¾æ­¤ç±»æ¨ï¼ˆ<code>$&#123;11&#125;</code> è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span><br><br>echo &quot;Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼&quot;;<br>echo &quot;æ‰§è¡Œçš„æ–‡ä»¶åï¼š$0&quot;;<br>echo &quot;ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š$1&quot;;<br>echo &quot;ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š$2&quot;;<br>echo &quot;ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºï¼š$3&quot;;<br></code></pre></td></tr></table></figure><p>ä¸ºè„šæœ¬è®¾ç½®å¯æ‰§è¡Œæƒé™ï¼Œå¹¶æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">chmod</span> +x test.sh</span> <br><span class="hljs-meta prompt_">$ </span><span class="language-bash">./test.sh 1 2 3</span><br>Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼<br>æ‰§è¡Œçš„æ–‡ä»¶åï¼š./test.sh<br>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š1<br>ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š2<br>ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºï¼š3<br></code></pre></td></tr></table></figure><p>å¦å¤–ï¼Œè¿˜æœ‰å‡ ä¸ªç‰¹æ®Šå­—ç¬¦ç”¨æ¥å¤„ç†å‚æ•°ï¼š</p><table><thead><tr><th align="left">å‚æ•°å¤„ç†</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">$#</td><td align="left">ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°</td></tr><tr><td align="left">$*</td><td align="left">ä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°ã€‚å¦‚<code>$*</code>åŠ ä¸ŠåŒå¼•å·ï¼Œä»¥<code>&quot;$1 $2 â€¦ $n&quot;</code>ï¼ˆå­—ç¬¦ä¸²ï¼‰çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°</td></tr><tr><td align="left">$$</td><td align="left">è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·</td></tr><tr><td align="left">$!</td><td align="left">åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„IDå·</td></tr><tr><td align="left">$@</td><td align="left">ä¸<code>$*</code>ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨æ—¶åŠ å¼•å·ï¼Œå¹¶åœ¨å¼•å·ä¸­è¿”å›æ¯ä¸ªå‚æ•°ã€‚å¦‚<code>$@</code>åŠ ä¸ŠåŒå¼•å·ï¼Œä»¥<code>&quot;$1&quot; &quot;$2&quot; â€¦ &quot;$n&quot;</code> ï¼ˆæ•°ç»„ï¼‰çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°</td></tr><tr><td align="left">$-</td><td align="left">æ˜¾ç¤ºShellä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼Œä¸<code>set</code>å‘½ä»¤åŠŸèƒ½ç›¸åŒ</td></tr><tr><td align="left">$?</td><td align="left">æ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ï¼Œ0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span><br><br>echo &quot;Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼&quot;;<br>echo &quot;ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š$1&quot;;<br><br>echo &quot;å‚æ•°ä¸ªæ•°ä¸ºï¼š$#&quot;;<br>echo &quot;ä¼ é€’çš„å‚æ•°ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æ˜¾ç¤ºï¼š$*&quot;;<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">chmod</span> +x test.sh</span> <br><span class="hljs-meta prompt_">$ </span><span class="language-bash">./test.sh 1 2 3</span><br>Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼<br>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š1<br>å‚æ•°ä¸ªæ•°ä¸ºï¼š3<br>ä¼ é€’çš„å‚æ•°ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æ˜¾ç¤ºï¼š1 2 3<br></code></pre></td></tr></table></figure><p>$* ä¸ $@ åŒºåˆ«ï¼š</p><ul><li>ç›¸åŒç‚¹ï¼šéƒ½æ˜¯å¼•ç”¨æ‰€æœ‰å‚æ•°</li><li>ä¸åŒç‚¹ï¼šåªæœ‰åœ¨åŒå¼•å·ä¸­ä½“ç°å‡ºæ¥ã€‚å‡è®¾åœ¨è„šæœ¬è¿è¡Œæ—¶å†™äº†ä¸‰ä¸ªå‚æ•° 1ã€2ã€3ï¼Œåˆ™ â€œ$*â€ ç­‰ä»·äº â€œ1 2 3â€ï¼ˆä¼ é€’äº†ä¸€ä¸ªå‚æ•°ï¼‰ï¼Œè€Œ â€œ$@â€ ç­‰ä»·äº â€œ1â€ â€œ2â€ â€œ3â€ï¼ˆä¼ é€’äº†ä¸‰ä¸ªå‚æ•°ï¼‰</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span><br><br>echo &quot;-- \$* æ¼”ç¤º ---&quot;<br>for i in &quot;$*&quot;; do<br>    echo $i<br>done<br><br>echo &quot;-- \$@ æ¼”ç¤º ---&quot;<br>for i in &quot;$@&quot;; do<br>    echo $i<br>done<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">chmod</span> +x test.sh</span> <br><span class="hljs-meta prompt_">$ </span><span class="language-bash">./test.sh 1 2 3</span><br>-- $* æ¼”ç¤º ---<br>1 2 3<br>-- $@ æ¼”ç¤º ---<br>1<br>2<br>3<br></code></pre></td></tr></table></figure><h2 id="Shell-åŸºæœ¬è¿ç®—ç¬¦"><a href="#Shell-åŸºæœ¬è¿ç®—ç¬¦" class="headerlink" title="Shell åŸºæœ¬è¿ç®—ç¬¦"></a>Shell åŸºæœ¬è¿ç®—ç¬¦</h2><p>Shell å’Œå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œæ”¯æŒå¤šç§è¿ç®—ç¬¦ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>ç®—æ•°è¿ç®—ç¬¦</li><li>å…³ç³»è¿ç®—ç¬¦</li><li>å¸ƒå°”è¿ç®—ç¬¦</li><li>å­—ç¬¦ä¸²è¿ç®—ç¬¦</li><li>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦</li></ul><p>åŸç”Ÿbashä¸æ”¯æŒç®€å•çš„æ•°å­¦è¿ç®—ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å…¶ä»–å‘½ä»¤æ¥å®ç°ï¼Œä¾‹å¦‚ <code>awk</code> å’Œ <code>expr</code>ï¼Œ<code>expr</code> æœ€å¸¸ç”¨</p><p><code>expr</code> æ˜¯ä¸€æ¬¾è¡¨è¾¾å¼è®¡ç®—å·¥å…·ï¼Œä½¿ç”¨å®ƒèƒ½å®Œæˆè¡¨è¾¾å¼çš„æ±‚å€¼æ“ä½œï¼Œä¾‹å¦‚ï¼Œä¸¤ä¸ªæ•°ç›¸åŠ (æ³¨æ„ä½¿ç”¨çš„æ˜¯åå¼•å·ï¼Œè€Œä¸æ˜¯å•å¼•å· )ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span><br><br>val=`expr 2 + 2`<br>echo &quot;ä¸¤æ•°ä¹‹å’Œä¸º : $val&quot;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼š</p><ul><li><strong>è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦ä¹‹é—´è¦æœ‰ç©ºæ ¼</strong>ï¼Œä¾‹å¦‚ 2+2 æ˜¯ä¸å¯¹çš„ï¼Œå¿…é¡»å†™æˆ 2 + 2ï¼Œè¿™ä¸æˆ‘ä»¬ç†Ÿæ‚‰çš„å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸ä¸€æ ·</li><li>å®Œæ•´çš„è¡¨è¾¾å¼è¦è¢«åå¼•å·åŒ…å«ï¼Œè¿™ä¸ªå­—ç¬¦ä¸æ˜¯å¸¸ç”¨çš„å•å¼•å·ï¼Œåœ¨ <code>Esc é”®</code>ä¸‹è¾¹</li></ul><h3 id="ç®—æœ¯è¿ç®—ç¬¦"><a href="#ç®—æœ¯è¿ç®—ç¬¦" class="headerlink" title="ç®—æœ¯è¿ç®—ç¬¦"></a>ç®—æœ¯è¿ç®—ç¬¦</h3><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„ç®—æœ¯è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š</p><table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">è¯´æ˜</th><th align="left">ä¸¾ä¾‹</th></tr></thead><tbody><tr><td align="left">+</td><td align="left">åŠ æ³•</td><td align="left"><code>expr $a + $b</code> ç»“æœä¸º 30</td></tr><tr><td align="left">-</td><td align="left">å‡æ³•</td><td align="left"><code>expr $a - $b</code> ç»“æœä¸º -10</td></tr><tr><td align="left">*</td><td align="left">ä¹˜æ³•</td><td align="left"><code>expr $a \* $b</code> ç»“æœä¸º  200</td></tr><tr><td align="left">&#x2F;</td><td align="left">é™¤æ³•</td><td align="left"><code>expr $b / $a</code> ç»“æœä¸º 2</td></tr><tr><td align="left">%</td><td align="left">å–ä½™</td><td align="left"><code>expr $b % $a</code> ç»“æœä¸º 0</td></tr><tr><td align="left">&#x3D;</td><td align="left">èµ‹å€¼</td><td align="left"><code>a=$b</code> æŠŠå˜é‡ b çš„å€¼èµ‹ç»™ a</td></tr><tr><td align="left">&#x3D;&#x3D;</td><td align="left">ç›¸ç­‰ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°å­—ï¼Œç›¸åŒåˆ™è¿”å› true</td><td align="left"><code>[ $a == $b ]</code> è¿”å› false</td></tr><tr><td align="left">!&#x3D;</td><td align="left">ä¸ç›¸ç­‰ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°å­—ï¼Œä¸ç›¸åŒåˆ™è¿”å› true</td><td align="left"><code>[ $a != $b ]</code> è¿”å› true</td></tr></tbody></table><p><strong>æ³¨æ„ï¼š</strong></p><ul><li><p>æ¡ä»¶è¡¨è¾¾å¼è¦æ”¾åœ¨æ–¹æ‹¬å·ä¹‹é—´ï¼Œå¹¶ä¸”è¦æœ‰ç©ºæ ¼ï¼Œä¾‹å¦‚: <code>[$a==$b]</code> æ˜¯é”™è¯¯çš„ï¼Œå¿…é¡»å†™æˆ <code>[ $a == $b ]</code></p></li><li><p>ä¹˜å·<code>*</code>å‰è¾¹å¿…é¡»åŠ åæ–œæ <code>\</code>æ‰èƒ½å®ç°ä¹˜æ³•è¿ç®—</p></li><li><p><code>if...then...fi</code> æ˜¯æ¡ä»¶è¯­å¥</p></li><li><p>åœ¨ MAC ä¸­ shell çš„ <code>expr</code> è¯­æ³•æ˜¯ï¼š<code>$((è¡¨è¾¾å¼))</code>ï¼Œæ­¤å¤„è¡¨è¾¾å¼ä¸­çš„<code>*</code>ä¸éœ€è¦è½¬ä¹‰ç¬¦å· <code>\</code></p></li></ul><h3 id="å…³ç³»è¿ç®—ç¬¦"><a href="#å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="å…³ç³»è¿ç®—ç¬¦"></a>å…³ç³»è¿ç®—ç¬¦</h3><p>å…³ç³»è¿ç®—ç¬¦åªæ”¯æŒæ•°å­—ï¼Œä¸æ”¯æŒå­—ç¬¦ä¸²ï¼Œé™¤éå­—ç¬¦ä¸²çš„å€¼æ˜¯æ•°å­—</p><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å…³ç³»è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š</p><table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">è¯´æ˜</th><th align="left">ä¸¾ä¾‹</th></tr></thead><tbody><tr><td align="left"><code>-eq</code></td><td align="left">æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› true</td><td align="left"><code>[ $a -eq $b ] </code>è¿”å› false</td></tr><tr><td align="left"><code>-ne</code></td><td align="left">æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ä¸ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› true</td><td align="left"><code>[ $a -ne $b ] </code>è¿”å› true</td></tr><tr><td align="left"><code>-gt</code></td><td align="left">æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left"><code>[ $a -gt $b ] </code>è¿”å› false</td></tr><tr><td align="left"><code>-lt</code></td><td align="left">æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left"><code>[ $a -lt $b ]</code> è¿”å› true</td></tr><tr><td align="left"><code>-ge</code></td><td align="left">æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left"><code>[ $a -ge $b ]</code> è¿”å› false</td></tr><tr><td align="left"><code>-le</code></td><td align="left">æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left"><code>[ $a -le $b ]</code> è¿”å› true</td></tr></tbody></table><h3 id="å¸ƒå°”è¿ç®—ç¬¦"><a href="#å¸ƒå°”è¿ç®—ç¬¦" class="headerlink" title="å¸ƒå°”è¿ç®—ç¬¦"></a>å¸ƒå°”è¿ç®—ç¬¦</h3><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å¸ƒå°”è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š</p><table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">è¯´æ˜</th><th align="left">ä¸¾ä¾‹</th></tr></thead><tbody><tr><td align="left">!</td><td align="left">éè¿ç®—ï¼Œè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› falseï¼Œå¦åˆ™è¿”å› true</td><td align="left"><code>[ ! false ] </code>è¿”å› true</td></tr><tr><td align="left">-o</td><td align="left">æˆ–è¿ç®—ï¼Œæœ‰ä¸€ä¸ªè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› true</td><td align="left"><code>[ $a -lt 20 -o $b -gt 100 ] </code>è¿”å› true</td></tr><tr><td align="left">-a</td><td align="left">ä¸è¿ç®—ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼éƒ½ä¸º true æ‰è¿”å› true</td><td align="left"><code>[ $a -lt 20 -a $b -gt 100 ]</code>è¿”å› false</td></tr></tbody></table><p><strong>æ³¨æ„ï¼šå®é™…ä½¿ç”¨<code>!</code>æ—¶ï¼Œé‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œä½¿ç”¨æ—¶éœ€è¦å¤šåŠ å°å¿ƒ</strong></p><h3 id="é€»è¾‘è¿ç®—ç¬¦"><a href="#é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦</h3><p>ä»¥ä¸‹ä»‹ç» Shell çš„é€»è¾‘è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20:</p><table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">è¯´æ˜</th><th align="left">ä¸¾ä¾‹</th></tr></thead><tbody><tr><td align="left"><code>&amp;&amp;</code></td><td align="left">é€»è¾‘çš„ AND</td><td align="left"><code>[[ $a -lt 100 &amp;&amp; $b -gt 100 ]] </code>è¿”å› false</td></tr><tr><td align="left">&#96;</td><td align="left"></td><td align="left">&#96;</td></tr></tbody></table><h3 id="å­—ç¬¦ä¸²è¿ç®—ç¬¦"><a href="#å­—ç¬¦ä¸²è¿ç®—ç¬¦" class="headerlink" title="å­—ç¬¦ä¸²è¿ç®—ç¬¦"></a>å­—ç¬¦ä¸²è¿ç®—ç¬¦</h3><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å­—ç¬¦ä¸²è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º <code>&quot;abc&quot;</code>ï¼Œå˜é‡ b ä¸º <code>&quot;efg&quot;</code>ï¼š</p><table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">è¯´æ˜</th><th align="left">ä¸¾ä¾‹</th></tr></thead><tbody><tr><td align="left">&#x3D;</td><td align="left">æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› true</td><td align="left">[ $a &#x3D; $b ] è¿”å› false</td></tr><tr><td align="left">!&#x3D;</td><td align="left">æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› true</td><td align="left">[ $a !&#x3D; $b ] è¿”å› true</td></tr><tr><td align="left">-z</td><td align="left">æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸º0è¿”å› true</td><td align="left">[ -z $a ] è¿”å› false</td></tr><tr><td align="left">-n</td><td align="left">æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸ä¸º 0ï¼Œä¸ä¸º 0 è¿”å› true</td><td align="left">[ -n â€œ$aâ€ ] è¿”å› true</td></tr><tr><td align="left">$</td><td align="left">æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ä¸ºç©ºï¼Œä¸ä¸ºç©ºè¿”å› true</td><td align="left">[ $a ] è¿”å› true</td></tr></tbody></table><h3 id="æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"><a href="#æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦" class="headerlink" title="æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"></a>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦</h3><p>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦ç”¨äºæ£€æµ‹ Unix æ–‡ä»¶çš„å„ç§å±æ€§ï¼Œå±æ€§æ£€æµ‹æè¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th align="left">æ“ä½œç¬¦</th><th align="left">è¯´æ˜</th><th align="left">ä¸¾ä¾‹</th></tr></thead><tbody><tr><td align="left">-b file</td><td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left">[ -b $file ] è¿”å› false</td></tr><tr><td align="left">-c file</td><td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left">[ -c $file ] è¿”å› false</td></tr><tr><td align="left">-d file</td><td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left">[ -d $file ] è¿”å› false</td></tr><tr><td align="left">-f file</td><td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æ™®é€šæ–‡ä»¶ï¼ˆæ—¢ä¸æ˜¯ç›®å½•ï¼Œä¹Ÿä¸æ˜¯è®¾å¤‡æ–‡ä»¶ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left">[ -f $file ] è¿”å› true</td></tr><tr><td align="left">-g file</td><td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† <code>SGID ä½</code>ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left">[ -g $file ] è¿”å› false</td></tr><tr><td align="left">-k file</td><td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº†<code>ç²˜ç€ä½(Sticky Bit)</code>ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left">[ -k $file ] è¿”å› false</td></tr><tr><td align="left">-p file</td><td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æœ‰åç®¡é“ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left">[ -p $file ] è¿”å› false</td></tr><tr><td align="left">-u file</td><td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† <code>SUID ä½</code>ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left">[ -u $file ] è¿”å› false</td></tr><tr><td align="left">-r file</td><td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left">[ -r $file ] è¿”å› true</td></tr><tr><td align="left">-w file</td><td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left">[ -w $file ] è¿”å› true</td></tr><tr><td align="left">-x file</td><td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left">[ -x $file ] è¿”å› true</td></tr><tr><td align="left">-s file</td><td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äº0ï¼‰ï¼Œä¸ä¸ºç©ºè¿”å› true</td><td align="left">[ -s $file ] è¿”å› true</td></tr><tr><td align="left">-e file</td><td align="left">æ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td><td align="left">[ -e $file ] è¿”å› true</td></tr></tbody></table><p>å…¶ä»–æ£€æŸ¥ç¬¦ï¼š</p><ul><li><code>-S</code>: åˆ¤æ–­æŸæ–‡ä»¶æ˜¯å¦ socket</li><li><code>-L</code>: æ£€æµ‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨å¹¶ä¸”æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥</li></ul><h3 id="è‡ªå¢å’Œè‡ªå‡æ“ä½œç¬¦"><a href="#è‡ªå¢å’Œè‡ªå‡æ“ä½œç¬¦" class="headerlink" title="è‡ªå¢å’Œè‡ªå‡æ“ä½œç¬¦"></a>è‡ªå¢å’Œè‡ªå‡æ“ä½œç¬¦</h3><p>å°½ç®¡ Shell æœ¬èº«æ²¡æœ‰åƒ Cã€C++ æˆ– Java é‚£æ ·çš„ ++ å’Œ â€“ æ“ä½œç¬¦ï¼Œä½†å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„æ–¹æ³•ï¼š</p><p><code>let å‘½ä»¤</code>å…è®¸å¯¹æ•´æ•°è¿›è¡Œç®—æœ¯è¿ç®—</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">åˆå§‹åŒ–å˜é‡</span><br>num=5<br><span class="hljs-meta prompt_"># </span><span class="language-bash">è‡ªå¢</span><br>let num++<br><span class="hljs-meta prompt_"># </span><span class="language-bash">è‡ªå‡</span><br>let num--<br>echo $num<br></code></pre></td></tr></table></figure><p><code>$(( )) è¯­æ³•</code> ä¹Ÿæ˜¯è¿›è¡Œç®—æœ¯è¿ç®—çš„ä¸€ç§æ–¹å¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">åˆå§‹åŒ–å˜é‡</span><br>num=5<br><span class="hljs-meta prompt_"># </span><span class="language-bash">è‡ªå¢</span><br>num=$((num + 1)) # num=$[num + 1]<br><span class="hljs-meta prompt_"># </span><span class="language-bash">è‡ªå‡</span><br>num=$((num - 1)) # num=$[num - 1]<br>echo $num<br></code></pre></td></tr></table></figure><p><code>expr</code> å‘½ä»¤å¯ä»¥ç”¨äºç®—æœ¯è¿ç®—ï¼Œä½†åœ¨ç°ä»£è„šæœ¬ä¸­ä¸å¦‚ <code>let</code> å’Œ <code>$(( ))</code> å¸¸ç”¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">åˆå§‹åŒ–å˜é‡</span><br>num=5<br><span class="hljs-meta prompt_"># </span><span class="language-bash">è‡ªå¢</span><br>num=$(expr $num + 1) # num=`expr $num + 1`<br><span class="hljs-meta prompt_"># </span><span class="language-bash">è‡ªå‡</span><br>num=$(expr $num - 1) # num=`expr $num - 1`<br>echo $num<br></code></pre></td></tr></table></figure><h2 id="Shell-echoå‘½ä»¤"><a href="#Shell-echoå‘½ä»¤" class="headerlink" title="Shell echoå‘½ä»¤"></a>Shell echoå‘½ä»¤</h2><p>Shell çš„ echo æŒ‡ä»¤ç”¨äºå­—ç¬¦ä¸²çš„è¾“å‡ºï¼Œå‘½ä»¤æ ¼å¼ï¼š<code>echo string</code>ï¼Œå¯ä»¥ä½¿ç”¨echoå®ç°æ›´å¤æ‚çš„è¾“å‡ºæ ¼å¼æ§åˆ¶</p><h3 id="æ˜¾ç¤ºæ™®é€šå­—ç¬¦ä¸²"><a href="#æ˜¾ç¤ºæ™®é€šå­—ç¬¦ä¸²" class="headerlink" title="æ˜¾ç¤ºæ™®é€šå­—ç¬¦ä¸²"></a>æ˜¾ç¤ºæ™®é€šå­—ç¬¦ä¸²</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">echo &quot;It is a test&quot;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„åŒå¼•å·å®Œå…¨å¯ä»¥çœç•¥ï¼Œä»¥ä¸‹å‘½ä»¤ä¸ä¸Šé¢å®ä¾‹æ•ˆæœä¸€è‡´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">echo It is a test<br></code></pre></td></tr></table></figure><h3 id="æ˜¾ç¤ºè½¬ä¹‰å­—ç¬¦"><a href="#æ˜¾ç¤ºè½¬ä¹‰å­—ç¬¦" class="headerlink" title="æ˜¾ç¤ºè½¬ä¹‰å­—ç¬¦"></a>æ˜¾ç¤ºè½¬ä¹‰å­—ç¬¦</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">echo &quot;\&quot;It is a test\&quot;&quot;<br></code></pre></td></tr></table></figure><p>ç»“æœä¸º<code>&quot;It is a test&quot;</code>ï¼ŒåŒæ ·ï¼ŒåŒå¼•å·ä¹Ÿå¯ä»¥çœç•¥</p><h3 id="æ˜¾ç¤ºå˜é‡"><a href="#æ˜¾ç¤ºå˜é‡" class="headerlink" title="æ˜¾ç¤ºå˜é‡"></a>æ˜¾ç¤ºå˜é‡</h3><p><code>read å‘½ä»¤</code>ä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–ä¸€è¡Œ,å¹¶æŠŠè¾“å…¥è¡Œçš„æ¯ä¸ªå­—æ®µçš„å€¼æŒ‡å®šç»™ shell å˜é‡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/sh</span><br>read name <br>echo &quot;$name It is a test&quot;<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä¿å­˜ä¸º test.shï¼Œname æ¥æ”¶æ ‡å‡†è¾“å…¥çš„å˜é‡ï¼Œç»“æœå°†æ˜¯:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">[root@www ~]# sh test.sh<br>OK                     #æ ‡å‡†è¾“å…¥<br>OK It is a test        #è¾“å‡º<br></code></pre></td></tr></table></figure><h3 id="æ˜¾ç¤ºæ¢è¡Œ"><a href="#æ˜¾ç¤ºæ¢è¡Œ" class="headerlink" title="æ˜¾ç¤ºæ¢è¡Œ"></a>æ˜¾ç¤ºæ¢è¡Œ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">echo -e &quot;OK! \n&quot; # -e å¼€å¯è½¬ä¹‰<br>echo &quot;It is a test&quot;<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">OK!<br><br>It is a test<br></code></pre></td></tr></table></figure><h3 id="æ˜¾ç¤ºä¸æ¢è¡Œ"><a href="#æ˜¾ç¤ºä¸æ¢è¡Œ" class="headerlink" title="æ˜¾ç¤ºä¸æ¢è¡Œ"></a>æ˜¾ç¤ºä¸æ¢è¡Œ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">echo -e &quot;OK! \c&quot; # -e å¼€å¯è½¬ä¹‰ \c ä¸æ¢è¡Œ<br>echo &quot;It is a test&quot;<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">OK! It is a test<br></code></pre></td></tr></table></figure><h3 id="æ˜¾ç¤ºç»“æœå®šå‘è‡³æ–‡ä»¶"><a href="#æ˜¾ç¤ºç»“æœå®šå‘è‡³æ–‡ä»¶" class="headerlink" title="æ˜¾ç¤ºç»“æœå®šå‘è‡³æ–‡ä»¶"></a>æ˜¾ç¤ºç»“æœå®šå‘è‡³æ–‡ä»¶</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">echo &quot;It is a test&quot; &gt; myfile<br></code></pre></td></tr></table></figure><h3 id="åŸæ ·è¾“å‡ºå­—ç¬¦ä¸²ï¼Œä¸è¿›è¡Œè½¬ä¹‰æˆ–å–å˜é‡-ç”¨å•å¼•å·"><a href="#åŸæ ·è¾“å‡ºå­—ç¬¦ä¸²ï¼Œä¸è¿›è¡Œè½¬ä¹‰æˆ–å–å˜é‡-ç”¨å•å¼•å·" class="headerlink" title="åŸæ ·è¾“å‡ºå­—ç¬¦ä¸²ï¼Œä¸è¿›è¡Œè½¬ä¹‰æˆ–å–å˜é‡(ç”¨å•å¼•å·)"></a>åŸæ ·è¾“å‡ºå­—ç¬¦ä¸²ï¼Œä¸è¿›è¡Œè½¬ä¹‰æˆ–å–å˜é‡(ç”¨å•å¼•å·)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">echo &#x27;$name\&quot;&#x27;<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$</span><span class="language-bash">name\&quot;</span><br></code></pre></td></tr></table></figure><h3 id="æ˜¾ç¤ºå‘½ä»¤ç»“æœ"><a href="#æ˜¾ç¤ºå‘½ä»¤ç»“æœ" class="headerlink" title="æ˜¾ç¤ºå‘½ä»¤ç»“æœ"></a>æ˜¾ç¤ºå‘½ä»¤ç»“æœ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">echo `date`<br></code></pre></td></tr></table></figure><p>ç»“æœå°†æ˜¾ç¤ºå½“å‰æ—¥æœŸ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">Mon Dec 16 15:45:30 UTC 2024<br></code></pre></td></tr></table></figure><h2 id="Shell-printf-å‘½ä»¤"><a href="#Shell-printf-å‘½ä»¤" class="headerlink" title="Shell printf å‘½ä»¤"></a>Shell printf å‘½ä»¤</h2><p>Shell çš„å¦ä¸€ä¸ªè¾“å‡ºå‘½ä»¤ <code>printf</code>ï¼š<code>printf å‘½ä»¤</code>æ¨¡ä»¿ C ç¨‹åºåº“ï¼ˆlibraryï¼‰é‡Œçš„ <code>printf() ç¨‹åº</code></p><p><code>printf</code> ç”± POSIX æ ‡å‡†æ‰€å®šä¹‰ï¼Œå› æ­¤ä½¿ç”¨ <code>printf</code> çš„è„šæœ¬æ¯”ä½¿ç”¨ <code>echo</code> ç§»æ¤æ€§å¥½</p><p><code>printf </code>ä½¿ç”¨å¼•ç”¨æ–‡æœ¬æˆ–ç©ºæ ¼åˆ†éš”çš„å‚æ•°ï¼Œå¤–é¢å¯ä»¥åœ¨ <code>printf</code> ä¸­ä½¿ç”¨æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥åˆ¶å®šå­—ç¬¦ä¸²çš„å®½åº¦ã€å·¦å³å¯¹é½æ–¹å¼ç­‰</p><p>é»˜è®¤çš„ <code>printf </code>ä¸ä¼šåƒ <code>echo</code> è‡ªåŠ¨æ·»åŠ æ¢è¡Œç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ·»åŠ  <code>\n</code>ï¼Œ<code>printf å‘½ä»¤</code>çš„è¯­æ³•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">printf  format-string  [arguments...]<br></code></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>format-string</code> :ä¸€ä¸ªæ ¼å¼å­—ç¬¦ä¸²ï¼Œå®ƒåŒ…å«æ™®é€šæ–‡æœ¬å’Œæ ¼å¼è¯´æ˜ç¬¦</li><li><code>arguments</code>: ç”¨äºå¡«å……æ ¼å¼è¯´æ˜ç¬¦çš„å‚æ•°åˆ—è¡¨</li></ul><p>æ ¼å¼è¯´æ˜ç¬¦ç”± <code>% å­—ç¬¦</code>å¼€å§‹ï¼Œåè·Ÿä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œç”¨äºæŒ‡å®šè¾“å‡ºçš„æ ¼å¼ï¼Œå¸¸ç”¨çš„æ ¼å¼è¯´æ˜ç¬¦åŒ…æ‹¬ï¼š</p><ul><li><code>%s</code>ï¼šå­—ç¬¦ä¸²</li><li><code>%d</code>ï¼šåè¿›åˆ¶æ•´æ•°</li><li><code>%f</code>ï¼šæµ®ç‚¹æ•°</li><li><code>%c</code>ï¼šå­—ç¬¦</li><li><code>%x</code>ï¼šåå…­è¿›åˆ¶æ•°</li><li><code>%o</code>ï¼šå…«è¿›åˆ¶æ•°</li><li><code>%b</code>ï¼šäºŒè¿›åˆ¶æ•°</li><li><code>%e</code>ï¼šç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºçš„æµ®ç‚¹æ•°</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">printf &quot;%-10s %-8s %-4s\n&quot; å§“å æ€§åˆ« ä½“é‡kg  <br>printf &quot;%-10s %-8s %-4.2f\n&quot; éƒ­é– ç”· 66.1234 <br>printf &quot;%-10s %-8s %-4.2f\n&quot; æ¨è¿‡ ç”· 48.6543 <br>printf &quot;%-10s %-8s %-4.2f\n&quot; éƒ­èŠ™ å¥³ 47.9876<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">å§“å     æ€§åˆ«   ä½“é‡kg<br>éƒ­é–     ç”·      66.12<br>æ¨è¿‡     ç”·      48.65<br>éƒ­èŠ™     å¥³      47.99<br></code></pre></td></tr></table></figure><p><code>%s %c %d %f</code> éƒ½æ˜¯æ ¼å¼æ›¿ä»£ç¬¦ï¼Œ<code>ï¼…s</code> è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ<code>ï¼…d</code> æ•´å‹è¾“å‡ºï¼Œ<code>ï¼…c</code> è¾“å‡ºä¸€ä¸ªå­—ç¬¦ï¼Œ<code>ï¼…f</code> è¾“å‡ºå®æ•°ï¼Œä»¥å°æ•°å½¢å¼è¾“å‡º</p><p><code>%-10s</code> æŒ‡ä¸€ä¸ªå®½åº¦ä¸º 10 ä¸ªå­—ç¬¦ï¼ˆ<code>-</code> è¡¨ç¤ºå·¦å¯¹é½ï¼Œæ²¡æœ‰åˆ™è¡¨ç¤ºå³å¯¹é½ï¼‰ï¼Œä»»ä½•å­—ç¬¦éƒ½ä¼šè¢«æ˜¾ç¤ºåœ¨ 10 ä¸ªå­—ç¬¦å®½çš„å­—ç¬¦å†…ï¼Œå¦‚æœä¸è¶³åˆ™è‡ªåŠ¨ä»¥ç©ºæ ¼å¡«å……ï¼Œè¶…è¿‡ä¹Ÿä¼šå°†å†…å®¹å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥ï¼ˆï¼‰</p><p><code>%-4.2f</code> æŒ‡æ ¼å¼åŒ–ä¸ºå°æ•°ï¼Œå…¶ä¸­ <code>.2</code> æŒ‡ä¿ç•™ 2 ä½å°æ•°</p><p><code>printf</code> çš„è½¬ä¹‰åºåˆ—ï¼š</p><table><thead><tr><th align="left">åºåˆ—</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">\a</td><td align="left">è­¦å‘Šå­—ç¬¦ï¼Œé€šå¸¸ä¸ºASCIIçš„BELå­—ç¬¦</td></tr><tr><td align="left">\b</td><td align="left">åé€€</td></tr><tr><td align="left">\c</td><td align="left">æŠ‘åˆ¶ï¼ˆä¸æ˜¾ç¤ºï¼‰è¾“å‡ºç»“æœä¸­ä»»ä½•ç»“å°¾çš„æ¢è¡Œå­—ç¬¦ï¼ˆåªåœ¨%bæ ¼å¼æŒ‡ç¤ºç¬¦æ§åˆ¶ä¸‹çš„å‚æ•°å­—ç¬¦ä¸²ä¸­æœ‰æ•ˆï¼‰ï¼Œè€Œä¸”ï¼Œä»»ä½•ç•™åœ¨å‚æ•°é‡Œçš„å­—ç¬¦ã€ä»»ä½•æ¥ä¸‹æ¥çš„å‚æ•°ä»¥åŠä»»ä½•ç•™åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œéƒ½è¢«å¿½ç•¥</td></tr><tr><td align="left">\f</td><td align="left">æ¢é¡µï¼ˆ<code>formfeed</code>ï¼‰</td></tr><tr><td align="left">\n</td><td align="left">æ¢è¡Œ</td></tr><tr><td align="left">\r</td><td align="left">å›è½¦ï¼ˆ<code>Carriage return</code>ï¼‰</td></tr><tr><td align="left">\t</td><td align="left">æ°´å¹³åˆ¶è¡¨ç¬¦</td></tr><tr><td align="left">\v</td><td align="left">å‚ç›´åˆ¶è¡¨ç¬¦</td></tr><tr><td align="left">\</td><td align="left">ä¸€ä¸ªå­—é¢ä¸Šçš„åæ–œæ å­—ç¬¦</td></tr><tr><td align="left"><code>\ddd</code></td><td align="left">è¡¨ç¤º1åˆ°3ä½æ•°å…«è¿›åˆ¶å€¼çš„å­—ç¬¦ï¼Œä»…åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­æœ‰æ•ˆ</td></tr><tr><td align="left"><code>\0ddd</code></td><td align="left">è¡¨ç¤º1åˆ°3ä½çš„å…«è¿›åˆ¶å€¼å­—ç¬¦</td></tr></tbody></table><h2 id="Shell-test-å‘½ä»¤"><a href="#Shell-test-å‘½ä»¤" class="headerlink" title="Shell test å‘½ä»¤"></a>Shell test å‘½ä»¤</h2><p>Shellä¸­çš„ test å‘½ä»¤ç”¨äºæ£€æŸ¥æŸä¸ªæ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œå®ƒå¯ä»¥è¿›è¡Œæ•°å€¼ã€å­—ç¬¦å’Œæ–‡ä»¶ä¸‰ä¸ªæ–¹é¢çš„æµ‹è¯•</p><h3 id="æ•°å€¼æµ‹è¯•"><a href="#æ•°å€¼æµ‹è¯•" class="headerlink" title="æ•°å€¼æµ‹è¯•"></a>æ•°å€¼æµ‹è¯•</h3><table><thead><tr><th align="left">å‚æ•°</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><code>-eq</code></td><td align="left">ç­‰äºåˆ™ä¸ºçœŸ</td></tr><tr><td align="left"><code>-ne</code></td><td align="left">ä¸ç­‰äºåˆ™ä¸ºçœŸ</td></tr><tr><td align="left"><code>-gt</code></td><td align="left">å¤§äºåˆ™ä¸ºçœŸ</td></tr><tr><td align="left"><code>-ge</code></td><td align="left">å¤§äºç­‰äºåˆ™ä¸ºçœŸ</td></tr><tr><td align="left"><code>-lt</code></td><td align="left">å°äºåˆ™ä¸ºçœŸ</td></tr><tr><td align="left"><code>-le</code></td><td align="left">å°äºç­‰äºåˆ™ä¸ºçœŸ</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">num1=100<br>num2=100<br>if test $[num1] -eq $[num2] # if test $num1 -eq $num2 ä¹Ÿå¯ä»¥<br>then<br>    echo &#x27;ä¸¤ä¸ªæ•°ç›¸ç­‰ï¼&#x27;<br>else<br>    echo &#x27;ä¸¤ä¸ªæ•°ä¸ç›¸ç­‰ï¼&#x27;<br>fi<br></code></pre></td></tr></table></figure><p>ä»£ç ä¸­çš„ <code>[]</code> æ‰§è¡ŒåŸºæœ¬çš„ç®—æ•°è¿ç®—</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">a=5<br>b=6<br><br>result=$[a+b] # è¿™ç§å†™æ³•ä¸å¯ä»¥ä¹˜æ³•ï¼Œå››åˆ™è¿ç®—ç¬¦ä¸¤è¾¹å¯ä»¥æœ‰ç©ºæ ¼ï¼Œå¯ä»¥æŠŠaæ¢ä¹˜$aï¼ˆbä¹Ÿä¸€æ ·ï¼‰<br>echo &quot;result ä¸ºï¼š $result&quot;<br></code></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²æµ‹è¯•"><a href="#å­—ç¬¦ä¸²æµ‹è¯•" class="headerlink" title="å­—ç¬¦ä¸²æµ‹è¯•"></a>å­—ç¬¦ä¸²æµ‹è¯•</h3><table><thead><tr><th align="left">å‚æ•°</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">&#x3D;</td><td align="left">ç­‰äºåˆ™ä¸ºçœŸ</td></tr><tr><td align="left">!&#x3D;</td><td align="left">ä¸ç›¸ç­‰åˆ™ä¸ºçœŸ</td></tr><tr><td align="left">-z å­—ç¬¦ä¸²</td><td align="left">å­—ç¬¦ä¸²çš„é•¿åº¦ä¸ºé›¶åˆ™ä¸ºçœŸ</td></tr><tr><td align="left">-n å­—ç¬¦ä¸²</td><td align="left">å­—ç¬¦ä¸²çš„é•¿åº¦ä¸ä¸ºé›¶åˆ™ä¸ºçœŸ</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">num1=&quot;b907&quot;<br>num2=&quot;b908&quot;<br>if test $num1 = $num2<br>then<br>    echo &#x27;ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰!&#x27;<br>else<br>    echo &#x27;ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ç›¸ç­‰!&#x27;<br>fi<br></code></pre></td></tr></table></figure><h3 id="æ–‡ä»¶æµ‹è¯•"><a href="#æ–‡ä»¶æµ‹è¯•" class="headerlink" title="æ–‡ä»¶æµ‹è¯•"></a>æ–‡ä»¶æµ‹è¯•</h3><table><thead><tr><th align="left">å‚æ•°</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">-e æ–‡ä»¶å</td><td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨åˆ™ä¸ºçœŸ</td></tr><tr><td align="left">-r æ–‡ä»¶å</td><td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”å¯è¯»åˆ™ä¸ºçœŸ</td></tr><tr><td align="left">-w æ–‡ä»¶å</td><td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”å¯å†™åˆ™ä¸ºçœŸ</td></tr><tr><td align="left">-x æ–‡ä»¶å</td><td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”å¯æ‰§è¡Œåˆ™ä¸ºçœŸ</td></tr><tr><td align="left">-s æ–‡ä»¶å</td><td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦åˆ™ä¸ºçœŸ</td></tr><tr><td align="left">-d æ–‡ä»¶å</td><td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºç›®å½•åˆ™ä¸ºçœŸ</td></tr><tr><td align="left">-f æ–‡ä»¶å</td><td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºæ™®é€šæ–‡ä»¶åˆ™ä¸ºçœŸ</td></tr><tr><td align="left">-c æ–‡ä»¶å</td><td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºå­—ç¬¦å‹ç‰¹æ®Šæ–‡ä»¶åˆ™ä¸ºçœŸ</td></tr><tr><td align="left">-b æ–‡ä»¶å</td><td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºå—ç‰¹æ®Šæ–‡ä»¶åˆ™ä¸ºçœŸ</td></tr></tbody></table><p>å¦å¤–ï¼ŒShell è¿˜æä¾›äº†ä¸( -a )ã€æˆ–( -o )ã€é( ! )ä¸‰ä¸ªé€»è¾‘æ“ä½œç¬¦ç”¨äºå°†æµ‹è¯•æ¡ä»¶è¿æ¥èµ·æ¥ï¼Œå…¶ä¼˜å…ˆçº§ä¸ºï¼š ! æœ€é«˜ï¼Œ -a æ¬¡ä¹‹ï¼Œ -o æœ€ä½</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Shell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux å¸¸ç”¨å‘½ä»¤</title>
    <link href="/2024/11/06/Linux%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2024/11/06/Linux%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<h2 id="å‡ ä¸ªå¸¸ç”¨å‘½ä»¤"><a href="#å‡ ä¸ªå¸¸ç”¨å‘½ä»¤" class="headerlink" title="å‡ ä¸ªå¸¸ç”¨å‘½ä»¤"></a>å‡ ä¸ªå¸¸ç”¨å‘½ä»¤</h2><table><thead><tr><th>å‘½ä»¤</th><th>å¯¹åº”è‹±æ–‡</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>ls</td><td>list</td><td>æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„å†…å®¹</td></tr><tr><td>pwd</td><td>print work directory</td><td>æŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•</td></tr><tr><td>cd [ç›®å½•å]</td><td>change directory</td><td>åˆ‡æ¢ç›®å½•</td></tr><tr><td>touch [æ–‡ä»¶å]</td><td>touch</td><td>å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ–°å»ºæ–‡ä»¶</td></tr><tr><td>mkdir [ç›®å½•å]</td><td>make directory</td><td>åˆ›å»ºç›®å½•</td></tr><tr><td>rm [æ–‡ä»¶å]</td><td>remove</td><td>åˆ é™¤æŒ‡å®šæ–‡ä»¶</td></tr><tr><td>clear</td><td>clear</td><td>æ¸…å±</td></tr></tbody></table><p><strong>æ³¨æ„ï¼š</strong>åœ¨æ‰§è¡ŒLinuxå‘½ä»¤æ—¶ï¼Œæç¤ºä¿¡æ¯å¦‚æœæ˜¾ç¤ºä¸ºä¹±ç ï¼Œåˆ™æ˜¯ç”±äºç¼–ç é—®é¢˜å¯¼è‡´ï¼Œåªéœ€è¦ä¿®æ”¹Linuxçš„ç¼–ç å³å¯ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;LANG=&quot;en_US.UTF-8&quot;&#x27;</span> &gt;&gt; /etc/profile<br><span class="hljs-built_in">source</span> /etc/profile<br></code></pre></td></tr></table></figure><p><strong>ä½¿ç”¨æŠ€å·§ï¼š</strong></p><ul><li>Tabé”® è‡ªåŠ¨è¡¥å…¨</li><li>è¿æŒ‰ä¸¤æ¬¡ Tabé”® ï¼Œç»™å‡ºæ“ä½œæç¤º</li><li>ä½¿ç”¨ ä¸Šä¸‹ç®­å¤´ å¿«é€Ÿè°ƒå‡ºæ›¾ç»ä½¿ç”¨è¿‡çš„å‘½ä»¤</li><li>ä½¿ç”¨ clearå‘½ä»¤ æˆ–è€… Ctrl+l å¿«æ·é”®å®ç°æ¸…å±</li></ul><p><strong>Linuxå‘½ä»¤æ ¼å¼ï¼š</strong> command [-options] [parameter]ï¼Œ<strong>è¯´æ˜:</strong></p><ul><li>commanidï¼šå‘½ä»¤å</li><li>[-options]ï¼šé€‰é¡¹ï¼Œå¯ç”¨æ¥å¯¹å‘½ä»¤è¿›è¡Œæ§åˆ¶ï¼Œä¹Ÿå¯ä»¥çœç•¥</li><li>[parameter]ï¼šä¼ ç»™å‘½ä»¤çš„å‚æ•°ï¼Œå¯ä»¥æ˜¯é›¶ä¸ªã€ä¸€ä¸ªæˆ–è€…å¤šä¸ª</li><li>[] ä»£è¡¨å¯é€‰</li><li>å‘½ä»¤åã€é€‰é¡¹ã€å‚æ•°ä¹‹é—´æœ‰ç©ºæ ¼è¿›è¡Œåˆ†éš”</li></ul><h2 id="æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤"><a href="#æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤" class="headerlink" title="æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤"></a>æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤</h2><h3 id="æ˜¾å¼æŒ‡å®šç›®å½•ä¸‹çš„å†…å®¹ï¼šls-al-dir"><a href="#æ˜¾å¼æŒ‡å®šç›®å½•ä¸‹çš„å†…å®¹ï¼šls-al-dir" class="headerlink" title="æ˜¾å¼æŒ‡å®šç›®å½•ä¸‹çš„å†…å®¹ï¼šls [-al] [dir]"></a>æ˜¾å¼æŒ‡å®šç›®å½•ä¸‹çš„å†…å®¹ï¼šls [-al] [dir]</h3><ul><li><p>-a æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶åŠç›®å½•ï¼ˆ.å¼€å¤´éšè—æ–‡ä»¶ä¹Ÿä¼šåˆ—å‡ºï¼‰</p></li><li><p>-l é™¤æ–‡ä»¶åç§°å¤–ï¼ŒåŒæ—¶å°†æ–‡ä»¶å‹æ€ï¼ˆdè¡¨ç¤ºç›®å½•ï¼Œ-è¡¨ç¤ºæ–‡ä»¶ï¼‰ã€æƒé™ã€æ‹¥æœ‰è€…ã€æ–‡ä»¶å¤§å°ç­‰ä¿¡æ¯è¯¦ç»†åˆ—å‡º</p></li><li><p>ls -l å¯ç®€å†™ä¸º ll</p></li></ul><h3 id="åˆ‡æ¢å½“å‰å·¥ä½œç›®å½•ï¼ˆè¿›å…¥æŒ‡å®šç›®å½•ï¼‰ï¼šcd-dirName"><a href="#åˆ‡æ¢å½“å‰å·¥ä½œç›®å½•ï¼ˆè¿›å…¥æŒ‡å®šç›®å½•ï¼‰ï¼šcd-dirName" class="headerlink" title="åˆ‡æ¢å½“å‰å·¥ä½œç›®å½•ï¼ˆè¿›å…¥æŒ‡å®šç›®å½•ï¼‰ï¼šcd [dirName]"></a>åˆ‡æ¢å½“å‰å·¥ä½œç›®å½•ï¼ˆè¿›å…¥æŒ‡å®šç›®å½•ï¼‰ï¼šcd [dirName]</h3><ul><li>~ è¡¨ç¤ºç”¨æˆ·çš„homeç›®å½•</li><li>. è¡¨ç¤ºç›®å‰æ‰€åœ¨çš„ç›®å½•</li><li>.. è¡¨ç¤ºç›®å‰ç›®å½•ä½ç½®çš„ä¸Šçº§ç›®å½•ï¼ˆç”¨çš„æ¯”è¾ƒå¤šï¼‰</li></ul><h3 id="ç”¨äºæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼šcat-n-fileName"><a href="#ç”¨äºæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼šcat-n-fileName" class="headerlink" title="ç”¨äºæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼šcat [-n] fileName"></a>ç”¨äºæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼šcat [-n] fileName</h3><ul><li>-n ç”±1å¼€å§‹å¯¹æ‰€æœ‰è¾“å‡ºçš„è¡Œæ•°ç¼–å·</li><li>cat &#x2F;etc&#x2F;profileï¼šæŸ¥çœ‹&#x2F;etcç›®å½•ä¸‹çš„profileæ–‡ä»¶å†…å®¹</li></ul><h3 id="ä»¥åˆ†é¡µçš„å½¢å¼æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼šmore-fileName"><a href="#ä»¥åˆ†é¡µçš„å½¢å¼æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼šmore-fileName" class="headerlink" title="ä»¥åˆ†é¡µçš„å½¢å¼æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼šmore fileName"></a>ä»¥åˆ†é¡µçš„å½¢å¼æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼šmore fileName</h3><ul><li>å›è½¦é”® å‘ä¸‹æ»šåŠ¨ä¸€è¡Œ</li><li>ç©ºæ ¼é”® å‘ä¸‹æ»šåŠ¨ä¸€å±</li><li>b è¿”å›ä¸Šä¸€å±</li><li>qæˆ–è€…Ctrl+C æ¨å‡ºmore</li></ul><h3 id="æŸ¥çœ‹æ–‡ä»¶æœ«å°¾çš„å†…å®¹ï¼štail-f-fileName"><a href="#æŸ¥çœ‹æ–‡ä»¶æœ«å°¾çš„å†…å®¹ï¼štail-f-fileName" class="headerlink" title="æŸ¥çœ‹æ–‡ä»¶æœ«å°¾çš„å†…å®¹ï¼štail [-f] fileName"></a>æŸ¥çœ‹æ–‡ä»¶æœ«å°¾çš„å†…å®¹ï¼štail [-f] fileName</h3><ul><li>-f åŠ¨æ€è¯»å–æ–‡ä»¶æœ«å°¾å†…å®¹å¹¶æ˜¾ç¤ºï¼Œé€šå¸¸ç”¨äºæ—¥å¿—æ–‡ä»¶çš„å†…è¾“å‡º</li><li>tail &#x2F;etc&#x2F;profileï¼šæ˜¾ç¤º&#x2F;etcç›®å½•ä¸‹çš„profileæ–‡ä»¶æœ«å°¾10è¡Œçš„å†…å®¹</li><li>tail -20 &#x2F;etc&#x2F;profileï¼šæ˜¾ç¤º&#x2F;etcç›®å½•ä¸‹çš„profileæ–‡ä»¶æœ«å°¾20è¡Œçš„å†…å®¹</li><li>tail -f &#x2F;itcast&#x2F;my.logï¼šåŠ¨æ€è¯»å–&#x2F;itcastç›®å½•ä¸‹çš„my.logæ–‡ä»¶æœ«å°¾å†…å®¹å¹¶æ˜¾ç¤º</li></ul><h3 id="åˆ›å»ºç›®å½•ï¼šmkdir-p-dirName"><a href="#åˆ›å»ºç›®å½•ï¼šmkdir-p-dirName" class="headerlink" title="åˆ›å»ºç›®å½•ï¼šmkdir [-p] dirName"></a>åˆ›å»ºç›®å½•ï¼šmkdir [-p] dirName</h3><ul><li>-p ç¡®ä¿ç›®å½•åç§°å­˜åœ¨ï¼Œä¸å­˜åœ¨å°±åˆ›å»ºä¸€ä¸ªã€‚é€šè¿‡æ­¤é€‰é¡¹ï¼Œå¯ä»¥å®ç°å¤šå±‚ç›®å½•åŒæ—¶åˆ›å»º</li><li>mkdir itcastï¼šåœ¨å½“å‰ç›®å½•ä¸‹ï¼Œå»ºç«‹ä¸€ä¸ªåä¸ºitcastçš„å­ç›®å½•</li><li>mkdir -pitcast&#x2F;testï¼šåœ¨å·¥ä½œç›®å½•ä¸‹çš„itcastç›®å½•ä¸­å»ºç«‹ä¸€ä¸ªåä¸ºtestçš„å­ç›®å½•ï¼Œè‹¥itcastç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™å»ºç«‹ä¸€ä¸ª</li></ul><h3 id="åˆ é™¤ç©ºç›®å½•ï¼šrmdir-p-dirName"><a href="#åˆ é™¤ç©ºç›®å½•ï¼šrmdir-p-dirName" class="headerlink" title="åˆ é™¤ç©ºç›®å½•ï¼šrmdir [-p] dirName"></a>åˆ é™¤ç©ºç›®å½•ï¼šrmdir [-p] dirName</h3><ul><li>-p å½“å­ç›®å½•è¢«åˆ é™¤åä½¿å¾—çˆ¶ç›®å½•ä¹Ÿä¸ºç©ºç›®å½•çš„è¯ï¼Œåˆ™ä¸€èµ·åˆ é™¤</li><li>rmdir itcast åˆ é™¤åä¸ºitcastçš„ç©ºç›®å½•</li><li>rmdir -pitcast&#x2F;testï¼šåˆ é™¤itcastç›®å½•ä¸­åä¸ºtestçš„å­ç›®å½•ï¼Œè‹¥testç›®å½•åˆ é™¤åitcastç›®å½•å˜ä¸ºç©ºç›®å½•ï¼Œåˆ™ä¹Ÿè¢«åˆ é™¤</li><li>rmdir itcast*ï¼šåˆ é™¤åç§°ä»¥itcastå¼€å§‹çš„ç©ºç›®å½•</li></ul><h3 id="åˆ é™¤æ–‡ä»¶æˆ–è€…ç›®å½•ï¼šrm-rf-name"><a href="#åˆ é™¤æ–‡ä»¶æˆ–è€…ç›®å½•ï¼šrm-rf-name" class="headerlink" title="åˆ é™¤æ–‡ä»¶æˆ–è€…ç›®å½•ï¼šrm [-rf] name"></a>åˆ é™¤æ–‡ä»¶æˆ–è€…ç›®å½•ï¼šrm [-rf] name</h3><ul><li>-r å°†ç›®å½•åŠç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶æˆ–ç›®å½•é€ä¸€åˆ é™¤ï¼Œå³é€’å½’åˆ é™¤</li><li>-f æ— éœ€ç¡®è®¤ï¼Œç›´æ¥åˆ é™¤</li><li>-r itcast&#x2F;ï¼šåˆ é™¤åä¸ºitcastçš„ç›®å½•å’Œç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶ï¼Œåˆ é™¤å‰éœ€ç¡®è®¤</li></ul><h2 id="æ‹·è´ç§»åŠ¨å‘½ä»¤"><a href="#æ‹·è´ç§»åŠ¨å‘½ä»¤" class="headerlink" title="æ‹·è´ç§»åŠ¨å‘½ä»¤"></a>æ‹·è´ç§»åŠ¨å‘½ä»¤</h2><h3 id="ç”¨äºå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ï¼šcp-r-source-dest"><a href="#ç”¨äºå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ï¼šcp-r-source-dest" class="headerlink" title="ç”¨äºå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ï¼šcp [-r] source dest"></a>ç”¨äºå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ï¼šcp [-r] source dest</h3><ul><li>-r å¦‚æœå¤åˆ¶çš„æ˜¯ç›®å½•éœ€è¦ï¼Œä½¿ç”¨æ­¤é€‰é¡¹ï¼Œæ­¤æ—¶å°†å¤åˆ¶è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶</li><li>cp hello.txt itcast&#x2F;ï¼šå°†hello.txtå¤åˆ¶åˆ°itcastç›®å½•ä¸­</li><li>cp hello.txt .&#x2F;hi.txtï¼šå°†hello.txtå¤åˆ¶åˆ°å½“å‰ç›®å½•ï¼Œå¹¶æ”¹åä¸ºhi.txt</li><li>cp -r itcast&#x2F; .&#x2F;itheima&#x2F;ï¼šå°†itcastç›®å½•å’Œç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°itheimaç›®å½•ä¸‹</li><li>cp -r itcast&#x2F;* .&#x2F;itheima&#x2F;ï¼š</li></ul><h3 id="ä¸ºæ–‡ä»¶æˆ–ç›®å½•æ”¹åã€æˆ–å°†æ–‡ä»¶æˆ–ç›®å½•ç§»åŠ¨åˆ°å…¶ä»–ä½ç½®ï¼šmv-source-dest"><a href="#ä¸ºæ–‡ä»¶æˆ–ç›®å½•æ”¹åã€æˆ–å°†æ–‡ä»¶æˆ–ç›®å½•ç§»åŠ¨åˆ°å…¶ä»–ä½ç½®ï¼šmv-source-dest" class="headerlink" title="ä¸ºæ–‡ä»¶æˆ–ç›®å½•æ”¹åã€æˆ–å°†æ–‡ä»¶æˆ–ç›®å½•ç§»åŠ¨åˆ°å…¶ä»–ä½ç½®ï¼šmv source dest"></a>ä¸ºæ–‡ä»¶æˆ–ç›®å½•æ”¹åã€æˆ–å°†æ–‡ä»¶æˆ–ç›®å½•ç§»åŠ¨åˆ°å…¶ä»–ä½ç½®ï¼šmv source dest</h3><ul><li>mv hello.txt hi.txtï¼šå°†hello.txtæ”¹åä¸ºhi.txt</li><li>mv hi.txt itheima&#x2F;ï¼šå°†æ–‡ä»¶hi.txtç§»åŠ¨åˆ°itheimaç›®å½•ä¸­</li><li>mv hi.txt itheima&#x2F;hello.txtï¼šå°†hi.txtç§»åŠ¨åˆ°itheimaç›®å½•ä¸­ï¼Œå¹¶æ”¹åä¸ºhello.txt</li><li>mv itcast&#x2F; itheima&#x2F;ï¼šå¦‚æœitheimaç›®å½•ä¸å­˜åœ¨ï¼Œå°†itcastç›®å½•æ”¹åä¸ºitheimaï¼›å¦‚æœitheimaç›®å½•å­˜åœ¨ï¼Œå°†itcastç›®å½•ç§»åŠ¨åˆ°itheimaç›®å½•ä¸­</li></ul><h2 id="æ‰“åŒ…å‹ç¼©å‘½ä»¤"><a href="#æ‰“åŒ…å‹ç¼©å‘½ä»¤" class="headerlink" title="æ‰“åŒ…å‹ç¼©å‘½ä»¤"></a>æ‰“åŒ…å‹ç¼©å‘½ä»¤</h2><h3 id="å¯¹æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ã€è§£åŒ…ã€å‹ç¼©ã€è§£å‹ï¼štar-zcxvf-fileName-åŒ…å-files-å¯¹å“ªäº›æ–‡ä»¶æ“ä½œ"><a href="#å¯¹æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ã€è§£åŒ…ã€å‹ç¼©ã€è§£å‹ï¼štar-zcxvf-fileName-åŒ…å-files-å¯¹å“ªäº›æ–‡ä»¶æ“ä½œ" class="headerlink" title="å¯¹æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ã€è§£åŒ…ã€å‹ç¼©ã€è§£å‹ï¼štar [-zcxvf] fileName(åŒ…å) [files] (å¯¹å“ªäº›æ–‡ä»¶æ“ä½œ)"></a>å¯¹æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ã€è§£åŒ…ã€å‹ç¼©ã€è§£å‹ï¼štar [-zcxvf] fileName(åŒ…å) [files] (å¯¹å“ªäº›æ–‡ä»¶æ“ä½œ)</h3><ul><li>åŒ…æ–‡ä»¶åç¼€ä¸º.tarè¡¨ç¤ºåªæ˜¯å®Œæˆäº†æ‰“åŒ…ï¼Œå¹¶æ²¡æœ‰å‹ç¼©</li><li>åŒ…æ–‡ä»¶åç¼€ä¸º.tar.gzè¡¨ç¤ºæ‰“åŒ…çš„åŒæ—¶è¿˜è¿›è¡Œäº†å‹ç¼©</li></ul><table><thead><tr><th>é€‰é¡¹</th><th>è‹±æ–‡</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>-z</td><td>gzip</td><td>é€šè¿‡gzipå‘½ä»¤å¤„ç†æ–‡ä»¶ï¼Œgzipå¯ä»¥å¯¹æ–‡ä»¶å‹ç¼©æˆ–è€…è§£å‹</td></tr><tr><td>-c</td><td>create</td><td>åˆ›å»ºæ–°çš„åŒ…æ–‡ä»¶</td></tr><tr><td>-x</td><td>extract</td><td>å®ç°ä»åŒ…æ–‡ä»¶ä¸­è¿˜åŸæ–‡ä»¶</td></tr><tr><td>-v</td><td>verbose</td><td>æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œè¿‡ç¨‹</td></tr><tr><td>-f</td><td>file</td><td>æŒ‡å®šåŒ…æ–‡ä»¶çš„åç§°</td></tr></tbody></table><h2 id="æ–‡æœ¬ç¼–è¾‘å‘½ä»¤"><a href="#æ–‡æœ¬ç¼–è¾‘å‘½ä»¤" class="headerlink" title="æ–‡æœ¬ç¼–è¾‘å‘½ä»¤"></a>æ–‡æœ¬ç¼–è¾‘å‘½ä»¤</h2><h3 id="vi-fileName"><a href="#vi-fileName" class="headerlink" title="vi fileName"></a>vi fileName</h3><ul><li>viå‘½ä»¤æ˜¯Linuxç³»ç»Ÿæä¾›çš„ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å·¥å…·ï¼Œå¯ä»¥å¯¹æ–‡ä»¶å†…å®¹è¿›è¡Œç¼–è¾‘ï¼Œç±»ä¼¼äºWindowsä¸­çš„è®°äº‹æœ¬</li></ul><h3 id="vim-fileName"><a href="#vim-fileName" class="headerlink" title="vim fileName"></a>vim fileName</h3><ul><li><p>vimæ˜¯ä»viå‘å±•æ¥çš„ä¸€ä¸ªåŠŸèƒ½æ›´åŠ å¼ºå¤§çš„æ–‡æœ¬ç¼–è¾‘å·¥å…·ï¼Œåœ¨ç¼–è¾‘æ–‡ä»¶æ—¶å¯ä»¥å¯¹æ–‡æœ¬å†…å®¹è¿›è¡Œç€è‰²ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¯¹æ–‡ä»¶è¿›è¡Œç¼–è¾‘å¤„ç†ï¼Œæ‰€ä»¥å®é™…å·¥ä½œä¸­vimæ›´åŠ å¸¸ç”¨</p></li><li><p>è¦ä½¿ç”¨vimå‘½ä»¤ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å®Œæˆå®‰è£…ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å®Œæˆå®‰è£…ï¼šyum install vim</p></li><li><p>åœ¨ä½¿ç”¨vimå‘½ä»¤ç¼–è¾‘æ–‡ä»¶æ—¶ï¼Œå¦‚æœæŒ‡å®šçš„æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™ç›´æ¥æ‰“å¼€æ­¤æ–‡ä»¶ï¼Œå¦‚æœæŒ‡å®šçš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™æ–°å»ºæ–‡ä»¶</p></li><li><p>vimåœ¨è¿›è¡Œæ–‡æœ¬ç¼–è¾‘æ—¶å…±åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼Œè¿™ä¸‰ç§æ¨¡å¼ä¹‹é—´å¯ä»¥ç›¸äº’åˆ‡æ¢ï¼Œåœ¨ä½¿ç”¨vimæ—¶ï¼Œä¸€å®šè¦æ³¨æ„æˆ‘ä»¬å½“å‰æ‰€å¤„çš„æ˜¯å“ªç§æ¨¡å¼ï¼š</p><ul><li>å‘½ä»¤æ¨¡å¼<ul><li>å‘½ä»¤æ¨¡å¼ä¸‹å¯ä»¥æŸ¥çœ‹æ–‡ä»¶å†…å®¹ã€ç§»åŠ¨å…‰æ ‡ï¼ˆä¸Šä¸‹å·¦å³ç®­å¤´ï¼Œggï¼šå¿«é€Ÿå°†å…‰æ ‡ç§»åŠ¨åˆ°å¼€å¤´ï¼ŒGï¼šå¿«é€Ÿå°†å…‰æ ‡ç§»åŠ¨åˆ°æœ«å°¾ï¼‰</li><li>é€šè¿‡vimå‘½ä»¤æ‰“å¼€æ–‡ä»¶åï¼Œé»˜è®¤è¿›å…¥å‘½ä»¤æ¨¡å¼</li><li>å¦å¤–ä¸¤ç§æ¨¡å¼éœ€è¦å…ˆè¿›å…¥å‘½ä»¤æ¨¡å¼ï¼Œæ‰èƒ½è¿›å…¥å½¼æ­¤</li></ul></li><li>æ’å…¥æ¨¡å¼<ul><li>æ’å…¥æ¨¡å¼ä¸‹å¯ä»¥å¯¹æ–‡ä»¶å†…å®¹è¿›è¡Œç¼–è¾‘</li><li>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼ŒæŒ‰ä¸‹iï¼Œaï¼Œoä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œå¯ä»¥è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œè¿›å…¥åï¼Œä¸‹æ–¹ä¼šå‡ºç° insert å­—æ ·</li><li>åœ¨æ’å…¥æ¨¡å¼ä¸‹æŒ‰ä¸‹ESCé”®ï¼Œå›åˆ°å‘½ä»¤æ¨¡å¼</li></ul></li><li>åº•è¡Œæ¨¡å¼<ul><li>åº•è¡Œæ¨¡å¼ä¸‹å¯ä»¥é€šè¿‡å‘½ä»¤å¯¹æ–‡ä»¶å†…å®¹è¿›è¡ŒæŸ¥æ‰¾ã€æ˜¾ç¤ºè¡Œå·ã€é€€å‡ºç­‰æ“ä½œ</li><li>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼ŒæŒ‰ä¸‹:ï¼Œ&#x2F;ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œå¯ä»¥è¿›å…¥åº•è¡Œæ¨¡å¼</li><li>é€šè¿‡&#x2F;æ–¹å¼è¿›å…¥åº•è¡Œæ¨¡å¼åï¼Œå¯ä»¥å¯¹æ–‡ä»¶å†…å®¹è¿›è¡ŒæŸ¥æ‰¾</li><li>é€šè¿‡:æ–¹å¼è¿›å…¥åº•è¡Œæ¨¡å¼åï¼Œå¯ä»¥è¾“å…¥wqï¼ˆä¿å­˜å¹¶é€€å‡ºï¼‰ã€q!ï¼ˆä¸ä¿å­˜é€€å‡ºï¼‰ã€set nuï¼ˆæ˜¾ç¤ºè¡Œå·ï¼‰</li></ul></li></ul></li></ul><h2 id="æŸ¥æ‰¾å‘½ä»¤"><a href="#æŸ¥æ‰¾å‘½ä»¤" class="headerlink" title="æŸ¥æ‰¾å‘½ä»¤"></a>æŸ¥æ‰¾å‘½ä»¤</h2><h3 id="åœ¨æŒ‡å®šç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶ï¼šfind-dirName-option-fileName"><a href="#åœ¨æŒ‡å®šç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶ï¼šfind-dirName-option-fileName" class="headerlink" title="åœ¨æŒ‡å®šç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶ï¼šfind dirName -option fileName"></a>åœ¨æŒ‡å®šç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶ï¼šfind dirName -option fileName</h3><ul><li>-optionä¸€èˆ¬æ˜¯-nameï¼Œå³æ ¹æ®æ–‡ä»¶åç§°æ¥æ‰¾</li><li>find . -name â€œ*.javaâ€ï¼šåœ¨å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸‹æŸ¥æ‰¾.javaç»“å°¾æ–‡ä»¶</li><li>find &#x2F;itcast -name â€œ*.javaâ€ï¼šåœ¨&#x2F;itcastç›®å½•åŠå…¶å­ç›®å½•ä¸‹æŸ¥æ‰¾.javaç»“å°¾çš„æ–‡ä»¶</li></ul><h3 id="ä»æŒ‡å®šæ–‡ä»¶ä¸­æŸ¥æ‰¾æŒ‡å®šçš„æ–‡æœ¬å†…å®¹-grep-word-fileName"><a href="#ä»æŒ‡å®šæ–‡ä»¶ä¸­æŸ¥æ‰¾æŒ‡å®šçš„æ–‡æœ¬å†…å®¹-grep-word-fileName" class="headerlink" title="ä»æŒ‡å®šæ–‡ä»¶ä¸­æŸ¥æ‰¾æŒ‡å®šçš„æ–‡æœ¬å†…å®¹ grep word fileName"></a>ä»æŒ‡å®šæ–‡ä»¶ä¸­æŸ¥æ‰¾æŒ‡å®šçš„æ–‡æœ¬å†…å®¹ grep word fileName</h3><ul><li>grep Hello Helloworld.javaï¼šæŸ¥æ‰¾HelloWorld.javaæ–‡ä»¶ä¸­å‡ºç°çš„Helloå­—ç¬¦ä¸²çš„ä½ç½®</li><li>grep hello *.javaï¼šæŸ¥æ‰¾å½“å‰ç›®å½•ä¸­æ‰€æœ‰.javaç»“å°¾çš„æ–‡ä»¶ä¸­åŒ…å«helloå­—ç¬¦ä¸²çš„ä½ç½®</li></ul>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
